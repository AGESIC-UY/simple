/*
 * GoJS™ v1.1.11 JavaScript Library for HTML Canvas Diagrams
 * Northwoods Software®, http://www.nwoods.com/
 *
 * Copyright © 1998-2013 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.1.11/doc/license.html.
 */
(function(window) { var f=void 0,h=!0,p=null,q=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function ca(a){return function(){return a}}var da,ea={};
if(document.createElement("canvas").getContext===f)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return a.EF===h});
Object.freeze||(Object.freeze=function(a){a.EF=h});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
for(var fa=0,ga=["ms","moz","webkit","o"],ha=0;ha<ga.length&&!window.requestAnimationFrame;++ha)window.requestAnimationFrame=window[ga[ha]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ga[ha]+"CancelAnimationFrame"]||window[ga[ha]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(8,16-(b-fa)),d=window.setTimeout(function(){a(b+c)},c);fa=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});
var u={eo:q,oD:q,nD:q,WG:q,rE:q,HD:q,QI:q,trace:function(a){window&&window.console&&window.console.log(a)},HC:q,assert:function(a,b){if(!a&&u.HC)throw window&&(u.trace(b),window.alert(b)),Error(b);},fs:p,kD:function(a,b){a===f&&(a=u.fs);b===f&&(b=a.el("").mb);var c=b.length,d=a.wa.getContext("2d");d.fillStyle="rgba(255,255,0,.3)";for(var e=0;e<c;e++){var g=b.ia(e),i=g.za;if(g.ya!==p)u.kD(a,g.ya);else{var j=g.fj.copy();j.pE(g.qd);d.save();d.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy);d.fillRect(i.x,
i.y,i.width,i.height);d.restore()}}},lD:function(a,b){a||(a=u.fs);b||(b=a.el("").mb);var c=a.wa.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.ia(e),i=g.Ma,j=g.fj;g.ya!==p?u.lD(a,g.ya):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy),c.fillRect(i.x,i.y,i.width,i.height),c.restore())}},RG:function(a,b){a||(a=u.fs);b||(b=a.el("").mb);var c=a.wa.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.ia(e),i=g.Da,j=g.fj;
g.ya!==p?u.RG(a,g.ya):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.dx,j.dy),c.fillRect(i.x||0,i.y||0,i.width,i.height),c.restore())}},zK:function(){u.lD();u.kD()},AK:function(a){a||(a=u.fs);var b=a.qc,a=a.wa.getContext("2d");a.strokeStyle="rgba(0,255,0,.9)";a.strokeRect(b.x,b.y,b.width,b.height)},SG:function(a,b){a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.5)";a.strokeRect(b.ub.x,b.ub.y,b.ub.width,b.ub.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.ae!==f&&(a.lineWidth=b.ae);b.ea!==p&&b.ea.type===
ia&&(a.lineWidth=1,a.strokeStyle="rgba(10,200,10,.6)",b.stroke!==f&&(a.strokeStyle=b.stroke),b.ae!==f&&(a.lineWidth=b.ae))},TG:function(a,b){a.lineWidth=1;a.strokeStyle="rgba(0,0,255,.5)";a.strokeRect(b.Ma.x,b.Ma.y,b.Ma.width,b.Ma.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.ae!==f&&(a.lineWidth=b.ae)},mD:function(a,b){for(var c=b.jb.length,d=0;d<c;d++)for(var e=b.jb.ia(d),g=e.mb.length,i=0;i<g;i++){var j=e.mb.ia(i);if(j.location!==f&&j.location!==p){if(j.location.R()){var k=j.location.x,l=j.location.y;
a.beginPath();a.strokeStyle="limegreen";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+10,l+20);a.stroke()}k=j.position.x;l=j.position.y;a.beginPath();a.strokeStyle="red";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+20,l+10);a.stroke()}}},UG:function(a,b,c,d,e){a.fillStyle="rgba(0,255,0,.2)";a.fillRect(b,c,d,e)},VG:function(a,b,c){a.save();var d=b.qd;d.reset();1!==b.Yb&&d.scale(b.Yb);b=b.nb;(0!==b.x||0!==b.y)&&d.translate(-b.x,
-b.y);a.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);c=c.Sc.o;d=c.length;for(b=0;b<d;b++){var e=c[b];a.beginPath();a.moveTo(e.x-4,e.y);a.lineTo(e.x+4,e.y);a.moveTo(e.x,e.y-4);a.lineTo(e.x,e.y+4);a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.9)";a.stroke()}a.restore()},pK:function(a){a||(a=u.fs);for(a=a.Bm;a.next();)u.trace(a.value.toString())},bM:function(a,b){var c=b.qh(a),d=b.bc;d.Gc=b.$o(c);d.N=c;return ja(b,d,a)},XL:function(a,b){b.vd(a.N)&&(b.Kg.fillStyle="lime",b.Kg.vl="lime",b.Kg.fillRect(a.Gc.x,
a.Gc.y,1*b.scale,1*b.scale))},YL:function(a){var b=la(a,q,p);if(!b.uo)for(var a=a.Kg,c=0;c<=b.dm;c++)for(var d=0;d<=b.em;d++){var e=b.Xb[c][d];if(e!==ma){var g=c*b.ld+b.nf,i=d*b.ad+b.of;0!==e&&(a.fillStyle="rgba(255, 0, 0, .2)",a.fillRect(g,i,b.ld,b.ad));e>=na||(e%=10,a.fillStyle="blue",a.fillText(e.toString(),g,i+b.ad))}}},XG:function(a){if(a instanceof w)for(a=a.Bm;a.next();){var b=a.value;x.trace(b.toString());for(b=b.$i;b.next();)u.XG(b.value)}else if(a instanceof z){x.trace("References for "+
a);a.Pa&&x.trace("  "+a.Pa.toString()+' LayerName: "'+a.Kd+'"');a.Uo!==a&&x.trace("  SelectionObject: "+a.Uo.toString()+' SelectionObjectName: "'+a.Vo+'"');a.Ub!==a&&x.trace("  LocationObject: "+a.Ub.toString()+' LocationObjectName: "'+a.Hs+'"');if(a.Pf){for(var c="",b=a.Pf.l;b.next();)c+=b.key+" ";x.trace("  Adornments: "+c)}a.Za&&x.trace("  ContainingGroup: "+a.Za.toString());if(a instanceof A){if(a.Tc)for(b=a.Tc.l;b.next(););if(0<a.Ud.count){c="";for(b=a.Ud;b.next();)c+=b.value.toString()+", ";
x.trace("  Links: "+c)}a.fd&&x.trace("  LabeledLink: "+a.fd.toString());if(a instanceof B){x.trace("  Placeholder: "+a.placeholder);c="";for(b=a.Ec;b.next();)c+=b.value.toString()+", ";x.trace("  Members: "+c);c="";for(b=a.Wl.l;b.next();)c+=b.value.toString()+", ";x.trace("  NestedGroups: "+c);x.trace("  Layout: "+a.Nb)}}else if(a instanceof F){x.trace("  Path: "+a.path);x.trace("  From: "+a.ja+" "+a.Lc+' "'+a.Oh+'"');x.trace("  To: "+a.na+" "+a.wd+' "'+a.bj+'"');c="";for(b=a.Yi;b.next();)c+=b.value.toString()+
", ";x.trace("  LabelNodes: "+c)}}},YG:function(a){if(a instanceof w)for(a=a.Bm;a.next();){var b=a.value;x.trace(b.toString());for(b=b.$i;b.next();)u.YG(b.value)}else a instanceof z&&(b=" ",a.lz&&(b+="c"),a.pz&&(b+="d"),a.Dz&&(b+="g"),a.Wz&&(b+="m"),a.jA&&(b+="h"),a.kA&&(b+="z"),a.lA&&(b+="o"),a.aj&&(b+="s"),a.yA&&(b+="t"),a.qA&&(b+="A"),a.As&&(b+="B"),a.Zv&&(b+="L"),a.Va&&(b+="S"),a.Am&&(b+="H"),u.rB(a,1,b))},rB:function(a,b,c){for(var d="",e=0;e<b;e++)d+="  ";d+=a.toString();c&&(d+=c);c=" ";c=a.visible?
c+"v":c+"~";a.bA&&(c+="p");a.Qh&&(c+="m");a.ys&&(c+="a");d=d+c+(" "+a.za.toString());a.Aa.R()&&(d+=" d:"+a.Aa.toString());a.Ma.R()&&(d+=" n:"+a.Ma.toString());1!==a.scale&&(d+=" s:"+a.scale);0!==a.angle&&(d+=" a:"+a.angle);a.background!==p&&(d+=" b:"+a.background.toString());a.Nj!==p&&(d+=" a:"+a.background.toString());a instanceof G&&(d+=" elts:"+a.ya.count,0!==a.EA&&(d+=" top:"+a.EA),0!==a.Mz&&(d+=" left:"+a.Mz),a.Fs!==p&&(d+=" itemArray#:"+a.Fs.length),a.DH&&(d+=" cat:"+a.DH),a.data!==p&&(d+=" data:"+
a.data));x.trace(d);if(a instanceof G)for(a=a.elements;a.next();)u.rB(a.value,b+1,"")}};ea.Debug=u;
var x={Bx:{},uB:0,DF:{},Vu:document.createElement("canvas").getContext("2d"),Wu:"",Ly:[],Mu:p,kB:[],yy:"ontouchstart"in window,gC:"ongesturestart"in window,fB:q,m:function(a){u&&u.HC&&alert(a);throw Error(a);},C:function(a,b){if(a.gb){var c="The object is frozen, so its properties cannot be set: "+a.toString();b!==f&&(c+="  to value: "+b);x.m(c)}},i:function(a,b,c,d){a instanceof b||(c=x.Ph(c),d!==f&&(c+="."+d),x.mc(a,b,c))},k:function(a,b,c,d){typeof a!==b&&(c=x.Ph(c),d!==f&&(c+="."+d),x.mc(a,b,
c))},n:function(a,b,c){isFinite(a)||(b=x.Ph(b),c!==f&&(b+="."+c),x.m(b+" must be a real number and not NaN or Infinity: "+a))},ob:function(a,b,c,d){if(!(a instanceof oa)||a.re!==b)c=x.Ph(c),d!==f&&(c+="."+d),x.mc(a,"a constant of class "+x.gl(b),c)},mc:function(a,b,c,d){b=x.Ph(b);c=x.Ph(c);d!==f&&(c+="."+d);x.m(c+" value is not an instance of "+b+": "+a)},ta:function(a,b,c,d){c=x.Ph(c);d!==f&&(c+="."+d);x.m(c+" is not in the range "+b+": "+a)},trace:function(a){window&&window.console&&window.console.log(a);
u&&u.QI&&x.m(a)},rb:function(a){return"object"===typeof a&&a!==p},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},cs:function(a,b,c){x.isArray(a)||x.mc(a,"Array or NodeList or HTMLCollection",b,c)},Zb:function(a){return a.length},Kb:function(a,b){return a[b]},FC:function(a,b,c){Array.isArray(a)?a[b]=c:x.m("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Yy:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=
0;d<c;d++)if(a[d]===b)return d;return-1},Ki:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):x.m("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},Li:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):x.m("Cannot remove an object from an HTMLCollection or NodeList at "+b)},PA:1,nc:function(a){a.__gohashid=x.PA++},vs:function(a){var b=a.__gohashid;b===f&&(b=x.PA++,a.__gohashid=b);return b},ic:function(a){return a.__gohashid},g:function(a,
b,c){"name"!==b&&"length"!==b&&(a[b]=c)},S:function(a,b){b.XA=a;ea[a]=b},Ja:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},defineProperty:function(a,b,c,d,e){x.k(a,"function","Util.defineProperty:classfunc");x.k(b,"object","Util.defineProperty:propobj");x.k(c,"function","Util.defineProperty:getter");x.k(d,"function","Util.defineProperty:setter");for(var g in b){b=b[g];c={get:c,set:d};if(e!==f)for(var i in e)c[i]=e[i];Object.defineProperty(a.prototype,
g,c);e=Object.getOwnPropertyDescriptor(a.prototype,g);b&&e&&Object.defineProperty(a.prototype,b,e);break}},u:function(a,b,c,d){x.k(a,"function","Util.defineReadOnlyProperty:classfunc");x.k(b,"object","Util.defineReadOnlyProperty:propobj");x.k(c,"function","Util.defineReadOnlyProperty:getter");for(var e in b){var g=b[e],b={get:c,set:function(a){x.m('The property "'+g+'" is read-only and cannot be set to '+a)}};if(d!==f)for(var i in d)b[i]=d[i];Object.defineProperty(a.prototype,e,b);d=Object.getOwnPropertyDescriptor(a.prototype,
e);g&&d&&Object.defineProperty(a.prototype,g,d);break}},jg:function(a,b){for(var c in b)b[c]=h;a.prototype.GF=b},Ph:function(a){return a===f?"":"string"===typeof a?a:"function"===typeof a?x.gl(a):a===p?"*":""},gl:function(a){return"function"===typeof a?a.XA:"object"===typeof a&&a.constructor?a.constructor.XA:typeof a},s:function(a,b,c){x.k(a,"function","Util.defineEnumValue:classfunc");x.k(b,"string","Util.defineEnumValue:name");x.k(c,"number","Util.defineEnumValue:num");c=new oa(a,b,c);Object.freeze(c);
a[b]=c;var d=a.OA;d||(d=new pa("string",oa),a.OA=d);d.add(b,c);return c},tm:function(a,b){if(!b)return p;x.k(a,"function","Util.findEnumValueForName:classfunc");x.k(b,"string","Util.findEnumValueForName:name");var c=a.OA;return!c?p:c.va(b)},FG:function(a,b,c,d){var e={},g;for(g in a){for(var i=q,j=1;j<arguments.length;j++)if(arguments[j]===g){i=h;break}i||(e[g]=a[g])}return e},$a:function(a,b){if(!a||!b)return p;var c=f;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),
c===p&&(c=f)):c=a[b]}catch(d){u&&x.trace("property get error: "+d.toString())}return c},Qa:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){u&&x.trace("property set error: "+d.toString())}},rA:function(a,b){x.k(a,"object","Setting properties requires Objects as arguments");x.k(b,"object","Setting properties requires Objects as arguments");var c=u;c||(u=x);var d=a instanceof G,e;for(e in b){var g=a,i=e;if(d){var j=e.indexOf(".");
if(0<j){var k=e.substring(0,j),g=a.Te(k);g!==p?i=e.substr(j+1):x.m("Unable to find object named: "+k+" in panel "+a.toString()+" when trying to set property: "+e)}}"_"!==i[0]&&!x.Ez(g,i)&&x.m('Trying to set undefined property "'+i+'" on object: '+g.toString());g[i]=b[e];"_"===i[0]&&(j=g.Dl,j||(j=[],g.Dl=j),j.push(i))}u=c;return a},Ez:function(a,b){for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return h;var d=c.GF;if(d&&d[b])return h;c=Object.getPrototypeOf(c)}return q},
LC:function(a,b){if(!x.rb(b)||b instanceof Element||b instanceof CanvasRenderingContext2D)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=x.$a(b,d);e!==p&&("function"!==typeof e&&!x.Ez(b,d))&&(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},vv:function(a,b){if(b&&!("number"===typeof b||"string"===typeof b||"boolean"===typeof b||"function"===typeof b))if(x.ic(b)!==
f){if(!x.Su.contains(b))if(x.Su.add(b),x.ru.add(x.LC(a,b)),b instanceof H||b instanceof qa||b instanceof pa)for(var c=b.l;c.next();)x.vv(a+"["+c.key+"]",c.value);else for(c in b){var d=x.$a(b,c);if(!(d===f||d===p||!x.rb(d))&&"_ownProperties"!==c){if(b instanceof ra){if("_lines"===c)continue}else if(b instanceof G){if("data"===c||"_data"===c)continue;if("itemArray"===c||"_itemArray"===c)continue}else if(!(b instanceof w))if(b instanceof xa){if("archetypeGroupData"===c||"_archetypeGroupData"===c)continue}else if(b instanceof
ya){if("archetypeLinkData"===c||"_archetypeLinkData"===c)continue;if("archetypeLabelNodeData"===c||"_archetypeLabelNodeData"===c)continue}else if(b instanceof za){if("archetypeNodeData"===c||"_archetypeNodeData"===c)continue}else if(b instanceof J){if("nodeDataArray"===c||"_nodeDataArray"===c)continue;if("linkDataArray"===c||"_linkDataArray"===c||"_linkDataSet"===c)continue;if("_mapKeyNodeData"===c||"_delayedNodeReferences"===c)continue}x.vv(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)x.vv(a+
"["+c+"]",b[c]);else x.ru.add(x.LC(a,b))},yG:function(a){x.Su===f?x.Su=new qa:x.Su.clear();x.ru=new Aa;x.vv("",a);a=x.ru.toString();x.ru=p;return a},jI:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",i=0;i<a.length;i++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(i)^b[(b[c]+b[d])%256]);return g},oH:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+
"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Ta:function(a){return x.jI(x.oH(a))},jt:p,Vy:"7da71ca0ad381e90",zG:"@COLOR1",AG:"@COLOR2"},Ba=x,Ca=document.createElement("canvas"),Da=Ca.getContext("2d");Da[x.Ta("7ca11abfd022028846")]=x.Ta("398c3597c01238");
for(var Ea=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22472913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],Ha=1;5>Ha;Ha++)Da[x.Ta("7ca11abfd7330390")](x.Ta(Ea[Ha-1]),10,15*Ha+0);Da[x.Ta("7ca11abfd022028846")]=x.Ta("39f046ebb36e4b");for(Ha=1;5>Ha;Ha++)Da[x.Ta("7ca11abfd7330390")](x.Ta(Ea[Ha-1]),10,15*Ha+0);Ba.jt=Ca;function oa(a,b,c){x.nc(this);this.WA=a;this.Hb=b;this.QF=c}
oa.prototype.toString=function(){return x.gl(this.WA)+"."+this.Hb};x.u(oa,{re:"classType"},t("WA"));x.u(oa,{name:"name"},t("Hb"));x.u(oa,{value:"value"},t("QF"));function Aa(){this.VA=[];this.VI=0;this.ZI="  "}Aa.prototype.toString=function(){return this.VA.join("")};Aa.prototype.add=function(a){a&&this.VA.push(a)};function Ja(){}x.u(Ja,{l:"iterator"},function(){return this});Ja.prototype.reset=Ja.prototype.reset=aa();Ja.prototype.next=Ja.prototype.next=ca(q);Ja.prototype.first=Ja.prototype.Fb=ca(p);
x.u(Ja,{count:"count"},ca(0));Ja.prototype.Mg=aa();Ja.prototype.toString=ca("EmptyIterator");x.Of=new Ja;function Ka(a){this.key=-1;this.value=a}x.jg(Ka,{key:h,value:h});x.u(Ka,{l:"iterator"},function(){return this});Ka.prototype.reset=Ka.prototype.reset=function(){this.key=-1};Ka.prototype.next=Ka.prototype.next=function(){return-1===this.key?(this.key=0,h):q};Ka.prototype.first=Ka.prototype.Fb=function(){this.key=0;return this.value};x.u(Ka,{count:"count"},ca(1));
Ka.prototype.Mg=function(){this.value=p};Ka.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function La(a){this.lf=a;this.xn=p;this.reset()}x.jg(La,{key:h,value:h});x.u(La,{l:"iterator"},function(){return this});x.g(La,"predicate",La.prototype.iw);x.defineProperty(La,{iw:"predicate"},t("xn"),ba("xn"));La.prototype.reset=La.prototype.reset=function(){var a=this.lf;a.uh=p;this.bb=a.Pb;this.ha=-1};
La.prototype.next=La.prototype.next=function(){var a=this.lf;a.Pb!==this.bb&&x.m("the List has been modified during iteration");var a=a.o,b=a.length,c=++this.ha,d=this.xn;if(d!==p)for(;c<b;){var e=a[c];if(d(e))return this.key=this.ha=c,this.value=e,h;c++}else{if(c<b)return this.key=c,this.value=a[c],h;this.Mg()}return q};
La.prototype.first=La.prototype.Fb=function(){var a=this.lf;this.bb=a.Pb;this.ha=0;var a=a.o,b=a.length,c=this.xn;if(c!==p){for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.ha=d,this.value=e;d++}return p}return 0<b?(e=a[0],this.key=0,this.value=e):p};x.u(La,{count:"count"},function(){var a=this.xn;if(a!==p){for(var b=0,c=this.lf.o,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.lf.o.length});La.prototype.Mg=function(){this.key=-1;this.value=p;this.bb=-1;this.xn=p;this.lf.uh=this};
La.prototype.toString=function(){return"ListIterator@"+this.ha+"/"+this.lf.count};function Ma(a){this.lf=a;this.reset()}x.jg(Ma,{key:h,value:h});x.u(Ma,{l:"iterator"},function(){return this});Ma.prototype.reset=Ma.prototype.reset=function(){var a=this.lf;a.Qx=p;this.bb=a.Pb;this.ha=a.o.length};Ma.prototype.next=Ma.prototype.next=function(){var a=this.lf;a.Pb!==this.bb&&x.m("the List has been modified during iteration");var b=--this.ha;if(0<=b)return this.key=b,this.value=a.o[b],h;this.Mg();return q};
Ma.prototype.first=Ma.prototype.Fb=function(){var a=this.lf;this.bb=a.Pb;var b=a.o;this.ha=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):p};x.u(Ma,{count:"count"},function(){return this.lf.o.length});Ma.prototype.Mg=function(){this.key=-1;this.value=p;this.bb=-1;this.lf.Qx=this};Ma.prototype.toString=function(){return"ListIteratorBackwards("+this.ha+"/"+this.lf.count+")"};
function H(a){x.nc(this);this.gb=q;this.o=[];this.Pb=0;this.Qx=this.uh=p;a===f||a===p?this.V=p:"string"===typeof a?"object"===a||"string"===a||"number"===a||"boolean"===a||"function"===a?this.V=a:x.ta(a,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.V=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:x.ta(a,"null, a primitive type name, or a class type","List constructor: type")}
x.S("List",H);H.prototype.Gg=function(a){this.V!==p&&("string"===typeof this.V?(typeof a!==this.V||a===p)&&x.mc(a,this.V):a instanceof this.V||x.mc(a,this.V))};H.prototype.Cd=function(){var a=this.Pb;a++;999999999<a&&(a=0);this.Pb=a};H.prototype.freeze=H.prototype.freeze=function(){this.gb=h;return this};H.prototype.thaw=H.prototype.Na=function(){this.gb=q;return this};H.prototype.toString=function(){return"List("+x.Ph(this.V)+")#"+x.ic(this)};
H.prototype.add=H.prototype.add=function(a){a!==p&&(u&&this.Gg(a),x.C(this,a),this.o.push(a),this.Cd())};H.prototype.addAll=H.prototype.Pe=function(a){if(a===p)return this;x.C(this);var b=this.o;if(x.isArray(a))for(var c=x.Zb(a),d=0;d<c;d++){var e=x.Kb(a,d);u&&this.Gg(e);b.push(e)}else for(a=a.l;a.next();)e=a.value,u&&this.Gg(e),b.push(e);this.Cd();return this};H.prototype.clear=H.prototype.clear=function(){x.C(this);this.o=[];this.Cd()};
H.prototype.contains=H.prototype.contains=function(a){if(a===p)return q;u&&this.Gg(a);return-1!==this.o.indexOf(a)};H.prototype.indexOf=H.prototype.indexOf=function(a){if(a===p)return-1;u&&this.Gg(a);return this.o.indexOf(a)};H.prototype.elt=H.prototype.ia=function(a){u&&x.n(a,H,"elt:i");var b=this.o;(0>a||a>=b.length)&&x.ta(a,"0 <= i < length",H,"elt:i");return b[a]};
H.prototype.setElt=H.prototype.qw=function(a,b){u&&(this.Gg(b),x.n(a,H,"setElt:i"));var c=this.o;(0>a||a>=c.length)&&x.ta(a,"0 <= i < length",H,"setElt:i");x.C(this,a);c[a]=b};H.prototype.first=H.prototype.Fb=function(){var a=this.o;return 0===a.length?p:a[0]};H.prototype.insertAt=H.prototype.Cc=function(a,b){u&&(this.Gg(b),x.n(a,H,"insertAt:i"));0>a&&x.ta(a,">= 0",H,"insertAt:i");x.C(this,a);var c=this.o;a>=c.length?c.push(b):c.splice(a,0,b);this.Cd();return h};
H.prototype.remove=H.prototype.remove=function(a){if(a===p)return q;u&&this.Gg(a);x.C(this,a);var b=this.o,a=b.indexOf(a);if(-1===a)return q;a===b.length-1?b.pop():b.splice(a,1);this.Cd();return h};H.prototype.removeAt=H.prototype.bf=function(a){u&&x.n(a,H,"removeAt:i");var b=this.o;(0>a||a>=b.length)&&x.ta(a,"0 <= i < length",H,"removeAt:i");x.C(this,a);a===b.length-1?b.pop():b.splice(a,1);this.Cd()};
H.prototype.removeRange=H.prototype.removeRange=function(a,b){u&&(x.n(a,H,"removeRange:from"),x.n(b,H,"removeRange:to"));var c=this.o;(0>a||a>=c.length)&&x.ta(a,"0 <= from < length",H,"elt:from");(0>b||b>=c.length)&&x.ta(b,"0 <= to < length",H,"elt:to");x.C(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.Cd()};H.prototype.copy=H.prototype.copy=function(){for(var a=new H(this.V),b=this.o,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};
H.prototype.toArray=H.prototype.Eg=function(){for(var a=[],b=this.o,c=this.count,d=0;d<c;d++)a.push(b[d]);return a};H.prototype.toSet=H.prototype.OI=function(){for(var a=new qa(this.V),b=this.o,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};H.prototype.sort=H.prototype.sort=function(a){u&&x.k(a,"function",H,"sort:sortfunc");x.C(this);this.o.sort(a);this.Cd();return this};
H.prototype.sortRange=H.prototype.Yo=function(a,b,c){var d=this.o,e=d.length;b===f&&(b=0);c===f&&(c=e);u&&(x.k(a,"function",H,"sortRange:sortfunc"),x.n(b,H,"sortRange:from"),x.n(c,H,"sortRange:to"));x.C(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&x.ta(b,"0 <= from < length",H,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.Cd()),this;if(0===b)if(c>=e)d.sort(a);else{g=d.slice(0,c);g.sort(a);for(a=0;a<c;a++)d[a]=g[a]}else if(c>=e){g=d.slice(b);g.sort(a);for(a=
b;a<e;a++)d[a]=g[a-b]}else{g=d.slice(b,c);g.sort(a);for(a=b;a<c;a++)d[a]=g[a-b]}this.Cd();return this};H.prototype.reverse=H.prototype.reverse=function(){x.C(this);this.o.reverse();this.Cd();return this};x.u(H,{count:"count"},function(){return this.o.length});x.u(H,{length:"length"},function(){return this.o.length});x.u(H,{l:"iterator"},function(){if(0>=this.o.length)return x.Of;var a=this.uh;return a!==p?(a.reset(),a):new La(this)});
x.u(H,{yo:"iteratorBackwards"},function(){if(0>=this.o.length)return x.Of;var a=this.Qx;return a!==p?(a.reset(),a):new Ma(this)});function Na(a){this.W=a;this.reset()}x.jg(Na,{key:h,value:h});x.u(Na,{l:"iterator"},function(){return this});Na.prototype.reset=Na.prototype.reset=function(){var a=this.W;a.uh=p;this.bb=a.Pb;this.Od=p};
Na.prototype.next=Na.prototype.next=function(){var a=this.W;a.Pb!==this.bb&&x.m("the Set has been modified during iteration");var b=this.Od,b=b===p?a.le:b.Aj;if(b!==p)return this.Od=b,this.value=b.value,this.key=b.key,h;this.Mg();return q};Na.prototype.first=Na.prototype.Fb=function(){var a=this.W;this.bb=a.Pb;a=a.le;if(a!==p){this.Od=a;var b=a.value;this.key=a.key;return this.value=b}return p};x.u(Na,{count:"count"},function(){return this.W.Fe});
Na.prototype.Mg=function(){this.value=p;this.bb=-1;this.W.uh=this};Na.prototype.toString=function(){return this.Od!==p?"SetIterator@"+this.Od.value:"SetIterator"};
function qa(a){x.nc(this);this.gb=q;a===f||a===p?this.V=p:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.V=a:x.ta(a,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.V=a===Object?"object":a===String?"string":a===Number?"number":a:x.ta(a,"null, a primitive type name, or a class type","Set constructor: type");this.Nc={};this.Fe=0;this.uh=p;this.Pb=0;this.vh=this.le=p}x.S("Set",qa);
qa.prototype.Gg=function(a){this.V!==p&&("string"===typeof this.V?(typeof a!==this.V||a===p)&&x.mc(a,this.V):a instanceof this.V||x.mc(a,this.V))};qa.prototype.Cd=function(){var a=this.Pb;a++;999999999<a&&(a=0);this.Pb=a};qa.prototype.freeze=qa.prototype.freeze=function(){this.gb=h;return this};qa.prototype.thaw=qa.prototype.Na=function(){this.gb=q;return this};qa.prototype.toString=function(){return"Set("+x.Ph(this.V)+")#"+x.ic(this)};
qa.prototype.add=qa.prototype.add=function(a){if(a===p)return q;u&&this.Gg(a);x.C(this,a);var b=a;x.rb(a)&&(b=x.vs(a));return this.Nc[b]===f?(this.Fe++,a=new Oa(a,a),this.Nc[b]=a,b=this.vh,b===p?this.le=a:(a.yn=b,b.Aj=a),this.vh=a,this.Cd(),h):q};qa.prototype.addAll=qa.prototype.Pe=function(a){if(a===p)return this;x.C(this);if(x.isArray(a))for(var b=x.Zb(a),c=0;c<b;c++)this.add(x.Kb(a,c));else for(a=a.l;a.next();)this.add(a.value);return this};
qa.prototype.contains=qa.prototype.contains=function(a){if(a===p)return q;u&&this.Gg(a);var b=a;return x.rb(a)&&(b=x.ic(a),b===f)?q:this.Nc[b]!==f};qa.prototype.containsAll=qa.prototype.cK=function(a){if(a===p)return h;for(a=a.l;a.next();)if(!this.contains(a.value))return q;return h};qa.prototype.containsAny=qa.prototype.dK=function(a){if(a===p)return h;for(a=a.l;a.next();)if(this.contains(a.value))return h;return q};qa.prototype.first=qa.prototype.Fb=function(){var a=this.le;return a===p?p:a.value};
qa.prototype.remove=qa.prototype.remove=function(a){if(a===p)return q;u&&this.Gg(a);x.C(this,a);var b=a;if(x.rb(a)&&(b=x.ic(a),b===f))return q;a=this.Nc[b];if(a===f)return q;var c=a.Aj,d=a.yn;c!==p&&(c.yn=d);d!==p&&(d.Aj=c);this.le===a&&(this.le=c);this.vh===a&&(this.vh=d);delete this.Nc[b];this.Fe--;this.Cd();return h};qa.prototype.removeAll=qa.prototype.hM=function(a){if(a===p)return this;x.C(this);for(a=a.l;a.next();)this.remove(a.value);return this};
qa.prototype.retainAll=qa.prototype.oM=function(a){if(a===p||0===this.count)return this;x.C(this);var b=new qa(this.V);b.Pe(a);for(var a=new H(this.V),c=this.l;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.l;b.next();)this.remove(b.value);return this};qa.prototype.clear=qa.prototype.clear=function(){x.C(this);this.Nc={};this.Fe=0;this.vh=this.le=p;this.Cd()};qa.prototype.copy=qa.prototype.copy=function(){var a=new qa(this.V),b=this.Nc,c;for(c in b)a.add(b[c].value);return a};
qa.prototype.toArray=qa.prototype.Eg=function(){var a=[],b=this.Nc,c;for(c in b)a.push(b[c].value);return a};qa.prototype.toList=qa.prototype.NI=function(){var a=new H(this.V),b=this.Nc,c;for(c in b)a.add(b[c]);return a};x.u(qa,{count:"count"},t("Fe"));x.u(qa,{l:"iterator"},function(){if(0>=this.Fe)return x.Of;var a=this.uh;return a!==p?(a.reset(),a):new Na(this)});function Pa(a){this.bd=a;this.reset()}x.jg(Pa,{key:h,value:h});x.u(Pa,{l:"iterator"},function(){return this});
Pa.prototype.reset=Pa.prototype.reset=function(){this.bb=this.bd.Pb;this.Od=p};Pa.prototype.next=Pa.prototype.next=function(){var a=this.bd;a.Pb!==this.bb&&x.m("the Map has been modified during iteration");var b=this.Od,b=b===p?a.le:b.Aj;if(b!==p)return this.Od=b,this.value=b.key,h;this.Mg();return q};Pa.prototype.first=Pa.prototype.Fb=function(){var a=this.bd;this.bb=a.Pb;a=a.le;if(a!==p){this.Od=a;var b=a.value;this.key=a.key;return this.value=b}return p};x.u(Pa,{count:"count"},function(){return this.bd.Fe});
Pa.prototype.Mg=function(){this.value=p;this.bb=-1};Pa.prototype.toString=function(){return this.Od!==p?"MapKeySetIterator@"+this.Od.value:"MapKeySetIterator"};function Qa(a){x.nc(this);this.bd=a}x.Ja(Qa,qa);Qa.prototype.freeze=function(){return this};Qa.prototype.Na=function(){return this};Qa.prototype.toString=function(){return"MapKeySet("+this.bd.toString()+")"};Qa.prototype.add=Qa.prototype.add=function(){x.m("This Set is read-only: "+this.toString());return q};
Qa.prototype.contains=Qa.prototype.contains=function(a){return this.bd.contains(a)};Qa.prototype.remove=Qa.prototype.remove=function(){x.m("This Set is read-only: "+this.toString());return q};Qa.prototype.clear=Qa.prototype.clear=function(){x.m("This Set is read-only: "+this.toString())};Qa.prototype.copy=Qa.prototype.copy=function(){return new Qa(this.bd)};Qa.prototype.toSet=Qa.prototype.OI=function(){var a=new qa(this.bd.V),b=this.bd.Nc,c;for(c in b)a.add(b[c].key);return a};
Qa.prototype.toArray=Qa.prototype.Eg=function(){var a=[],b=this.bd.Nc,c;for(c in b)a.push(b[c].key);return a};Qa.prototype.toList=Qa.prototype.NI=function(){var a=new H(this.V),b=this.bd.Nc,c;for(c in b)a.add(b[c].key);return a};x.u(Qa,{count:"count"},function(){return this.bd.Fe});x.u(Qa,{l:"iterator"},function(){return 0>=this.bd.Fe?x.Of:new Pa(this.bd)});function Oa(a,b){this.key=a;this.value=b;this.yn=this.Aj=p}x.jg(Oa,{key:h,value:h});
Oa.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function Ra(a){this.bd=a;this.reset()}x.jg(Ra,{key:h,value:h});x.u(Ra,{l:"iterator"},function(){return this});Ra.prototype.reset=Ra.prototype.reset=function(){var a=this.bd;a.uh=p;this.bb=a.Pb;this.Od=p};
Ra.prototype.next=Ra.prototype.next=function(){var a=this.bd;a.Pb!==this.bb&&x.m("the Map has been modified during iteration");var b=this.Od,b=b===p?a.le:b.Aj;if(b!==p)return this.Od=b,this.key=b.key,this.value=b.value,h;this.Mg();return q};Ra.prototype.first=Ra.prototype.Fb=function(){var a=this.bd;this.bb=a.Pb;a=a.le;if(a!==p){this.Od=a;var b=a.key;this.key=b;this.value=a.value;return b}return p};x.u(Ra,{count:"count"},function(){return this.bd.Fe});
Ra.prototype.Mg=function(){this.value=this.key=p;this.bb=-1;this.bd.uh=this};Ra.prototype.toString=function(){return this.Od!==p?"MapIterator@"+this.Od:"MapIterator"};
function pa(a,b){x.nc(this);this.gb=q;a===f||a===p?this.qi=p:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.qi=a:x.ta(a,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.qi=a===Object?"object":a===String?"string":a===Number?"number":a:x.ta(a,"null, a primitive type name, or a class type","Map constructor: keytype");b===f||b===p?this.Ji=p:"string"===typeof b?"object"===b||"string"===b||"boolean"===b||"number"===b||"function"===b?this.Ji=
b:x.ta(b,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"===typeof b?this.Ji=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:x.ta(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.Nc={};this.Fe=0;this.uh=p;this.Pb=0;this.vh=this.le=p}x.S("Map",pa);
function Sa(a,b){a.qi!==p&&("string"===typeof a.qi?(typeof b!==a.qi||b===p)&&x.mc(b,a.qi):b instanceof a.qi||x.mc(b,a.qi))}pa.prototype.Cd=function(){var a=this.Pb;a++;999999999<a&&(a=0);this.Pb=a};pa.prototype.freeze=pa.prototype.freeze=function(){this.gb=h;return this};pa.prototype.thaw=pa.prototype.Na=function(){this.gb=q;return this};pa.prototype.toString=function(){return"Map("+x.Ph(this.qi)+","+x.Ph(this.Ji)+")#"+x.ic(this)};
pa.prototype.add=pa.prototype.add=function(a,b){u&&(Sa(this,a),this.Ji!==p&&("string"===typeof this.Ji?(typeof b!==this.Ji||b===p)&&x.mc(b,this.Ji):b instanceof this.Ji||x.mc(b,this.Ji)));x.C(this,a);var c=a;x.rb(a)&&(c=x.vs(a));var d=this.Nc[c];if(d===f)return this.Fe++,d=new Oa(a,b),this.Nc[c]=d,c=this.vh,c===p?this.le=d:(d.yn=c,c.Aj=d),this.vh=d,this.Cd(),h;d.value=b;return q};
pa.prototype.addAll=pa.prototype.Pe=function(a){if(a===p)return this;u&&x.i(a,pa,pa,"addAll:map");for(a=a.l;a.next();)this.add(a.key,a.value);return this};pa.prototype.contains=pa.prototype.contains=function(a){u&&Sa(this,a);var b=a;return x.rb(a)&&(b=x.ic(a),b===f)?q:this.Nc[b]!==f};pa.prototype.getValue=pa.prototype.va=function(a){u&&Sa(this,a);var b=a;if(x.rb(a)&&(b=x.ic(a),b===f))return p;a=this.Nc[b];return a===f?p:a.value};
pa.prototype.remove=pa.prototype.remove=function(a){if(a===p)return q;u&&Sa(this,a);x.C(this,a);var b=a;if(x.rb(a)&&(b=x.ic(a),b===f))return q;a=this.Nc[b];if(a===f)return q;var c=a.Aj,d=a.yn;c!==p&&(c.yn=d);d!==p&&(d.Aj=c);this.le===a&&(this.le=c);this.vh===a&&(this.vh=d);delete this.Nc[b];this.Fe--;this.Cd();return h};pa.prototype.clear=pa.prototype.clear=function(){x.C(this);this.Nc={};this.Fe=0;this.vh=this.le=p;this.Cd()};
pa.prototype.copy=pa.prototype.copy=function(){var a=new pa(this.qi,this.Ji),b=this.Nc,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};pa.prototype.toArray=pa.prototype.Eg=function(){var a=[],b=this.Nc,c;for(c in b){var d=b[c];a.push(new Oa(d.key,d.value))}return a};pa.prototype.toKeySet=pa.prototype.ck=function(){return new Qa(this)};x.u(pa,{count:"count"},t("Fe"));x.u(pa,{l:"iterator"},function(){if(0>=this.count)return x.Of;var a=this.uh;return a!==p?(a.reset(),a):new Ra(this)});
function K(a,b){a===f?this.H=this.G=0:"number"===typeof a&&"number"===typeof b?(this.G=a,this.H=b):x.m("Invalid arguments to Point constructor")}x.S("Point",K);K.prototype.Ya=function(a){u&&x.i(a,K,K,"assign:p");this.G=a.G;this.H=a.H};K.prototype.W=function(a,b){this.G=a;this.H=b};K.prototype.setTo=K.prototype.Xo=function(a,b){u&&(x.k(a,"number",K,"setTo:x"),x.k(b,"number",K,"setTo:y"));x.C(this);this.G=a;this.H=b;return this};
K.prototype.set=K.prototype.set=function(a){u&&x.i(a,K,K,"set:p");x.C(this);this.G=a.G;this.H=a.H;return this};K.prototype.copy=K.prototype.copy=function(){var a=new K;a.G=this.G;a.H=this.H;return a};K.prototype.cb=function(){this.gb=h;Object.freeze(this);return this};K.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};K.prototype.freeze=function(){this.gb=h;return this};K.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;return this};
K.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new K(c,e)}return new K};K.stringify=function(a){return a instanceof K?a.x.toString()+" "+a.y.toString():a.toString()};K.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};K.prototype.equals=K.prototype.K=function(a){return!(a instanceof K)?q:this.G===a.x&&this.H===a.y};
K.prototype.equalTo=K.prototype.wz=function(a,b){return this.G===a&&this.H===b};K.prototype.Xj=function(a){return Ta(this.G,a.x)&&Ta(this.H,a.y)};K.prototype.Si=function(a){return Ua(this.G,a.x)&&Ua(this.H,a.y)};K.prototype.add=K.prototype.add=function(a){u&&x.i(a,K,K,"add:p");x.C(this);this.G+=a.x;this.H+=a.y;return this};K.prototype.subtract=K.prototype.dt=function(a){u&&x.i(a,K,K,"subtract:p");x.C(this);this.G-=a.x;this.H-=a.y;return this};
K.prototype.offset=K.prototype.offset=function(a,b){u&&(x.n(a,K,"offset:dx"),x.n(b,K,"offset:dy"));x.C(this);this.G+=a;this.H+=b;return this};K.prototype.rotate=K.prototype.rotate=function(a){u&&x.n(a,K,"rotate:angle");x.C(this);if(0===a)return this;var b=this.G,c=this.H;if(0===b&&0===c)return this;var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d);this.G=a*b-d*c;this.H=d*b+a*c;return this};
K.prototype.scale=K.prototype.scale=function(a,b){u&&(x.n(a,K,"scale:sx"),x.n(b,K,"scale:sy"));this.G*=a;this.H*=b;return this};K.prototype.distanceSquaredPoint=K.prototype.qm=function(a){u&&x.i(a,K,K,"distanceSquaredPoint:p");var b=a.x-this.G,a=a.y-this.H;return b*b+a*a};K.prototype.distanceSquared=K.prototype.qK=function(a,b){u&&(x.n(a,K,"distanceSquared:px"),x.n(b,K,"distanceSquared:py"));var c=a-this.G,d=b-this.H;return c*c+d*d};
K.prototype.normalize=K.prototype.normalize=function(){x.C(this);var a=this.G,b=this.H,c=Math.sqrt(a*a+b*b);0<c&&(this.G=a/c,this.H=b/c);return this};K.prototype.directionPoint=K.prototype.Oi=function(a){u&&x.i(a,K,K,"directionPoint:p");return Xa(a.x-this.G,a.y-this.H)};K.prototype.direction=K.prototype.direction=function(a,b){u&&(x.n(a,K,"direction:px"),x.n(b,K,"direction:py"));return Xa(a-this.G,b-this.H)};
function Xa(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}K.prototype.setRectSpot=K.prototype.Wo=function(a,b){u&&(x.i(a,L,K,"setRectSpot:r"),x.i(b,N,K,"setRectSpot:spot"));x.C(this);this.G=a.x+b.x*a.width+b.offsetX;this.H=a.y+b.y*a.height+b.offsetY;return this};
K.prototype.setSpot=K.prototype.Hm=function(a,b,c,d,e){u&&(x.n(a,K,"setSpot:x"),x.n(b,K,"setSpot:y"),x.n(c,K,"setSpot:w"),x.n(d,K,"setSpot:h"),(0>c||0>d)&&x.m("Point.setSpot:Width and height cannot be negative"),x.i(e,N,K,"setSpot:spot"));x.C(this);this.G=a+e.x*c+e.offsetX;this.H=b+e.y*d+e.offsetY;return this};K.prototype.transform=function(a){u&&x.i(a,Ya,K,"transform:t");a.Xa(this);return this};function $a(a,b){u&&x.i(b,Ya,K,"transformInverted:t");b.Vi(a);return a}var ab;
K.distanceLineSegmentSquared=ab=function(a,b,c,d,e,g){u&&(x.n(a,K,"distanceLineSegmentSquared:px"),x.n(b,K,"distanceLineSegmentSquared:py"),x.n(c,K,"distanceLineSegmentSquared:ax"),x.n(d,K,"distanceLineSegmentSquared:ay"),x.n(e,K,"distanceLineSegmentSquared:bx"),x.n(g,K,"distanceLineSegmentSquared:by"));var i=e-c,j=g-d,k=i*i+j*j,c=c-a,d=d-b,l=-c*i-d*j;if(0>=l||l>=k)return i=e-a,j=g-b,Math.min(c*c+d*d,i*i+j*j);a=i*d-j*c;return a*a/k};
K.distanceSquared=function(a,b,c,d){u&&(x.n(a,K,"distanceSquared:px"),x.n(b,K,"distanceSquared:py"),x.n(c,K,"distanceSquared:qx"),x.n(d,K,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var bb;
K.direction=bb=function(a,b,c,d){u&&(x.n(a,K,"direction:px"),x.n(b,K,"direction:py"),x.n(c,K,"direction:qx"),x.n(d,K,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};x.g(K,"x",K.prototype.x);x.defineProperty(K,{x:"x"},t("G"),function(a){x.C(this,a);u&&x.k(a,"number",K,"x");this.G=a});x.g(K,"y",K.prototype.y);
x.defineProperty(K,{y:"y"},t("H"),function(a){x.C(this,a);u&&x.k(a,"number",K,"y");this.H=a});K.prototype.isReal=K.prototype.R=function(){return isFinite(this.x)&&isFinite(this.y)};function cb(a,b){a===f?this.ra=this.sa=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.sa=a,this.ra=b):x.m("Invalid arguments to Size constructor")}x.S("Size",cb);cb.prototype.Ya=function(a){u&&x.i(a,cb,cb,"assign:s");this.sa=a.sa;this.ra=a.ra};
cb.prototype.W=function(a,b){this.sa=a;this.ra=b};cb.prototype.setTo=cb.prototype.Xo=function(a,b){u&&(x.k(a,"number",cb,"setTo:w"),x.k(b,"number",cb,"setTo:h"));0>a&&x.ta(a,">= 0",cb,"setTo:w");0>b&&x.ta(b,">= 0",cb,"setTo:h");x.C(this);this.sa=a;this.ra=b;return this};cb.prototype.set=cb.prototype.set=function(a){u&&x.i(a,cb,cb,"set:s");x.C(this);this.sa=a.sa;this.ra=a.ra;return this};cb.prototype.copy=cb.prototype.copy=function(){var a=new cb;a.sa=this.sa;a.ra=this.ra;return a};
cb.prototype.cb=function(){this.gb=h;Object.freeze(this);return this};cb.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};cb.prototype.freeze=function(){this.gb=h;return this};cb.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;return this};
cb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new cb(c,e)}return new cb};cb.stringify=function(a){return a instanceof cb?a.width.toString()+" "+a.height.toString():a.toString()};cb.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};
cb.prototype.equals=cb.prototype.K=function(a){return!(a instanceof cb)?q:this.sa===a.width&&this.ra===a.height};cb.prototype.equalTo=cb.prototype.wz=function(a,b){return this.sa===a&&this.ra===b};cb.prototype.Xj=function(a){return Ta(this.sa,a.width)&&Ta(this.ra,a.height)};cb.prototype.Si=function(a){return Ua(this.sa,a.width)&&Ua(this.ra,a.height)};x.g(cb,"width",cb.prototype.width);
x.defineProperty(cb,{width:"width"},t("sa"),function(a){x.C(this,a);u&&x.k(a,"number",cb,"width");0>a&&x.ta(a,">= 0",cb,"width");this.sa=a});x.g(cb,"height",cb.prototype.height);x.defineProperty(cb,{height:"height"},t("ra"),function(a){x.C(this,a);u&&x.k(a,"number",cb,"height");0>a&&x.ta(a,">= 0",cb,"height");this.ra=a});cb.prototype.isReal=cb.prototype.R=function(){return isFinite(this.width)&&isFinite(this.height)};
function L(a,b,c,d){a===f?this.ra=this.sa=this.H=this.G=0:a instanceof K?b instanceof K?(this.G=Math.min(a.G,b.G),this.H=Math.min(a.H,b.H),this.sa=Math.abs(a.G-b.G),this.ra=Math.abs(a.H-b.H)):b instanceof cb?(this.G=a.G,this.H=a.H,this.sa=b.sa,this.ra=b.ra):x.m("Incorrect arguments supplied"):"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.G=a,this.H=b,this.sa=c,this.ra=d):x.m("Invalid arguments to Rect constructor")}
x.S("Rect",L);L.prototype.Ya=function(a){u&&x.i(a,L,L,"assign:r");this.G=a.G;this.H=a.H;this.sa=a.sa;this.ra=a.ra};L.prototype.W=function(a,b,c,d){this.G=a;this.H=b;this.sa=c;this.ra=d};function db(a,b,c){a.sa=b;a.ra=c}L.prototype.setTo=L.prototype.Xo=function(a,b,c,d){u&&(x.k(a,"number",L,"setTo:x"),x.k(b,"number",L,"setTo:y"),x.k(c,"number",L,"setTo:w"),x.k(d,"number",L,"setTo:h"));0>c&&x.ta(c,">= 0",L,"setTo:w");0>d&&x.ta(d,">= 0",L,"setTo:h");x.C(this);this.G=a;this.H=b;this.sa=c;this.ra=d;return this};
L.prototype.set=L.prototype.set=function(a){u&&x.i(a,L,L,"set:r");x.C(this);this.G=a.G;this.H=a.H;this.sa=a.sa;this.ra=a.ra;return this};L.prototype.setPoint=L.prototype.L=function(a){u&&x.i(a,K,L,"setPoint:p");x.C(this);this.G=a.G;this.H=a.H;return this};L.prototype.setSize=L.prototype.zI=function(a){u&&x.i(a,cb,L,"setSize:s");x.C(this);this.sa=a.sa;this.ra=a.ra;return this};L.prototype.copy=L.prototype.copy=function(){var a=new L;a.G=this.G;a.H=this.H;a.sa=this.sa;a.ra=this.ra;return a};
L.prototype.cb=function(){this.gb=h;Object.freeze(this);return this};L.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};L.prototype.freeze=function(){this.gb=h;return this};L.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;return this};
L.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new L(c,e,g,i)}return new L};L.stringify=function(a){return a instanceof L?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};
L.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};L.prototype.equals=L.prototype.K=function(a){return!(a instanceof L)?q:this.G===a.x&&this.H===a.y&&this.sa===a.width&&this.ra===a.height};L.prototype.equalTo=L.prototype.wz=function(a,b,c,d){return this.G===a&&this.H===b&&this.sa===c&&this.ra===d};L.prototype.Xj=function(a){return Ta(this.G,a.x)&&Ta(this.H,a.y)&&Ta(this.sa,a.width)&&Ta(this.ra,a.height)};
L.prototype.Si=function(a){return Ua(this.G,a.x)&&Ua(this.H,a.y)&&Ua(this.sa,a.width)&&Ua(this.ra,a.height)};L.prototype.containsPoint=L.prototype.Ca=function(a){u&&x.i(a,K,L,"containsPoint:p");return this.G<=a.x&&this.G+this.sa>=a.x&&this.H<=a.y&&this.H+this.ra>=a.y};L.prototype.containsRect=L.prototype.mm=function(a){u&&x.i(a,L,L,"containsRect:r");return this.G<=a.x&&a.x+a.width<=this.G+this.sa&&this.H<=a.y&&a.y+a.height<=this.H+this.ra};
L.prototype.contains=L.prototype.contains=function(a,b,c,d){u?(x.n(a,L,"contains:x"),x.n(b,L,"contains:y"),c===f?c=0:x.n(c,L,"contains:w"),d===f?d=0:x.n(d,L,"contains:h"),(0>c||0>d)&&x.m("Rect.contains:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.G<=a&&a+c<=this.G+this.sa&&this.H<=b&&b+d<=this.H+this.ra};L.prototype.reset=function(){x.C(this);this.ra=this.sa=this.H=this.G=0};
L.prototype.offset=L.prototype.offset=function(a,b){u&&(x.n(a,L,"offset:dx"),x.n(b,L,"offset:dy"));x.C(this);this.G+=a;this.H+=b;return this};L.prototype.inflate=L.prototype.bh=function(a,b){u&&(x.n(a,L,"inflate:w"),x.n(b,L,"inflate:h"));return fb(this,b,a,b,a)};L.prototype.addMargin=L.prototype.Sn=function(a){u&&x.i(a,hb,L,"addMargin:m");return fb(this,a.top,a.right,a.bottom,a.left)};
L.prototype.subtractMargin=L.prototype.II=function(a){u&&x.i(a,hb,L,"subtractMargin:m");return fb(this,-a.top,-a.right,-a.bottom,-a.left)};L.prototype.grow=L.prototype.hL=function(a,b,c,d){u&&(x.n(a,L,"grow:t"),x.n(b,L,"grow:r"),x.n(c,L,"grow:b"),x.n(d,L,"grow:l"));return fb(this,a,b,c,d)};function fb(a,b,c,d,e){x.C(a);var g=a.sa;c+e<=-g?(a.G+=g/2,a.sa=0):(a.G-=e,a.sa+=c+e);c=a.ra;b+d<=-c?(a.H+=c/2,a.ra=0):(a.H-=b,a.ra+=b+d);return a}
L.prototype.intersectRect=L.prototype.uL=function(a){u&&x.i(a,L,L,"intersectRect:r");return ib(this,a.x,a.y,a.width,a.height)};L.prototype.intersect=L.prototype.tL=function(a,b,c,d){u&&(x.n(a,L,"intersect:x"),x.n(b,L,"intersect:y"),x.n(c,L,"intersect:w"),x.n(d,L,"intersect:h"),(0>c||0>d)&&x.m("Rect.intersect:Width and height cannot be negative"));return ib(this,a,b,c,d)};
function ib(a,b,c,d,e){x.C(a);var g=Math.max(a.G,b),i=Math.max(a.H,c),b=Math.min(a.G+a.sa,b+d),c=Math.min(a.H+a.ra,c+e);a.G=g;a.H=i;a.sa=Math.max(0,b-g);a.ra=Math.max(0,c-i);return a}L.prototype.intersectsRect=L.prototype.We=function(a){u&&x.i(a,L,L,"intersectsRect:r");return this.uH(a.x,a.y,a.width,a.height)};
L.prototype.intersects=L.prototype.uH=function(a,b,c,d){u&&(x.n(a,L,"intersects:x"),x.n(b,L,"intersects:y"),x.n(a,L,"intersects:w"),x.n(b,L,"intersects:h"),(0>c||0>d)&&x.m("Rect.intersects:Width and height cannot be negative"));var e=this.sa,g=this.G;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return q;a=this.ra;e=this.H;return Infinity!==a&&Infinity!==d&&(a+=e,d+=b,isNaN(d)||isNaN(a)||e>d||b>a)?q:h};
L.prototype.unionPoint=L.prototype.xw=function(a){u&&x.i(a,K,L,"unionPoint:p");return this.cc(a.x,a.y,0,0)};L.prototype.unionRect=L.prototype.cj=function(a){u&&x.i(a,L,L,"unionRect:r");return this.cc(a.G,a.H,a.sa,a.ra)};L.prototype.union=L.prototype.JM=function(a,b,c,d){x.C(this);u?(x.n(a,L,"union:x"),x.n(b,L,"union:y"),c===f?c=0:x.n(c,L,"union:w"),d===f?d=0:x.n(d,L,"union:h"),(0>c||0>d)&&x.m("Rect.union:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.cc(a,b,c,d)};
L.prototype.cc=function(a,b,c,d){var e=Math.min(this.G,a),g=Math.min(this.H,b),a=Math.max(this.G+this.sa,a+c),b=Math.max(this.H+this.ra,b+d);this.G=e;this.H=g;this.sa=a-e;this.ra=b-g;return this};L.prototype.setSpot=L.prototype.Hm=function(a,b,c){u&&(x.n(a,L,"setSpot:x"),x.n(b,L,"setSpot:y"),x.i(c,N,L,"setSpot:spot"));x.C(this);this.G=a-c.offsetX-c.x*this.sa;this.H=b-c.offsetY-c.y*this.ra;return this};var lb;
L.contains=lb=function(a,b,c,d,e,g,i,j){u?(x.n(a,L,"contains:rx"),x.n(b,L,"contains:ry"),x.n(c,L,"contains:rw"),x.n(d,L,"contains:rh"),x.n(e,L,"contains:x"),x.n(g,L,"contains:y"),i===f?i=0:x.n(i,L,"contains:w"),j===f?j=0:x.n(j,L,"contains:h"),(0>c||0>d||0>i||0>j)&&x.m("Rect.contains:Width and height cannot be negative")):(i===f&&(i=0),j===f&&(j=0));return a<=e&&e+i<=a+c&&b<=g&&g+j<=b+d};
L.intersects=function(a,b,c,d,e,g,i,j){u&&(x.n(a,L,"intersects:rx"),x.n(b,L,"intersects:ry"),x.n(c,L,"intersects:rw"),x.n(d,L,"intersects:rh"),x.n(e,L,"intersects:x"),x.n(g,L,"intersects:y"),x.n(i,L,"intersects:w"),x.n(j,L,"intersects:h"),(0>c||0>d||0>i||0>j)&&x.m("Rect.intersects:Width and height cannot be negative"));c+=a;i+=e;if(a>i||e>c)return q;a=d+b;j+=g;return b>j||g>a?q:h};x.g(L,"x",L.prototype.x);x.defineProperty(L,{x:"x"},t("G"),function(a){x.C(this,a);u&&x.k(a,"number",L,"x");this.G=a});
x.g(L,"y",L.prototype.y);x.defineProperty(L,{y:"y"},t("H"),function(a){x.C(this,a);u&&x.k(a,"number",L,"y");this.H=a});x.g(L,"width",L.prototype.width);x.defineProperty(L,{width:"width"},t("sa"),function(a){x.C(this,a);u&&x.k(a,"number",L,"width");0>a&&x.ta(a,">= 0",L,"width");this.sa=a});x.g(L,"height",L.prototype.height);x.defineProperty(L,{height:"height"},t("ra"),function(a){x.C(this,a);u&&x.k(a,"number",L,"height");0>a&&x.ta(a,">= 0",L,"height");this.ra=a});x.g(L,"left",L.prototype.left);
x.defineProperty(L,{left:"left"},t("G"),function(a){x.C(this,a);u&&x.k(a,"number",L,"left");this.G=a});x.g(L,"top",L.prototype.top);x.defineProperty(L,{top:"top"},t("H"),function(a){x.C(this,a);u&&x.k(a,"number",L,"top");this.H=a});x.g(L,"right",L.prototype.right);x.defineProperty(L,{right:"right"},function(){return this.G+this.sa},function(a){x.C(this,a);u&&x.n(a,L,"right");this.G+=a-(this.G+this.sa)});x.g(L,"bottom",L.prototype.bottom);
x.defineProperty(L,{bottom:"bottom"},function(){return this.H+this.ra},function(a){x.C(this,a);u&&x.n(a,L,"top");this.H+=a-(this.H+this.ra)});x.g(L,"position",L.prototype.position);x.defineProperty(L,{position:"position"},function(){return new K(this.G,this.H)},function(a){x.C(this,a);u&&x.i(a,K,L,"position");this.G=a.x;this.H=a.y});x.g(L,"size",L.prototype.size);
x.defineProperty(L,{size:"size"},function(){return new cb(this.sa,this.ra)},function(a){x.C(this,a);u&&x.i(a,cb,L,"size");this.sa=a.width;this.ra=a.height});x.g(L,"center",L.prototype.uv);x.defineProperty(L,{uv:"center"},function(){return new K(this.G+this.sa/2,this.H+this.ra/2)},function(a){x.C(this,a);u&&x.i(a,K,L,"center");this.G=a.x-this.sa/2;this.H=a.y-this.ra/2});x.g(L,"centerX",L.prototype.ua);
x.defineProperty(L,{ua:"centerX"},function(){return this.G+this.sa/2},function(a){x.C(this,a);u&&x.n(a,L,"centerX");this.G=a-this.sa/2});x.g(L,"centerY",L.prototype.Ba);x.defineProperty(L,{Ba:"centerY"},function(){return this.H+this.ra/2},function(a){x.C(this,a);u&&x.n(a,L,"centerY");this.H=a-this.ra/2});L.prototype.isReal=L.prototype.R=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};
L.prototype.isEmpty=L.prototype.vL=function(){return 0===this.width&&0===this.height};function hb(a,b,c,d){a===f?this.Vf=this.Rf=this.bg=this.fg=0:b===f?this.left=this.bottom=this.right=this.top=a:c===f?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):d!==f?(this.top=a,this.right=b,this.bottom=c,this.left=d):x.m("Invalid arguments to Margin constructor")}x.S("Margin",hb);hb.prototype.Ya=function(a){u&&x.i(a,hb,hb,"assign:m");this.fg=a.fg;this.bg=a.bg;this.Rf=a.Rf;this.Vf=a.Vf};
hb.prototype.setTo=hb.prototype.Xo=function(a,b,c,d){u&&(x.k(a,"number",hb,"setTo:t"),x.k(b,"number",hb,"setTo:r"),x.k(c,"number",hb,"setTo:b"),x.k(d,"number",hb,"setTo:l"));x.C(this);this.fg=a;this.bg=b;this.Rf=c;this.Vf=d;return this};hb.prototype.set=hb.prototype.set=function(a){u&&x.i(a,hb,hb,"assign:m");x.C(this);this.fg=a.fg;this.bg=a.bg;this.Rf=a.Rf;this.Vf=a.Vf;return this};hb.prototype.copy=hb.prototype.copy=function(){var a=new hb;a.fg=this.fg;a.bg=this.bg;a.Rf=this.Rf;a.Vf=this.Vf;return a};
hb.prototype.cb=function(){this.gb=h;Object.freeze(this);return this};hb.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};hb.prototype.freeze=function(){this.gb=h;return this};hb.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;return this};
hb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new hb(c,e,g,i)}return new hb};hb.stringify=function(a){return a instanceof hb?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};
hb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};hb.prototype.equals=hb.prototype.K=function(a){return!(a instanceof hb)?q:this.fg===a.top&&this.bg===a.right&&this.Rf===a.bottom&&this.Vf===a.left};hb.prototype.equalTo=hb.prototype.wz=function(a,b,c,d){return this.fg===a&&this.bg===b&&this.Rf===c&&this.Vf===d};hb.prototype.Xj=function(a){return Ta(this.fg,a.top)&&Ta(this.bg,a.right)&&Ta(this.Rf,a.bottom)&&Ta(this.Vf,a.left)};
hb.prototype.Si=function(a){return Ua(this.fg,a.top)&&Ua(this.bg,a.right)&&Ua(this.Rf,a.bottom)&&Ua(this.Vf,a.left)};x.g(hb,"top",hb.prototype.top);x.defineProperty(hb,{top:"top"},t("fg"),function(a){x.C(this,a);u&&x.n(a,hb,"top");this.fg=a});x.g(hb,"right",hb.prototype.right);x.defineProperty(hb,{right:"right"},t("bg"),function(a){x.C(this,a);u&&x.n(a,hb,"right");this.bg=a});x.g(hb,"bottom",hb.prototype.bottom);
x.defineProperty(hb,{bottom:"bottom"},t("Rf"),function(a){x.C(this,a);u&&x.n(a,hb,"bottom");this.Rf=a});x.g(hb,"left",hb.prototype.left);x.defineProperty(hb,{left:"left"},t("Vf"),function(a){x.C(this,a);u&&x.n(a,hb,"left");this.Vf=a});hb.prototype.isReal=hb.prototype.R=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function Ya(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}x.jg(Ya,{m11:h,m12:h,m21:h,m22:h,dx:h,dy:h});
Ya.prototype.set=Ya.prototype.set=function(a){u&&x.i(a,Ya,Ya,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};Ya.prototype.copy=Ya.prototype.copy=function(){var a=new Ya;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};Ya.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"};
Ya.prototype.equals=Ya.prototype.K=function(a){return!(a instanceof Ya)?q:this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy};Ya.prototype.reset=Ya.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0};
Ya.prototype.multiply=Ya.prototype.multiply=function(a){u&&x.i(a,Ya,Ya,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.dx+this.m21*a.dy+this.dx,g=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g;return this};
Ya.prototype.multiplyInverted=Ya.prototype.pE=function(a){u&&x.i(a,Ya,Ya,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,i=b*(a.m21*a.dy-a.m22*a.dx),j=b*(a.m12*a.dx-a.m11*a.dy),a=this.m12*c+this.m22*d,b=this.m11*e+this.m21*g,e=this.m12*e+this.m22*g,g=this.m11*i+this.m21*j+this.dx,i=this.m12*i+this.m22*j+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.dx=g;this.dy=i;return this};
Ya.prototype.invert=Ya.prototype.RD=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.dy-this.m22*this.dx),g=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g};
Ya.prototype.rotate=Ya.prototype.rotate=function(a,b,c){u&&(x.n(a,Ya,"rotate:angle"),x.n(b,Ya,"rotate:rx"),x.n(c,Ya,"rotate:ry"));this.translate(b,c);var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d),e=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,i=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=e;this.m21=g;this.m22=i;this.translate(-b,-c)};
Ya.prototype.translate=Ya.prototype.translate=function(a,b){u&&(x.n(a,Ya,"translate:x"),x.n(b,Ya,"translate:y"));this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b};Ya.prototype.scale=Ya.prototype.scale=function(a,b){b===f&&(b=a);u&&(x.n(a,Ya,"translate:sx"),x.n(b,Ya,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b};
Ya.prototype.transformPoint=Ya.prototype.Xa=function(a){u&&x.i(a,K,Ya,"transformPoint:p");var b=a.G,c=a.H;a.G=b*this.m11+c*this.m21+this.dx;a.H=b*this.m12+c*this.m22+this.dy;return a};Ya.prototype.invertedTransformPoint=Ya.prototype.Vi=function(a){u&&x.i(a,K,Ya,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.dx-this.m11*this.dy),g=a.G,i=a.H;a.G=g*this.m22*b+i*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.H=g*c+i*d+e;return a};
Ya.prototype.transformRect=Ya.prototype.jF=function(a){u&&x.i(a,L,Ya,"transformRect:rect");var b=a.G,c=a.H,d=b+a.sa,e=c+a.ra,g=this.m11,i=this.m12,j=this.m21,k=this.m22,l=this.dx,m=this.dy,n=b*g+c*j+l,r=b*i+c*k+m,s=d*g+c*j+l,c=d*i+c*k+m,v=b*g+e*j+l,b=b*i+e*k+m,g=d*g+e*j+l,d=d*i+e*k+m,e=n,i=r,n=Math.min(n,s),e=Math.max(e,s),i=Math.min(i,c),r=Math.max(r,c),n=Math.min(n,v),e=Math.max(e,v),i=Math.min(i,b),r=Math.max(r,b),n=Math.min(n,g),e=Math.max(e,g),i=Math.min(i,d),r=Math.max(r,d);a.G=n;a.H=i;a.sa=
e-n;a.ra=r-i};function ob(a,b){return new K(b.G*a.m11+b.H*a.m21+a.dx,b.G*a.m12+b.H*a.m22+a.dy)}Ya.prototype.isIdentity=Ya.prototype.zs=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};function N(a,b,c,d){a===f?this.Yf=this.Xf=this.H=this.G=0:(b===f&&(b=0),c===f&&(c=0),d===f&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}x.S("Spot",N);N.prototype.Ya=function(a){u&&x.i(a,N,N,"assign:s");this.G=a.G;this.H=a.H;this.Xf=a.Xf;this.Yf=a.Yf};
N.prototype.setTo=N.prototype.Xo=function(a,b,c,d){u&&(rb(a,"setTo:x"),rb(b,"setTo:y"),sb(c,"setTo:offx"),sb(d,"setTo:offy"));x.C(this);this.G=a;this.H=b;this.Xf=c;this.Yf=d;return this};N.prototype.set=N.prototype.set=function(a){u&&x.i(a,N,N,"set:s");x.C(this);this.G=a.G;this.H=a.H;this.Xf=a.Xf;this.Yf=a.Yf;return this};N.prototype.copy=N.prototype.copy=function(){var a=new N;a.G=this.G;a.H=this.H;a.Xf=this.Xf;a.Yf=this.Yf;return a};N.prototype.cb=function(){this.gb=h;Object.freeze(this);return this};
N.prototype.Q=function(){return Object.isFrozen(this)?this:this.copy().freeze()};N.prototype.freeze=function(){this.gb=h;return this};N.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;return this};function ub(a,b){a.G=NaN;a.H=NaN;a.Xf=b;return a}function rb(a,b){(isNaN(a)||1<a||0>a)&&x.ta(a,"0 <= "+b+" <= 1",N,b)}function sb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&x.ta(a,"real number, not NaN or Infinity",N,b)}var vb;
N.parse=vb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return x.NONE;if("TopLeft"===a)return x.Tw;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return x.fp;if("TopRight"===a)return x.Vw;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return x.dp;if("Center"===a)return x.Jw;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return x.ep;if("BottomLeft"===a)return x.Ew;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return x.cp;if("BottomRight"===a)return x.Gw;if("TopSide"===
a)return x.Xw;if("LeftSide"===a)return x.Mw;if("RightSide"===a)return x.Rw;if("BottomSide"===a)return x.Iw;if("TopBottomSides"===a)return x.Sw;if("LeftRightSides"===a)return x.Lw;if("TopLeftSides"===a)return x.Uw;if("TopRightSides"===a)return x.Ww;if("BottomLeftSides"===a)return x.Fw;if("BottomRightSides"===a)return x.Hw;if("NotTopSide"===a)return x.Qw;if("NotLeftSide"===a)return x.Ow;if("NotRightSide"===a)return x.Pw;if("NotBottomSide"===a)return x.Nw;if("AllSides"===a)return x.Dw;if("Default"===
a)return x.Kw;for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new N(c,e,g,i)}return new N};N.stringify=function(a){return a instanceof N?wb(a)?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
N.prototype.toString=function(){return wb(this)?0===this.Xf&&0===this.Yf?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.K(x.NONE)?"None":this.K(x.Tw)?"TopLeft":this.K(x.fp)?"Top":this.K(x.Vw)?"TopRight":this.K(x.dp)?"Left":this.K(x.Jw)?"Center":this.K(x.ep)?"Right":this.K(x.Ew)?"BottomLeft":this.K(x.cp)?"Bottom":this.K(x.Gw)?"BottomRight":this.K(x.Xw)?"TopSide":this.K(x.Mw)?"LeftSide":this.K(x.Rw)?"RightSide":this.K(x.Iw)?"BottomSide":this.K(x.Sw)?
"TopBottomSides":this.K(x.Lw)?"LeftRightSides":this.K(x.Uw)?"TopLeftSides":this.K(x.Ww)?"TopRightSides":this.K(x.Fw)?"BottomLeftSides":this.K(x.Hw)?"BottomRightSides":this.K(x.Qw)?"NotTopSide":this.K(x.Ow)?"NotLeftSide":this.K(x.Pw)?"NotRightSide":this.K(x.Nw)?"NotBottomSide":this.K(x.Dw)?"AllSides":this.K(x.Kw)?"Default":"None"};
N.prototype.equals=N.prototype.K=function(a){return!(a instanceof N)?q:(this.G===a.x||isNaN(this.G)&&isNaN(a.x))&&(this.H===a.y||isNaN(this.H)&&isNaN(a.y))&&this.Xf===a.offsetX&&this.Yf===a.offsetY};N.prototype.opposite=N.prototype.WL=function(){return new N(0.5-(this.G-0.5),0.5-(this.H-0.5),-this.Xf,-this.Yf)};N.prototype.includesSide=N.prototype.mL=function(a){if(!xb(this)||!xb(a))return q;a=a.offsetY;return(this.Yf&a)===a};x.g(N,"x",N.prototype.x);
x.defineProperty(N,{x:"x"},t("G"),function(a){x.C(this,a);u&&rb(a,"x");this.G=a});x.g(N,"y",N.prototype.y);x.defineProperty(N,{y:"y"},t("H"),function(a){x.C(this,a);u&&rb(a,"y");this.H=a});x.g(N,"offsetX",N.prototype.offsetX);x.defineProperty(N,{offsetX:"offsetX"},t("Xf"),function(a){x.C(this,a);u&&sb(a,"offsetX");this.Xf=a});x.g(N,"offsetY",N.prototype.offsetY);x.defineProperty(N,{offsetY:"offsetY"},t("Yf"),function(a){x.C(this,a);u&&sb(a,"offsetY");this.Yf=a});
function wb(a){return!isNaN(a.x)&&!isNaN(a.y)}function Ab(a){return isNaN(a.x)||isNaN(a.y)}function xb(a){return Ab(a)&&1===a.offsetX&&0!==a.offsetY}function Bb(a){return isNaN(a.x)&&isNaN(a.y)&&-1===a.offsetX&&0===a.offsetY}x.xd=1;x.Zc=2;x.kd=4;x.jd=8;x.NONE=ub(new N(0,0,0,0),0).cb();x.Kw=ub(new N(0,0,-1,0),-1).cb();x.Tw=(new N(0,0,0,0)).cb();x.fp=(new N(0.5,0,0,0)).cb();x.Vw=(new N(1,0,0,0)).cb();x.dp=(new N(0,0.5,0,0)).cb();x.Jw=(new N(0.5,0.5,0,0)).cb();x.ep=(new N(1,0.5,0,0)).cb();
x.Ew=(new N(0,1,0,0)).cb();x.cp=(new N(0.5,1,0,0)).cb();x.Gw=(new N(1,1,0,0)).cb();x.Xw=ub(new N(0,0,1,x.xd),1).cb();x.Mw=ub(new N(0,0,1,x.Zc),1).cb();x.Rw=ub(new N(0,0,1,x.kd),1).cb();x.Iw=ub(new N(0,0,1,x.jd),1).cb();x.Sw=ub(new N(0,0,1,x.xd|x.jd),1).cb();x.Lw=ub(new N(0,0,1,x.Zc|x.kd),1).cb();x.Uw=ub(new N(0,0,1,x.xd|x.Zc),1).cb();x.Ww=ub(new N(0,0,1,x.xd|x.kd),1).cb();x.Fw=ub(new N(0,0,1,x.jd|x.Zc),1).cb();x.Hw=ub(new N(0,0,1,x.jd|x.kd),1).cb();x.Qw=ub(new N(0,0,1,x.Zc|x.kd|x.jd),1).cb();
x.Ow=ub(new N(0,0,1,x.xd|x.kd|x.jd),1).cb();x.Pw=ub(new N(0,0,1,x.xd|x.Zc|x.jd),1).cb();x.Nw=ub(new N(0,0,1,x.xd|x.Zc|x.kd),1).cb();x.Dw=ub(new N(0,0,1,x.xd|x.Zc|x.kd|x.jd),1).cb();var Cb;N.None=Cb=x.NONE;var Db;N.Default=Db=x.Kw;var Eb;N.TopLeft=Eb=x.Tw;var Fb;N.TopCenter=Fb=x.fp;var Kb;N.TopRight=Kb=x.Vw;N.LeftCenter=x.dp;var Lb;N.Center=Lb=x.Jw;N.RightCenter=x.ep;var Mb;N.BottomLeft=Mb=x.Ew;var Nb;N.BottomCenter=Nb=x.cp;var Ob;N.BottomRight=Ob=x.Gw;var Pb;N.MiddleTop=Pb=x.fp;var Qb;
N.MiddleLeft=Qb=x.dp;var Rb;N.MiddleRight=Rb=x.ep;var Sb;N.MiddleBottom=Sb=x.cp;N.Top=x.fp;var Tb;N.Left=Tb=x.dp;var Ub;N.Right=Ub=x.ep;N.Bottom=x.cp;var Vb;N.TopSide=Vb=x.Xw;var Xb;N.LeftSide=Xb=x.Mw;var Yb;N.RightSide=Yb=x.Rw;var Zb;N.BottomSide=Zb=x.Iw;N.TopBottomSides=x.Sw;N.LeftRightSides=x.Lw;N.TopLeftSides=x.Uw;N.TopRightSides=x.Ww;N.BottomLeftSides=x.Fw;N.BottomRightSides=x.Hw;N.NotTopSide=x.Qw;N.NotLeftSide=x.Ow;N.NotRightSide=x.Pw;N.NotBottomSide=x.Nw;var $b;N.AllSides=$b=x.Dw;
var ac=4*((Math.sqrt(2)-1)/3),bc=(new K(0,0)).cb(),ec=(new cb(Infinity,Infinity)).cb(),fc=(new K(-Infinity,-Infinity)).cb(),gc=(new K(Infinity,Infinity)).cb(),mc=(new cb(0,0)).cb(),nc=(new K(NaN,NaN)).cb(),oc=p;function qc(a){if(0>=a)return 0;var b=oc;if(b===p){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);oc=b}return 1>a?(c=1/a,2E3>=c?1/b[c|0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)}function Ua(a,b){var c=a-b;return 0.5>c&&-0.5<c}function Ta(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function rc(a,b,c,d,e,g,i){0>=e&&(e=1E-6);var j,k,l,m;a<c?(k=a,j=c):(k=c,j=a);b<d?(m=b,l=d):(m=d,l=b);if(a===c)return m<=i&&i<=l&&a-e<=g&&g<=a+e;if(b===d)return k<=g&&g<=j&&b-e<=i&&i<=b+e;j+=e;k-=e;if(k<=g&&g<=j&&(l+=e,m-=e,m<=i&&i<=l))if(j-k>l-m)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=i&&i<=g+e)return h}else return h;else if(b-d>e||d-b>e){if(i=(c-a)/(d-b)*(i-b)+a,i-e<=g&&g<=i+e)return h}else return h;return q}
function sc(a,b,c,d,e,g,i,j,k,l,m,n){if(!rc(a,b,i,j,n,c,d)||!rc(a,b,i,j,n,e,g)){var r=(a+c)/2,s=(b+d)/2,v=(c+e)/2,y=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(r+v)/2,c=(s+y)/2,v=(v+e)/2,y=(y+g)/2,C=(d+v)/2,D=(c+y)/2;return sc(a,b,r,s,d,c,C,D,k,l,m,n)||sc(C,D,v,y,e,g,i,j,k,l,m,n)}return rc(a,b,i,j,n,l,m)}
function tc(a,b,c,d,e,g,i,j,k,l){if(!rc(a,b,i,j,k,c,d)||!rc(a,b,i,j,k,e,g)){var m=(a+c)/2,n=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(m+r)/2,c=(n+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;tc(a,b,m,n,d,c,v,y,k,l);tc(v,y,r,s,e,g,i,j,k,l)}else l.cc(a,b,0,0),l.cc(i,j,0,0)}
function uc(a,b,c,d,e,g,i,j,k,l){if(!rc(a,b,i,j,k,c,d)||!rc(a,b,i,j,k,e,g)){var m=(a+c)/2,n=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(m+r)/2,c=(n+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;uc(a,b,m,n,d,c,v,y,k,l);uc(v,y,r,s,e,g,i,j,k,l)}else 0===l.length&&l.push([a,b]),l.push([i,j])}function xc(a,b,c,d,e,g,i,j,k,l){if(rc(a,b,e,g,l,c,d))return rc(a,b,e,g,l,j,k);var m=(a+c)/2,n=(b+d)/2,c=(c+e)/2,d=(d+g)/2,r=(m+c)/2,s=(n+d)/2;return xc(a,b,m,n,r,s,i,j,k,l)||xc(r,s,c,d,e,g,i,j,k,l)}
function yc(a,b,c,d,e,g,i,j){if(rc(a,b,e,g,i,c,d))j.cc(a,b,0,0),j.cc(e,g,0,0);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,n=(l+d)/2;yc(a,b,k,l,m,n,i,j);yc(m,n,c,d,e,g,i,j)}}function zc(a,b,c,d,e,g,i,j){if(rc(a,b,e,g,i,c,d))0===j.length&&j.push([a,b]),j.push([e,g]);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,n=(l+d)/2;zc(a,b,k,l,m,n,i,j);zc(m,n,c,d,e,g,i,j)}}
function Ac(a,b,c,d,e,g,i,j,k,l,m,n,r,s){0>=r&&(r=1E-6);if(!rc(a,b,i,j,r,c,d)||!rc(a,b,i,j,r,e,g)){var v=(a+c)/2,y=(b+d)/2,c=(c+e)/2,d=(d+g)/2,e=(e+i)/2,g=(g+j)/2,C=(v+c)/2,D=(y+d)/2,c=(c+e)/2,d=(d+g)/2,I=(C+c)/2,E=(D+d)/2,M=(m-k)*(m-k)+(n-l)*(n-l),O=q;Ac(a,b,v,y,C,D,I,E,k,l,m,n,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M&&(M=a,O=h));b=s.x;v=s.y;Ac(I,E,c,d,e,g,i,j,k,l,m,n,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M?O=h:(s.x=b,s.y=v));return O}v=(a-i)*(l-n)-(b-j)*(k-m);if(!v)return q;r=((a*j-b*i)*
(k-m)-(a-i)*(k*n-l*m))/v;v=((a*j-b*i)*(l-n)-(b-j)*(k*n-l*m))/v;if((k>m?k-m:m-k)<(l>n?l-n:n-l)){if(b<j?(k=b,i=j):(k=j,i=b),v<k||v>i)return q}else if(a<i?k=a:(k=i,i=a),r<k||r>i)return q;s.x=r;s.y=v;return h}
function Dc(a,b,c,d,e,g,i,j,k,l,m,n,r){var s=0;0>=r&&(r=1E-6);if(!rc(a,b,i,j,r,c,d)||!rc(a,b,i,j,r,e,g))var v=(a+c)/2,y=(b+d)/2,C=(c+e)/2,D=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(v+C)/2,c=(y+D)/2,C=(C+e)/2,D=(D+g)/2,I=(d+C)/2,E=(c+D)/2,s=s+Dc(a,b,v,y,d,c,I,E,k,l,m,n,r),s=s+Dc(I,E,C,D,e,g,i,j,k,l,m,n,r);else{r=(a-i)*(l-n)-(b-j)*(k-m);if(!r)return s;v=((a*j-b*i)*(k-m)-(a-i)*(k*n-l*m))/r;y=((a*j-b*i)*(l-n)-(b-j)*(k*n-l*m))/r;if(v>=m)return s;if((k>m?k-m:m-k)<(l>n?l-n:n-l)){if(b<j?(k=b,a=j):(k=j,a=b),y<k||y>
a)return s}else if(a<i?(k=a,a=i):k=i,v<k||v>a)return s;0<r?s++:0>r&&s--}return s}function Ec(a,b,c,d,e,g,i){if(Ta(a,c)){var j;b<d?(j=b,c=d):(j=d,c=b);d=g;if(d<j)return i.x=a,i.y=j,q;if(d>c)return i.x=a,i.y=c,q;i.x=a;i.y=d;return h}if(Ta(b,d)){a<c?j=a:(j=c,c=a);d=e;if(d<j)return i.x=j,i.y=b,q;if(d>c)return i.x=c,i.y=b,q;i.x=d;i.y=b;return h}j=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>j)return i.x=a,i.y=b,q;if(1.000005<j)return i.x=c,i.y=d,q;i.x=a+j*(c-a);i.y=b+j*(d-b);return h}
function Fc(a,b,c,d,e,g,i,j,k){if(Ua(a,c)&&Ua(b,d))return k.x=a,k.y=b,q;if(Ta(e,i)){if(Ta(a,c))return Ec(a,b,c,d,e,g,k),q;g=(d-b)/(c-a)*(e-a)+b;return Ec(a,b,c,d,e,g,k)}j=(j-g)/(i-e);if(Ta(a,c)){g=j*(a-e)+g;b<d?(i=b,c=d):(i=d,c=b);if(g<i)return k.x=a,k.y=i,q;if(g>c)return k.x=a,k.y=c,q;k.x=a;k.y=g;return h}i=(d-b)/(c-a);if(Ta(j,i))return Ec(a,b,c,d,e,g,k),q;e=(i*a-j*e+g-b)/(i-j);if(Ta(i,0)){a<c?i=a:(i=c,c=a);if(e<i)return k.x=i,k.y=b,q;if(e>c)return k.x=c,k.y=b,q;k.x=e;k.y=b;return h}g=i*(e-a)+b;
return Ec(a,b,c,d,e,g,k)}
function Gc(a,b,c,d,e,g,i,j,k){function l(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<m&&(m=e,k.x=c,k.y=d)}var m=Infinity;l(k.x,k.y);var n,r,s,v;e<i?(n=e,r=i):(n=i,r=e);g<j?(s=e,v=i):(s=i,v=e);n=(r-n)/2+0;s=(v-s)/2+0;e=(e+i)/2;g=(g+j)/2;0===n||0===s||(0.5>(c>a?c-a:a-c)?(n=1-(c-e)*(c-e)/(n*n),0>n||(n=Math.sqrt(n),d=-s*n+g,l(c,s*n+g),l(c,d))):(c=(d-b)/(c-a),d=1/(n*n)+c*c/(s*s),j=2*c*(b-c*a)/(s*s)-2*c*g/(s*s)-2*e/(n*n),s=j*j-4*d*(2*c*a*g/(s*s)-2*b*g/(s*s)+g*g/(s*s)+e*e/(n*n)-1+(b-c*a)*(b-c*a)/(s*s)),0>s||(n=
Math.sqrt(s),s=(-j+n)/(2*d),l(s,c*s-c*a+b),s=(-j-n)/(2*d),l(s,c*s-c*a+b))))}function Hc(a,b,c,d,e,g,i,j,k){var l=1E21,m=a,n=b;if(Fc(a,b,a,d,e,g,i,j,k)){var r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g);r<l&&(l=r,m=k.x,n=k.y)}Fc(c,b,c,d,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));Fc(a,b,c,b,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));Fc(a,d,c,d,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,n=k.y));k.x=m;k.y=n;return 1E21>l}
function Ic(a,b,c){var d=b.x,e=b.y,g=c.x,i=c.y,j=a.left,k=a.right,l=a.top,m=a.bottom;return d===g?(e<i?(a=e,g=i):(a=i,g=e),j<=d&&d<=k&&a<=m&&g>=l):e===i?(d<g?a=d:(a=g,g=d),l<=e&&e<=m&&a<=k&&g>=j):a.Ca(b)||a.Ca(c)||Jc(j,l,k,l,d,e,g,i)||Jc(k,l,k,m,d,e,g,i)||Jc(k,m,j,m,d,e,g,i)||Jc(j,m,j,l,d,e,g,i)?h:q}function Jc(a,b,c,d,e,g,i,j){return 0>=Kc(a,b,c,d,e,g)*Kc(a,b,c,d,i,j)&&0>=Kc(e,g,i,j,a,b)*Kc(e,g,i,j,c,d)}
function Kc(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function Lc(a){0>a&&(a+=360);360<=a&&(a-=360);return a}
function Nc(a,b,c,d,e,g){var i=Math.PI;g||(d*=i/180,e*=i/180);for(var g=d<e?1:-1,j=[],k=i/2,l=d,d=Math.min(2*i+1E-5,Math.abs(e-d));1E-5<d;){var e=l+g*Math.min(d,k),m=(e-l)/2,n=c*Math.cos(m),r=c*Math.sin(m),s=0.5522847498*Math.tan(m),i=n+s*r,n=-r+s*n,r=-n,s=m+l,m=Math.cos(s),s=Math.sin(s);j.push({x1:a+c*Math.cos(l),y1:b+c*Math.sin(l),x2:a+i*m-n*s,y2:b+i*s+n*m,Mf:a+i*m-r*s,Nf:b+i*s+r*m,gd:a+c*Math.cos(e),hd:b+c*Math.sin(e)});d-=Math.abs(e-l);l=e}return j}
function Rc(a,b,c,d,e,g){var c=Math.floor((a-c)/e)*e+c,d=Math.floor((b-d)/g)*g+d,i=c;c+e-a<e/2&&(i=c+e);a=d;d+g-b<g/2&&(a=d+g);return new K(i,a)}function Sc(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function Tc(a){x.nc(this);a===f?a=Uc:u&&x.ob(a,Tc,Tc,"constructor:type");this.V=a;this.Oc=this.Hc=this.Tb=this.Ib=0;this.yk=new H(Vc);this.Qt=this.yk.Pb;this.Ct=(new L).freeze();this.Sa=h;this.NF=new K;this.Ei=Eb;this.Fi=Ob;this.bu=this.cu=NaN;this.Yd=mc;this.ec=Wc}x.S("Geometry",Tc);
Tc.prototype.copy=Tc.prototype.copy=function(){var a=new Tc;a.V=this.V;a.Ib=this.Ib;a.Tb=this.Tb;a.Hc=this.Hc;a.Oc=this.Oc;for(var b=this.yk,c=b.length,d=a.yk,e=0;e<c;e++){var g=b.o[e].copy();d.add(g)}a.Qt=this.Qt;a.Ct.Ya(this.Ct);a.Sa=this.Sa;a.Ei=this.Ei.Q();a.Fi=this.Fi.Q();a.cu=this.cu;a.bu=this.bu;a.Yd=this.Yd.Q();a.ec=this.ec;return a};var Xc;Tc.Line=Xc=x.s(Tc,"Line",0);var Zc;Tc.Rectangle=Zc=x.s(Tc,"Rectangle",1);var $c;Tc.Ellipse=$c=x.s(Tc,"Ellipse",2);var Uc;Tc.Path=Uc=x.s(Tc,"Path",3);
Tc.prototype.cb=function(){this.freeze();Object.freeze(this);return this};Tc.prototype.freeze=function(){this.gb=h;var a=this.yb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.o[c].freeze();return this};Tc.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;var a=this.yb;a.Na();for(var b=a.length,c=0;c<b;c++)a.o[c].Na();return this};
Tc.prototype.equalsApprox=Tc.prototype.Xj=function(a){if(!(a instanceof Tc))return q;if(this.type!==a.type)return this.type===Xc&&a.type===Uc?ad(this,a):a.type===Xc&&this.type===Uc?ad(a,this):q;if(this.type===Uc){var b=this.yb,a=a.yb,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.o[d].Xj(a.o[d]))return q;return h}return Ua(this.pa,a.pa)&&Ua(this.qa,a.qa)&&Ua(this.D,a.D)&&Ua(this.F,a.F)};
function ad(a,b){if(a.type!==Xc||b.type!==Uc)return q;if(1===b.yb.count){var c=b.yb.ia(0);if(1===c.Fa.count&&(Ua(a.pa,c.pa)&&Ua(a.qa,c.qa))&&(c=c.Fa.ia(0),c.type===bd&&Ua(a.D,c.D)&&Ua(a.F,c.F)))return h}return q}var cd;Tc.stringify=cd=function(a){return a.toString()};
Tc.prototype.toString=function(a){switch(this.type){case Xc:return a===f?"M"+this.pa.toString()+" "+this.qa.toString()+"L"+this.D.toString()+" "+this.F.toString():"M"+this.pa.toFixed(a)+" "+this.qa.toFixed(a)+"L"+this.D.toFixed(a)+" "+this.F.toFixed(a);case Zc:var b=new L(this.pa,this.qa,0,0);b.cc(this.D,this.F,0,0);return a===f?"M"+b.x.toString()+" "+b.y.toString()+"H"+b.right.toString()+"V"+b.bottom.toString()+"H"+b.left.toString()+"z":"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+
"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case $c:b=new L(this.pa,this.qa,0,0);b.cc(this.D,this.F,0,0);if(a===f){var c=b.left.toString()+" "+(b.y+b.height/2).toString(),d=b.right.toString()+" "+(b.y+b.height/2).toString();return"M"+c+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+d+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+c}c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);d=b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/
2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+d+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case Uc:for(var b="",c=this.yb,d=c.length,e=0;e<d;e++){var g=c.o[e];0<e&&(b+=" x ");g.wo&&(b+="F ");b+=g.toString(a)}return b;default:return this.type.toString()}};var dd;
Tc.fillPath=dd=function(a){"string"!==typeof a&&x.mc(a,"string",Tc,"fillPath:str");for(var a=a.split(/[Xx]/),b=a.length,c="",d=0;d<b;d++)var e=a[d],c=e.match(/[Ff]/)!==p?0===d?c+e:c+("X"+(" "===e[0]?"":" ")+e):c+((0===d?"":"X ")+"F"+(" "===e[0]?"":" ")+e);return c};var ed;
Tc.parse=ed=function(a,b){function c(){return l>=y-1?h:k[l+1].match(/[A-Za-z]/)!==p}function d(){l++;return k[l]}function e(){var a=new K(parseFloat(d()),parseFloat(d()));m===m.toLowerCase()&&(a.x=v.x+a.x,a.y=v.y+a.y);return a}function g(){return v=e()}function i(){return s=e()}function j(){return"c"!==n.toLowerCase()&&"s"!==n.toLowerCase()?v:new K(2*v.x-s.x,2*v.y-s.y)}b===f&&(b=q);"string"!==typeof a&&x.mc(a,"string",Tc,"parse:str");for(var a=a.replace(/,/gm," "),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=a.replace(/[\s\r\t\n]+/gm," "),a=a.replace(/^\s+|\s+$/g,""),k=a.split(" "),l=-1,m="",n="",r=new K(0,0),s=new K(0,0),v=new K(0,0),y=
k.length,C=new P,D,I=q,E=q,M=h;!(l>=y-1);)if(n=m,m=d(),""!==m)switch(m.toUpperCase()){case "X":M=h;E=I=q;break;case "M":D=g();C.Sb===p||M===h?(Q(C,D.x,D.y,I,q,!E),M=q):C.moveTo(D.x,D.y);for(r=v;!c();)D=g(),C.lineTo(D.x,D.y);break;case "L":for(;!c();)D=g(),C.lineTo(D.x,D.y);break;case "H":for(;!c();)v=D=new K((m===m.toLowerCase()?v.x:0)+parseFloat(d()),v.y),C.lineTo(v.x,v.y);break;case "V":for(;!c();)v=D=new K(v.x,(m===m.toLowerCase()?v.y:0)+parseFloat(d())),C.lineTo(v.x,v.y);break;case "C":for(;!c();){var O=
e(),X=i();D=g();R(C,O.x,O.y,X.x,X.y,D.x,D.y)}break;case "S":for(;!c();)O=j(),X=i(),D=g(),R(C,O.x,O.y,X.x,X.y,D.x,D.y);break;case "Q":for(;!c();)X=i(),D=g(),fd(C,X.x,X.y,D.x,D.y);break;case "T":for(;!c();)s=X=j(),D=g(),fd(C,X.x,X.y,D.x,D.y);break;case "B":for(;!c();)D=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())],c()||(D.push(parseFloat(d())),c()||D.push(parseFloat(d()))),m===m.toLowerCase()&&(D[2]+=v.x,D[3]+=v.y),C.arcTo(D[0],D[1],D[2],D[3],D[4],D[5],D[6]);break;
case "A":for(;!c();){var X=Math.abs(parseFloat(d())),sa=Math.abs(parseFloat(d())),ka=parseFloat(d()),va=!!parseFloat(d()),Fa=!!parseFloat(d());D=g();var O=C,Ga=D.x;D=D.y;O.q===p&&x.m("StreamGeometryContext has been closed");O.Sb===p&&x.m("Need to call beginFigure first");D=new S(gd,Ga,D,X,sa,ka,va,Fa);O.Sb.Fa.add(D)}break;case "Z":hd(C);v=r;break;case "F":D=p;for(O=1;k[l+O];)if(k[l+O].match(/[Uu]/)!==p)O++;else if(k[l+O].match(/[A-Za-z]/)===p)O++;else{D=k[l+O];break}D.match(/[Mm]/)?I=h:(D=C,D.q===
p&&x.m("StreamGeometryContext has been closed"),D.Sb===p&&x.m("Need to call beginFigure first"),0<D.Sb.Fa.length&&(D.Sb.wo=h));break;case "U":D=p;for(O=1;k[l+O];)if(k[l+O].match(/[Ff]/)!==p)O++;else if(k[l+O].match(/[A-Za-z]/)===p)O++;else{D=k[l+O];break}D.match(/[Mm]/)?E=h:id(C)}r=C.q;if(b)for(C=r.yb.l;C.next();)C.value.wo=h;return r};Tc.prototype.Iz=function(){if(this.Sa)return h;var a=this.yb;if(this.Qt!==a.Pb)return h;for(var b=a.length,c=0;c<b;c++)if(a.o[c].Iz())return h;return q};
Tc.prototype.HA=function(){this.Sa=q;var a=this.yb;this.Qt=a.Pb;for(var b=a.length,c=0;c<b;c++)a.o[c].HA()};Tc.prototype.te=function(){var a=this.Ct;a.Na();a.reset();a.zI(this.Yd);jd(this,a,q);a.cc(0,0,0,0);a.freeze()};Tc.prototype.computeBoundsWithoutOrigin=Tc.prototype.DG=function(){var a=new L;jd(this,a,h);return a};
function jd(a,b,c){switch(a.type){case Xc:case Zc:case $c:c?b.W(a.Ib,a.Tb,0,0):b.cc(a.Ib,a.Tb,0,0);b.cc(a.Hc,a.Oc,0,0);break;case Uc:for(var a=a.yb,d=a.length,e=0;e<d;e++){var g=a.o[e];c&&0===e?b.W(g.pa,g.qa,0,0):b.cc(g.pa,g.qa,0,0);for(var i=g.Fa,j=i.length,k=g.pa,l=g.qa,m=0;m<j;m++){var n=i.o[m];switch(n.type){case bd:case rd:k=n.D;l=n.F;b.cc(k,l,0,0);break;case sd:tc(k,l,n.ac,n.Fc,n.xg,n.yg,n.D,n.F,0.5,b);k=n.D;l=n.F;break;case td:yc(k,l,n.ac,n.Fc,n.D,n.F,0.5,b);k=n.D;l=n.F;break;case ud:case gd:for(var n=
n.type===ud?wd(n,g):xd(n,g,k,l),r=n.length,s=p,v=0;v<r;v++)s=n[v],tc(s.x1,s.y1,s.x2,s.y2,s.Mf,s.Nf,s.gd,s.hd,0.5,b);s!==p&&(k=s.gd,l=s.hd);break;default:x.m("Unknown Segment type: "+n.type)}}}break;default:x.m("Unknown Geometry type: "+a.type)}}Tc.prototype.normalize=Tc.prototype.normalize=function(){x.C(this);var a=this.DG();this.offset(-a.x,-a.y);return new K(-a.x,-a.y)};
Tc.prototype.offset=Tc.prototype.offset=function(a,b){x.C(this);u&&(x.n(a,Tc,"offset"),x.n(b,Tc,"offset"));var c=new Ya;c.translate(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};Tc.prototype.scale=Tc.prototype.scale=function(a,b){x.C(this);u&&(x.n(a,Tc,"scale:x"),x.n(b,Tc,"scale:y"),0>=a&&x.ta(a,"scale must be greater than zero",Tc,"scale:x"),0>=b&&x.ta(b,"scale must be greater than zero",Tc,"scale:y"));var c=new Ya;c.scale(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};
Tc.prototype.rotate=Tc.prototype.rotate=function(a,b,c){x.C(this);b===f&&(b=0);c===f&&(c=0);u&&(x.n(a,Tc,"rotate:angle"),x.n(b,Tc,"rotate:x"),x.n(c,Tc,"rotate:y"));var d=new Ya;d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy)};
Tc.prototype.transform=Tc.prototype.transform=function(a,b,c,d,e,g){var i,j;switch(this.type){case Xc:case Zc:case $c:i=this.Ib;j=this.Tb;this.Ib=i*a+j*c+e;this.Tb=i*b+j*d+g;i=this.Hc;j=this.Oc;this.Hc=i*a+j*c+e;this.Oc=i*b+j*d+g;break;case Uc:for(var k=this.yb,l=k.length,m=0;m<l;m++){var n=k.o[m];i=n.pa;j=n.qa;n.pa=i*a+j*c+e;n.qa=i*b+j*d+g;for(var n=n.Fa,r=n.length,s=0;s<r;s++){var v=n.o[s];switch(v.type){case bd:case rd:i=v.D;j=v.F;v.D=i*a+j*c+e;v.F=i*b+j*d+g;break;case sd:i=v.rf;j=v.sf;v.rf=i*
a+j*c+e;v.sf=i*b+j*d+g;i=v.Bi;j=v.Ci;v.Bi=i*a+j*c+e;v.Ci=i*b+j*d+g;i=v.D;j=v.F;v.D=i*a+j*c+e;v.F=i*b+j*d+g;break;case td:i=v.rf;j=v.sf;v.rf=i*a+j*c+e;v.sf=i*b+j*d+g;i=v.D;j=v.F;v.D=i*a+j*c+e;v.F=i*b+j*d+g;break;case ud:i=v.ua;j=v.Ba;v.ua=i*a+j*c+e;v.Ba=i*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY!==f&&(v.radiusY*=Math.sqrt(b*b+d*d));break;case gd:i=v.D;j=v.F;v.D=i*a+j*c+e;v.F=i*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY*=Math.sqrt(b*b+d*d);break;default:x.m("Unknown Segment type: "+v.type)}}}}this.Sa=
h};Tc.prototype.Nr=function(a,b){var c=this.Ib,d=this.Tb,e=this.Hc,g=this.Oc,i=Math.min(c,e),j=Math.min(d,g),c=Math.abs(e-c),d=Math.abs(g-d),g=this.NF;g.x=i;g.y=j;b.Xa(g);e=new Vc(g.x,g.y);g.x=i+c;g.y=j;b.Xa(g);e.Fa.add(new S(bd,g.x,g.y));g.x=i+c;g.y=j+d;b.Xa(g);e.Fa.add(new S(bd,g.x,g.y));g.x=i;g.y=j+d;b.Xa(g);e.Fa.add((new S(bd,g.x,g.y)).close());a.type=Uc;a.yb.add(e);return a};
Tc.prototype.Ca=function(a,b,c,d){for(var e=a.x,g=a.y,i=this.Lb.x-20,a=a.y,j=0,k,l,m,n,r,s,v,y=this.yb.o,C=y.length,D=0;D<C;D++){var I=y[D];if(I.wo){if(c&&I.Ca(e,g,b))return h;var E=I.Fa;k=I.pa;l=I.qa;for(var M=k,O=l,X=0;X<=E.length;X++){X!==E.length?(m=E.o[X],n=m.type,s=m.D,v=m.F):(n=bd,s=M,v=O);switch(n){case rd:r=yd(e,g,i,a,k,l,M,O);if(r===h)return h;j+=r;M=s;O=v;break;case bd:r=yd(e,g,i,a,k,l,s,v);if(r===h)return h;j+=r;break;case sd:r=Dc(k,l,m.ac,m.Fc,m.xg,m.yg,s,v,i,a,e,g,0.5);j+=r;break;case td:r=
Dc(k,l,(k+2*m.ac)/3,(l+2*m.Fc)/3,(m.ac+2*s)/3,(m.ac+2*s)/3,s,v,i,a,e,g,0.5);j+=r;break;case ud:case gd:n=m.type===ud?wd(m,I):xd(m,I,k,l);for(var sa=n.length,ka=p,va=0;va<sa;va++){ka=n[va];if(0===va){r=yd(e,g,i,a,k,l,ka.x1,ka.y1);if(r===h)return h;j+=r}r=Dc(ka.x1,ka.y1,ka.x2,ka.y2,ka.Mf,ka.Nf,ka.gd,ka.hd,i,a,e,g,0.5);j+=r}ka!==p&&(s=ka.gd,v=ka.hd);break;default:x.m("Unknown Segment type: "+m.type)}k=s;l=v}if(0!==j)return h;j=0}else if(I.Ca(e,g,d?b:b+2))return h}return 0!==j};
function yd(a,b,c,d,e,g,i,j){if(rc(e,g,i,j,0.05,a,b))return h;var k=(a-c)*(g-j);if(0===k)return 0;var l=((a*d-b*c)*(e-i)-(a-c)*(e*j-g*i))/k,b=(a*d-b*c)*(g-j)/k;if(l>=a)return 0;if((e>i?e-i:i-e)<(g>j?g-j:j-g)){if(g<j?(a=g,e=j):(a=j,e=g),b<a||b>e)return 0}else if(e<i?(a=e,e=i):a=i,l<a||l>e)return 0;return 0<k?1:-1}function zd(a,b,c,d){for(var e=a.yb.length,g=0;g<e;g++)if(a.yb.o[g].Ca(b,c,d))return h;return q}x.g(Tc,"type",Tc.prototype.type);
x.defineProperty(Tc,{type:"type"},t("V"),function(a){this.V!==a&&(u&&x.ob(a,Tc,Tc,"type"),x.C(this,a),this.V=a,this.Sa=h)});x.g(Tc,"startX",Tc.prototype.pa);x.defineProperty(Tc,{pa:"startX"},t("Ib"),function(a){this.Ib!==a&&(u&&x.n(a,Tc,"startX"),x.C(this,a),this.Ib=a,this.Sa=h)});x.g(Tc,"startY",Tc.prototype.qa);x.defineProperty(Tc,{qa:"startY"},t("Tb"),function(a){this.Tb!==a&&(u&&x.n(a,Tc,"startY"),x.C(this,a),this.Tb=a,this.Sa=h)});x.g(Tc,"endX",Tc.prototype.D);
x.defineProperty(Tc,{D:"endX"},t("Hc"),function(a){this.Hc!==a&&(u&&x.n(a,Tc,"endX"),x.C(this,a),this.Hc=a,this.Sa=h)});x.g(Tc,"endY",Tc.prototype.F);x.defineProperty(Tc,{F:"endY"},t("Oc"),function(a){this.Oc!==a&&(u&&x.n(a,Tc,"endY"),x.C(this,a),this.Oc=a,this.Sa=h)});x.g(Tc,"figures",Tc.prototype.yb);x.defineProperty(Tc,{yb:"figures"},t("yk"),function(a){this.yk!==a&&(u&&x.i(a,H,Tc,"figures"),x.C(this,a),this.yk=a,this.Sa=h)});
x.defineProperty(Tc,{v:"spot1"},t("Ei"),function(a){u&&x.i(a,N,Tc,"spot1");x.C(this,a);this.Ei=a.Q()});x.defineProperty(Tc,{w:"spot2"},t("Fi"),function(a){u&&x.i(a,N,Tc,"spot2");x.C(this,a);this.Fi=a.Q()});x.u(Tc,{Lb:"bounds"},function(){this.Iz()&&(this.HA(),this.te());return this.Ct});x.g(Tc,"minSize",Tc.prototype.Ae);
x.defineProperty(Tc,{Ae:"minSize"},t("Yd"),function(a){this.Yd.K(a)||(u&&x.i(a,cb,Tc,"minSize"),a=a.Q(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Yd=a)});function Vc(a,b,c){x.nc(this);c===f&&(c=h);this.Jl=c;this.Tf=h;a!==f?(u&&x.n(a,Vc,"sx"),this.Ib=a):this.Ib=0;b!==f?(u&&x.n(b,Vc,"sy"),this.Tb=b):this.Tb=0;this.rr=new H(S);this.Tu=this.rr.Pb;this.Sa=h}x.S("PathFigure",Vc);
Vc.prototype.copy=Vc.prototype.copy=function(){var a=new Vc;a.Jl=this.Jl;a.Tf=this.Tf;a.Ib=this.Ib;a.Tb=this.Tb;for(var b=this.rr,c=b.length,d=a.rr,e=0;e<c;e++){var g=b.o[e].copy();d.add(g)}a.Tu=this.Tu;a.Sa=this.Sa;return a};Vc.prototype.equalsApprox=Vc.prototype.Xj=function(a){if(!(a instanceof Vc)||!Ua(this.pa,a.pa)||!Ua(this.qa,a.qa))return q;var b=this.Fa,a=a.Fa,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.o[d].Xj(a.o[d]))return q;return h};da=Vc.prototype;
da.toString=function(a){for(var b=a===f?"M"+this.pa.toString()+" "+this.qa.toString():"M"+this.pa.toFixed(a)+" "+this.qa.toFixed(a),c=this.Fa,d=c.length,e=0;e<d;e++)b+=" "+c.o[e].toString(a);return b};da.freeze=function(){this.gb=h;var a=this.Fa;a.freeze();for(var b=a.length,c=0;c<b;c++)a.o[c].freeze();return this};da.Na=function(){this.gb=q;var a=this.Fa;a.Na();for(var b=a.length,c=0;c<b;c++)a.o[c].Na();return this};
da.Iz=function(){if(this.Sa)return h;var a=this.Fa;if(this.Tu!==a.Pb)return h;for(var b=a.length,c=0;c<b;c++)if(a.o[c].Sa)return h;return q};da.HA=function(){this.Sa=q;var a=this.Fa;this.Tu=a.Pb;for(var b=a.length,c=0;c<b;c++){var d=a.o[c];d.Sa=q;d.gj&&(d.gj=p)}};x.g(Vc,"isFilled",Vc.prototype.wo);x.defineProperty(Vc,{wo:"isFilled"},t("Jl"),function(a){u&&x.k(a,"boolean",Vc,"isFilled");x.C(this,a);this.Jl=a});x.g(Vc,"isShadowed",Vc.prototype.Am);
x.defineProperty(Vc,{Am:"isShadowed"},t("Tf"),function(a){u&&x.k(a,"boolean",Vc,"isShadowed");x.C(this,a);this.Tf=a});x.g(Vc,"startX",Vc.prototype.pa);x.defineProperty(Vc,{pa:"startX"},t("Ib"),function(a){u&&x.n(a,Vc,"startX");x.C(this,a);this.Ib=a;this.Sa=h});x.g(Vc,"startY",Vc.prototype.qa);x.defineProperty(Vc,{qa:"startY"},t("Tb"),function(a){u&&x.n(a,Vc,"startY");x.C(this,a);this.Tb=a;this.Sa=h});x.g(Vc,"segments",Vc.prototype.Fa);
x.defineProperty(Vc,{Fa:"segments"},t("rr"),function(a){u&&x.i(a,H,Vc,"segments");x.C(this,a);this.rr=a;this.Sa=h});
Vc.prototype.Ca=function(a,b,c){for(var d=this.pa,e=this.qa,g=d,i=e,j=this.Fa.o,k=j.length,l=0;l<k;l++){var m=j[l];switch(m.type){case rd:g=m.D;i=m.F;d=m.D;e=m.F;break;case bd:if(rc(d,e,m.D,m.F,c,a,b))return h;d=m.D;e=m.F;break;case sd:if(sc(d,e,m.ac,m.Fc,m.xg,m.yg,m.D,m.F,0.5,a,b,c))return h;d=m.D;e=m.F;break;case td:if(xc(d,e,m.ac,m.Fc,m.D,m.F,0.5,a,b,c))return h;d=m.D;e=m.F;break;case ud:case gd:for(var n=m.type===ud?wd(m,this):xd(m,this,d,e),r=n.length,s=p,v=0;v<r;v++)if(s=n[v],0===v&&rc(d,e,
s.x1,s.y1,c,a,b)||sc(s.x1,s.y1,s.x2,s.y2,s.Mf,s.Nf,s.gd,s.hd,0.5,a,b,c))return h;s!==p&&(d=s.gd,e=s.hd);break;default:x.m("Unknown Segment type: "+m.type)}if(m.ni&&(d!==g||e!==i)&&rc(d,e,g,i,c,a,b))return h}return q};
function S(a,b,c,d,e,g,i,j){x.nc(this);a===f?a=bd:u&&x.ob(a,S,S,"constructor:type");this.V=a;a===ud?(b!==f?(u&&x.n(b,S,"ex"),this.$d=b):this.$d=0,c!==f?(u&&x.n(c,S,"ey"),this.be=c):this.be=0,d!==f&&(u&&x.n(d,S,"x1"),this.Sm=d),e!==f&&(u&&x.n(e,S,"y1"),this.Tm=e),g!==f&&(u&&x.n(g,S,"x2"),this.Ej=Math.max(g||0,0)),i!==f&&"number"===typeof i?(u&&x.n(i,S,"y2"),this.Fj=Math.max(i||0,0)):this.Fj=this.Ej):a===gd?(b!==f&&u&&x.n(b,S,"ex"),c!==f&&u&&x.n(c,S,"ey"),d!==f&&u&&x.n(d,S,"x1"),e!==f&&u&&x.n(e,S,"y1"),
this.$f=b||0,this.ag=c||0,this.Ej=Math.max(d||0,0),this.Fj=Math.max(e||0,0),this.$d=i?1:0,this.be=j?1:0,a=(g||0)%360,0>a&&(a+=360),this.Pn=a):(b!==f?(u&&x.n(b,S,"ex"),this.$f=b):this.$f=0,c!==f?(u&&x.n(c,S,"ey"),this.ag=c):this.ag=0,d!==f&&(u&&x.n(d,S,"x1"),this.rf=d),e!==f&&(u&&x.n(e,S,"y1"),this.sf=e),g!==f&&(u&&x.n(g,S,"x2"),this.Bi=g),i!==f&&"number"===typeof i&&(u&&x.n(i,S,"y2"),this.Ci=i));this.Sa=h;this.ni=q}x.S("PathSegment",S);
S.prototype.copy=S.prototype.copy=function(){var a=new S;a.V=this.V;this.V===ud?(a.$d=this.$d,a.be=this.be,a.Sm=this.Sm,a.Tm=this.Tm,a.Ej=this.Ej,a.Fj=this.Fj):this.V===gd?(a.$d=this.$d,a.be=this.be,a.$f=this.$f,a.ag=this.ag,a.Ej=this.Ej,a.Fj=this.Fj,a.Pn=this.Pn):(a.$f=this.$f,a.ag=this.ag,a.rf=this.rf,a.sf=this.sf,a.Bi=this.Bi,a.Ci=this.Ci);a.Sa=this.Sa;a.ni=this.ni;return a};
S.prototype.equalsApprox=S.prototype.Xj=function(a){if(!(a instanceof S)||this.type!==a.type||this.Xv!==a.Xv)return q;switch(this.type){case rd:case bd:return Ua(this.D,a.D)&&Ua(this.F,a.F);case sd:return Ua(this.D,a.D)&&Ua(this.F,a.F)&&Ua(this.ac,a.ac)&&Ua(this.Fc,a.Fc)&&Ua(this.xg,a.xg)&&Ua(this.yg,a.yg);case td:return Ua(this.D,a.D)&&Ua(this.F,a.F)&&Ua(this.ac,a.ac)&&Ua(this.Fc,a.Fc);case ud:return Ua(this.Ag,a.Ag)&&Ua(this.Yh,a.Yh)&&Ua(this.ua,a.ua)&&Ua(this.Ba,a.Ba)&&Ua(this.radiusX,a.radiusX)&&
Ua(this.radiusY,a.radiusY);case gd:return this.Wv===a.Wv&&this.Yv===a.Yv&&Ua(this.Cw,a.Cw)&&Ua(this.D,a.D)&&Ua(this.F,a.F)&&Ua(this.radiusX,a.radiusX)&&Ua(this.radiusY,a.radiusY);default:return q}};
S.prototype.toString=function(a){switch(this.type){case rd:a=a===f?"M"+this.D.toString()+" "+this.F.toString():"M"+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case bd:a=a===f?"L"+this.D.toString()+" "+this.F.toString():"L"+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case sd:a=a===f?"C"+this.ac.toString()+" "+this.Fc.toString()+" "+this.xg.toString()+" "+this.yg.toString()+" "+this.D.toString()+" "+this.F.toString():"C"+this.ac.toFixed(a)+" "+this.Fc.toFixed(a)+" "+this.xg.toFixed(a)+" "+this.yg.toFixed(a)+
" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case td:a=a===f?"Q"+this.ac.toString()+" "+this.Fc.toString()+" "+this.D.toString()+" "+this.F.toString():"Q"+this.ac.toFixed(a)+" "+this.Fc.toFixed(a)+" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case ud:a=a===f?"B"+this.Ag.toString()+" "+this.Yh.toString()+" "+this.ua.toString()+" "+this.Ba.toString()+" "+this.radiusX:"B"+this.Ag.toFixed(a)+" "+this.Yh.toFixed(a)+" "+this.ua.toFixed(a)+" "+this.Ba.toFixed(a)+" "+this.radiusX;break;case gd:a=
a===f?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Cw.toString()+" "+(this.Yv?1:0)+" "+(this.Wv?1:0)+" "+this.D.toString()+" "+this.F.toString():"A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.Cw.toFixed(a)+" "+(this.Yv?1:0)+" "+(this.Wv?1:0)+" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;default:a=this.type.toString()}return a+(this.ni?"z":"")};var rd;S.Move=rd=x.s(S,"Move",0);var bd;S.Line=bd=x.s(S,"Line",1);var sd;S.Bezier=sd=x.s(S,"Bezier",2);var td;
S.QuadraticBezier=td=x.s(S,"QuadraticBezier",3);var ud;S.Arc=ud=x.s(S,"Arc",4);var gd;S.SvgArc=gd=x.s(S,"SvgArc",4);S.prototype.freeze=function(){this.gb=h;return this};S.prototype.Na=function(){this.gb=q;return this};S.prototype.close=S.prototype.close=function(){this.ni=h;return this};
function wd(a,b){if(a.gj&&b.Sa===q)return a.gj;var c=a.radiusX,d=a.radiusY;d===f&&(d=c);var e=Nc(a.Sm,a.Tm,c<d?c:d,a.Ag,a.Ag+a.Yh);if(c!==d){var g=new Ya;c<d?g.scale(1,d/c):g.scale(c/d,1);for(var c=e.length,d=new K,i=0,j=0,k=0;k<c;k++){var l=e[k];0===k&&(i=l.x1,j=l.y1);l.x1-=i;l.y1-=j;l.x2-=i;l.y2-=j;l.Mf-=i;l.Nf-=j;l.gd-=i;l.hd-=j}for(k=0;k<c;k++)l=e[k],d.x=l.x1,d.y=l.y1,g.Xa(d),l.x1=d.x+i,l.y1=d.y+j,d.x=l.x2,d.y=l.y2,g.Xa(d),l.x2=d.x+i,l.y2=d.y+j,d.x=l.Mf,d.y=l.Nf,g.Xa(d),l.Mf=d.x+i,l.Nf=d.y+j,
d.x=l.gd,d.y=l.hd,g.Xa(d),l.gd=d.x+i,l.hd=d.y+j}a.gj=e;return a.gj}
function xd(a,b,c,d){function e(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(g(a,b))}function g(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))*Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)))}if(a.gj&&b.Sa===q)return a.gj;var b=a.Ej,i=a.Fj,j=a.Pn*(Math.PI/180),k=a.Ag,l=a.be,m=a.$f,n=a.ag,r=new K(Math.cos(j)*(c-m)/2+Math.sin(j)*(d-n)/2,-Math.sin(j)*(c-m)/2+Math.cos(j)*(d-n)/2),s=Math.pow(r.x,2)/Math.pow(b,2)+Math.pow(r.y,2)/Math.pow(i,2);1<s&&(b*=Math.sqrt(s),i*=Math.sqrt(s));
k=(k==l?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(i,2)-Math.pow(b,2)*Math.pow(r.y,2)-Math.pow(i,2)*Math.pow(r.x,2))/(Math.pow(b,2)*Math.pow(r.y,2)+Math.pow(i,2)*Math.pow(r.x,2)));isNaN(k)&&(k=0);k=new K(k*b*r.y/i,k*-i*r.x/b);c=new K((c+m)/2+Math.cos(j)*k.x-Math.sin(j)*k.y,(d+n)/2+Math.sin(j)*k.x+Math.cos(j)*k.y);d=e([1,0],[(r.x-k.x)/b,(r.y-k.y)/i]);j=[(r.x-k.x)/b,(r.y-k.y)/i];m=[(-r.x-k.x)/b,(-r.y-k.y)/i];r=e(j,m);-1>=g(j,m)&&(r=Math.PI);1<=g(j,m)&&(r=0);0==l&&0<r&&(r-=2*Math.PI);1==l&&0>r&&(r+=2*Math.PI);
l=b>i?1:b/i;j=b>i?i/b:1;b=Nc(0,0,b>i?b:i,d,d+r,h);i=new Ya;i.translate(c.x,c.y);i.rotate(a.Pn,0,0);i.scale(l,j);l=b.length;r=new K;for(c=0;c<l;c++)d=b[c],r.x=d.x1,r.y=d.y1,i.Xa(r),d.x1=r.x,d.y1=r.y,r.x=d.x2,r.y=d.y2,i.Xa(r),d.x2=r.x,d.y2=r.y,r.x=d.Mf,r.y=d.Nf,i.Xa(r),d.Mf=r.x,d.Nf=r.y,r.x=d.gd,r.y=d.hd,i.Xa(r),d.gd=r.x,d.hd=r.y;a.gj=b;return a.gj}x.g(S,"isClosed",S.prototype.Xv);x.defineProperty(S,{Xv:"isClosed"},t("ni"),function(a){this.ni!==a&&(this.ni=a,this.Sa=h)});x.g(S,"type",S.prototype.type);
x.defineProperty(S,{type:"type"},t("V"),function(a){u&&x.ob(a,S,S,"type");x.C(this,a);this.V=a;this.Sa=h});x.g(S,"endX",S.prototype.D);x.defineProperty(S,{D:"endX"},t("$f"),function(a){u&&x.n(a,S,"endX");x.C(this,a);this.$f=a;this.Sa=h});x.g(S,"endY",S.prototype.F);x.defineProperty(S,{F:"endY"},t("ag"),function(a){u&&x.n(a,S,"endY");x.C(this,a);this.ag=a;this.Sa=h});x.defineProperty(S,{ac:"point1X"},t("rf"),function(a){u&&x.n(a,S,"point1X");x.C(this,a);this.rf=a;this.Sa=h});
x.defineProperty(S,{Fc:"point1Y"},t("sf"),function(a){u&&x.n(a,S,"point1Y");x.C(this,a);this.sf=a;this.Sa=h});x.defineProperty(S,{xg:"point2X"},t("Bi"),function(a){u&&x.n(a,S,"point2X");x.C(this,a);this.Bi=a;this.Sa=h});x.defineProperty(S,{yg:"point2Y"},t("Ci"),function(a){u&&x.n(a,S,"point2Y");x.C(this,a);this.Ci=a;this.Sa=h});x.defineProperty(S,{ua:"centerX"},t("Sm"),function(a){u&&x.n(a,S,"centerX");x.C(this,a);this.Sm=a;this.Sa=h});
x.defineProperty(S,{Ba:"centerY"},t("Tm"),function(a){u&&x.n(a,S,"centerY");x.C(this,a);this.Tm=a;this.Sa=h});x.defineProperty(S,{radiusX:"radiusX"},t("Ej"),function(a){u&&x.n(a,S,"radiusX");0>a&&x.ta(a,">= zero",S,"radiusX");x.C(this,a);this.Ej=a;this.Sa=h});x.defineProperty(S,{radiusY:"radiusY"},t("Fj"),function(a){u&&x.n(a,S,"radiusY");0>a&&x.ta(a,">= zero",S,"radiusY");x.C(this,a);this.Fj=a;this.Sa=h});
x.defineProperty(S,{Ag:"startAngle"},t("$d"),function(a){this.$d!==a&&(x.C(this,a),u&&x.n(a,S,"startAngle"),a%=360,0>a&&(a+=360),this.$d=a,this.Sa=h)});x.defineProperty(S,{Yh:"sweepAngle"},t("be"),function(a){u&&x.n(a,S,"sweepAngle");x.C(this,a);360<a&&(a=360);-360>a&&(a=-360);this.be=a;this.Sa=h});x.defineProperty(S,{Wv:"isClockwiseArc"},function(){return!!this.be},function(a){x.C(this,a);this.be=a?1:0;this.Sa=h});
x.defineProperty(S,{Yv:"isLargeArc"},function(){return!!this.$d},function(a){x.C(this,a);this.$d=a?1:0;this.Sa=h});x.defineProperty(S,{Cw:"xAxisRotation"},t("Pn"),function(a){u&&x.n(a,S,"xAxisRotation");a%=360;0>a&&(a+=360);x.C(this,a);this.Pn=a;this.Sa=h});function Ad(){this.da=p;this.Oy=(new K(0,0)).freeze();this.ux=(new K(0,0)).freeze();this.wt=this.uu=0;this.hu="";this.jv=this.Nt=q;this.Kt=this.zt=0;this.ij=this.Ut=q;this.oj=p;this.hv=0;this.dg=this.ev=p}x.S("InputEvent",Ad);
Ad.prototype.copy=Ad.prototype.copy=function(){var a=new Ad;a.da=this.da;a.Oy=this.Gc.copy().freeze();a.ux=this.N.copy().freeze();a.uu=this.uu;a.wt=this.wt;a.hu=this.hu;a.Nt=this.Nt;a.jv=this.jv;a.zt=this.zt;a.Kt=this.Kt;a.Ut=this.Ut;a.ij=this.ij;a.oj=this.oj;a.hv=this.hv;a.ev=this.ev;a.dg=this.dg;return a};
Ad.prototype.toString=function(){var a="^";this.Th&&(a+="M:"+this.Th);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.Td&&(a+="C:"+this.Td);this.Uj&&(a+="D:"+this.Uj);this.fe&&(a+="h");this.bubbles&&(a+="b");this.N!==p&&(a+="@"+this.N.toString());return a};x.g(Ad,"diagram",Ad.prototype.h);x.defineProperty(Ad,{h:"diagram"},t("da"),ba("da"));x.g(Ad,"viewPoint",Ad.prototype.Gc);x.defineProperty(Ad,{Gc:"viewPoint"},t("Oy"),function(a){x.i(a,K,Ad,"viewPoint");this.Oy.Ya(a)});
x.g(Ad,"documentPoint",Ad.prototype.N);x.defineProperty(Ad,{N:"documentPoint"},t("ux"),function(a){x.i(a,K,Ad,"documentPoint");this.ux.Ya(a)});x.g(Ad,"modifiers",Ad.prototype.Th);x.defineProperty(Ad,{Th:"modifiers"},t("uu"),ba("uu"));x.g(Ad,"button",Ad.prototype.button);x.defineProperty(Ad,{button:"button"},t("wt"),ba("wt"));x.g(Ad,"key",Ad.prototype.key);x.defineProperty(Ad,{key:"key"},t("hu"),ba("hu"));x.g(Ad,"down",Ad.prototype.Wj);x.defineProperty(Ad,{Wj:"down"},t("Nt"),ba("Nt"));
x.g(Ad,"up",Ad.prototype.dj);x.defineProperty(Ad,{dj:"up"},t("jv"),ba("jv"));x.g(Ad,"clickCount",Ad.prototype.Td);x.defineProperty(Ad,{Td:"clickCount"},t("zt"),ba("zt"));x.g(Ad,"delta",Ad.prototype.Uj);x.defineProperty(Ad,{Uj:"delta"},t("Kt"),ba("Kt"));x.g(Ad,"handled",Ad.prototype.fe);x.defineProperty(Ad,{fe:"handled"},t("Ut"),ba("Ut"));x.g(Ad,"bubbles",Ad.prototype.bubbles);x.defineProperty(Ad,{bubbles:"bubbles"},t("ij"),ba("ij"));x.g(Ad,"event",Ad.prototype.event);
x.defineProperty(Ad,{event:"event"},t("oj"),ba("oj"));x.g(Ad,"timestamp",Ad.prototype.timestamp);x.defineProperty(Ad,{timestamp:"timestamp"},t("hv"),ba("hv"));x.g(Ad,"targetDiagram",Ad.prototype.Bg);x.defineProperty(Ad,{Bg:"targetDiagram"},t("ev"),ba("ev"));x.g(Ad,"targetObject",Ad.prototype.Ld);x.defineProperty(Ad,{Ld:"targetObject"},t("dg"),ba("dg"));x.u(Ad,{bl:"control"},function(){return 0!==(this.Th&1)});x.u(Ad,{shift:"shift"},function(){return 0!==(this.Th&4)});
x.u(Ad,{alt:"alt"},function(){return 0!==(this.Th&2)});x.u(Ad,{SL:"meta"},function(){return 0!==(this.Th&8)});x.u(Ad,{left:"left"},function(){return 0===this.button});x.u(Ad,{TL:"middle"},function(){return 1===this.button});x.u(Ad,{right:"right"},function(){return 2===this.button});function Bd(){this.da=p;this.Hb="";this.Ku=this.$u=p;this.xt=q}x.S("DiagramEvent",Bd);Bd.prototype.copy=Bd.prototype.copy=function(){var a=new Bd;a.da=this.da;a.Hb=this.Hb;a.$u=this.$u;a.Ku=this.Ku;a.xt=this.xt;return a};
Bd.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");this.vw!==p&&(a+=":"+this.vw.toString());this.hw!==p&&(a+="("+this.hw.toString()+")");return a};x.g(Bd,"diagram",Bd.prototype.h);x.defineProperty(Bd,{h:"diagram"},t("da"),ba("da"));x.g(Bd,"name",Bd.prototype.name);x.defineProperty(Bd,{name:"name"},t("Hb"),ba("Hb"));x.g(Bd,"subject",Bd.prototype.vw);x.defineProperty(Bd,{vw:"subject"},t("$u"),ba("$u"));x.g(Bd,"parameter",Bd.prototype.hw);
x.defineProperty(Bd,{hw:"parameter"},t("Ku"),ba("Ku"));x.g(Bd,"cancel",Bd.prototype.cancel);x.defineProperty(Bd,{cancel:"cancel"},t("xt"),ba("xt"));function Cd(){this.clear()}x.S("ChangedEvent",Cd);var Dd;Cd.Transaction=Dd=x.s(Cd,"Transaction",-1);var Gd;Cd.Property=Gd=x.s(Cd,"Property",0);var Ud;Cd.Insert=Ud=x.s(Cd,"Insert",1);var Vd;Cd.Remove=Vd=x.s(Cd,"Remove",2);
Cd.prototype.clear=Cd.prototype.clear=function(){this.yt=Gd;this.Ou=this.tu="";this.xu=this.yu=this.Fu=this.Gu=this.Eu=this.da=this.Qd=p};
Cd.prototype.copy=Cd.prototype.copy=function(){var a=new Cd;a.Qd=this.Qd;a.da=this.da;a.yt=this.yt;a.tu=this.tu;a.Ou=this.Ou;a.Eu=this.Eu;var b=this.Gu;a.Gu=x.rb(b)&&"function"===typeof b.Q?b.Q():b;b=this.Fu;a.Fu=x.rb(b)&&"function"===typeof b.Q?b.Q():b;b=this.yu;a.yu=x.rb(b)&&"function"===typeof b.Q?b.Q():b;b=this.xu;a.xu=x.rb(b)&&"function"===typeof b.Q?b.Q():b;return a};
Cd.prototype.toString=function(){var a="",a=this.ud===Dd?a+"* ":this.ud===Gd?a+(this.Y!==p?"!m":"!d"):a+((this.Y!==p?"!m":"!d")+this.ud);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.Ze&&this.Ze!==this.propertyName&&(a+=" "+this.Ze);a+=": ";this.ud===Dd?this.oldValue!==p&&(a+=" "+this.oldValue):(this.object!==p&&(a+=Wd(this.object)),this.oldValue!==p&&(a+="  old: "+Wd(this.oldValue)),this.Kf!==p&&(a+=" "+this.Kf),this.newValue!==p&&(a+="  new: "+Wd(this.newValue)),
this.Jf!==p&&(a+=" "+this.Jf));return a};Cd.prototype.getValue=Cd.prototype.va=function(a){return a?this.oldValue:this.newValue};Cd.prototype.getParam=Cd.prototype.cL=function(a){return a?this.Kf:this.Jf};Cd.prototype.canUndo=Cd.prototype.$k=function(){return this.Y!==p||this.h!==p?h:q};Cd.prototype.undo=Cd.prototype.ul=function(){this.$k()&&(this.Y!==p?this.Y.bs(this,h):this.h!==p&&this.h.bs(this,h))};Cd.prototype.canRedo=Cd.prototype.Yk=function(){return this.Y!==p||this.h!==p?h:q};
Cd.prototype.redo=Cd.prototype.Qo=function(){this.Yk()&&(this.Y!==p?this.Y.bs(this,q):this.h!==p&&this.h.bs(this,q))};x.g(Cd,"model",Cd.prototype.Y);x.defineProperty(Cd,{Y:"model"},t("Qd"),ba("Qd"));x.g(Cd,"diagram",Cd.prototype.h);x.defineProperty(Cd,{h:"diagram"},t("da"),ba("da"));x.g(Cd,"change",Cd.prototype.ud);x.defineProperty(Cd,{ud:"change"},t("yt"),function(a){u&&x.ob(a,Cd,Cd,"change");this.yt=a});x.g(Cd,"modelChange",Cd.prototype.Ze);
x.defineProperty(Cd,{Ze:"modelChange"},t("tu"),function(a){u&&x.k(a,"string",Cd,"modelChange");this.tu=a});x.g(Cd,"propertyName",Cd.prototype.propertyName);x.defineProperty(Cd,{propertyName:"propertyName"},t("Ou"),function(a){u&&"string"!==typeof a&&x.i(a,Function,Cd,"propertyName");this.Ou=a});x.g(Cd,"object",Cd.prototype.object);x.defineProperty(Cd,{object:"object"},t("Eu"),ba("Eu"));x.g(Cd,"oldValue",Cd.prototype.oldValue);x.defineProperty(Cd,{oldValue:"oldValue"},t("Gu"),ba("Gu"));
x.g(Cd,"oldParam",Cd.prototype.Kf);x.defineProperty(Cd,{Kf:"oldParam"},t("Fu"),ba("Fu"));x.g(Cd,"newValue",Cd.prototype.newValue);x.defineProperty(Cd,{newValue:"newValue"},t("yu"),ba("yu"));x.g(Cd,"newParam",Cd.prototype.Jf);x.defineProperty(Cd,{Jf:"newParam"},t("xu"),ba("xu"));
function J(a){1<arguments.length&&x.m("Model constructor can only take one optional argument, the Array of node data.");x.nc(this);this.nx=this.Hb="";this.Hk=q;this.pf=[];this.oc=new pa(p,Object);this.Xl="key";this.Ft=this.lu=p;this.Sq="category";this.Lg=new pa(p,qa);this.vj=p;this.Il=this.Di=q;this.Ky=p;this.xa=new Xd;a!==f&&(this.sg=a)}x.S("Model",J);J.prototype.clear=J.prototype.clear=function(){this.pf=[];this.oc.clear();this.Lg.clear();this.xa.clear()};
J.prototype.writeJsonProtected=J.prototype.Aw=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.om&&(a+=',\n  "dataFormat": '+this.quote(this.om));this.ib&&(a+=',\n  "isReadOnly": '+this.ib);"key"!==this.nl&&"string"===typeof this.nl&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.nl));"category"!==this.ml&&"string"===typeof this.ml&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.ml));return a};
J.prototype.KA=function(){return',\n  "nodeDataArray": '+Yd(this,this.sg,h)};J.prototype.readJsonProtected=J.prototype.jw=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.om=a.dataFormat);a.isReadOnly&&(this.ib=a.isReadOnly);a.nodeKeyProperty&&(this.nl=a.nodeKeyProperty);a.nodeCategoryProperty&&(this.ml=a.nodeCategoryProperty)};J.prototype.eA=function(a){a.nodeDataArray&&(a=a.nodeDataArray,Zd(this,a),this.sg=a)};
J.prototype.toString=function(a){a===f&&(a=0);if(1<a)return this.AA();var b=(""!==this.name?this.name:"")+" Model";if(0<a){var b=b+"\n node data:",a=this.sg,c=x.Zb(a),d;for(d=0;d<c;d++)var e=x.Kb(a,d),b=b+(" "+this.qb(e)+":"+Wd(e))}return b};J.prototype.toJson=J.prototype.AA=function(a){a===f&&(a=this.constructor===J?"go.Model":this.constructor===T?"go.GraphLinksModel":this.constructor===$d?"go.TreeModel":x.gl(this));return'{ "class": '+this.quote(a)+this.writeJsonProtected()+this.KA()+"}"};
J.fromJson=function(a,b){b===f&&(b=p);b&&x.i(b,J,J,"fromJson:model");var c=p;if("string"===typeof a)if(window&&window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){u&&x.trace("JSON.parse error: "+d.toString())}else x.trace("WARNING: no JSON.parse available");else"object"==typeof a?c=a:x.m("Unable to construct a Model from: "+a);if(b===p){var e;e=p;var g=c["class"];if("string"===typeof g)try{var i=p;0===g.indexOf("go.")?(g=g.substr(3),i=ea[g]):(i=ea[g])||(i=window[g]);"function"===typeof i&&
(e=new i)}catch(j){}e===p||e instanceof J?b=e:x.m("Unable to construct a Model of declared class: "+c["class"])}b===p&&(b=new T);b.readJsonProtected(c);b.eA(c);return b};
function Zd(a,b){if(x.isArray(b))for(var c=x.Zb(b),d=0;d<c;d++){var e=x.Kb(b,d);x.rb(e)&&x.FC(b,d,Zd(a,e))}else if(x.rb(b)){for(d in b)if(e=b[d],x.rb(e)&&(e=Zd(a,e),b[d]=e,"points"===d&&Array.isArray(e))){for(var g=h,i=0;i<e.length;i++)if("number"!==typeof e[i]){g=q;break}if(g){g=new H(K);for(i=0;i<e.length/2;i++){var j=new K(e[2*i],e[2*i+1]);g.add(j)}g.freeze();b[d]=g}}if("object"!==typeof b)c=b;else{d=b;e=b["class"];if("NaN"===e)d=NaN;else if("go.Point"===e)d=new K(ae(b.x),ae(b.y));else if("go.Size"===
e)d=new cb(ae(b.width),ae(b.height));else if("go.Rect"===e)d=new L(ae(b.x),ae(b.y),ae(b.width),ae(b.height));else if("go.Margin"===e)d=new hb(ae(b.top),ae(b.right),ae(b.bottom),ae(b.left));else if("go.Spot"===e)d="string"===typeof b["enum"]?vb(b["enum"]):new N(ae(b.x),ae(b.y),ae(b.offsetX),ae(b.offsetY));else if("go.Brush"===e){if(d=new be,d.type=x.tm(be,b.type),b.start instanceof N&&(d.start=b.start),b.end instanceof N&&(d.end=b.end),"number"===typeof b.startRadius&&(d.Zo=ae(b.startRadius)),"number"===
typeof b.endRadius&&(d.no=ae(b.endRadius)),e=b.colorStops)for(c in e)d.addColorStop(parseFloat(c),e[c])}else"go.Geometry"===e&&(d="string"===typeof b.path?ed(b.path):new Tc,d.type=x.tm(Tc,b.type),"number"===typeof b.startX&&(d.pa=ae(b.startX)),"number"===typeof b.startY&&(d.qa=ae(b.startY)),"number"===typeof b.endX&&(d.D=ae(b.endX)),"number"===typeof b.endY&&(d.F=ae(b.endY)),b.spot1 instanceof N&&(d.v=b.spot1),b.spot2 instanceof N&&(d.w=b.spot2));c=d}return c}return b}
J.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++)var e=a[d],b='"'===e||"\\"===e?b+("\\"+e):"\b"===e?b+"\\b":"\f"===e?b+"\\f":"\n"===e?b+"\\n":"\r"===e?b+"\\r":"\t"===e?b+"\\t":b+e;return'"'+b+'"'};
J.prototype.writeJsonValue=J.prototype.Bw=function(a){var b;if(a===f)b="undefined";else if(a===p)b="null";else if(a===h)b="true";else if(a===q)b="false";else if("string"===typeof a)b=this.quote(a);else if("number"===typeof a)b=Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString();else if(x.isArray(a))b=Yd(this,a);else if(x.rb(a)){var c=a;if(c instanceof K)a={"class":"go.Point",x:de(c.x),y:de(c.y)};else if(c instanceof cb)a={"class":"go.Size",width:de(c.width),height:de(c.height)};
else if(c instanceof L)a={"class":"go.Rect",x:de(c.x),y:de(c.y),width:de(c.width),height:de(c.height)};else if(c instanceof hb)a={"class":"go.Margin",top:de(c.top),right:de(c.right),bottom:de(c.bottom),left:de(c.left)};else if(c instanceof N)a=wb(c)?{"class":"go.Spot",x:de(c.x),y:de(c.y),offsetX:de(c.offsetX),offsetY:de(c.offsetY)}:{"class":"go.Spot","enum":c.toString()};else if(c instanceof be){a={"class":"go.Brush",type:c.type.name};if(c.type===ee)a.color=c.color;else if(c.type===fe||c.type===ve)a.start=
c.start,a.end=c.end,c.type===ve&&(0!==c.Zo&&(a.startRadius=de(c.Zo)),isNaN(c.no)||(a.endRadius=de(c.no)));if(c.ho!==p){for(var d={},c=c.ho.l;c.next();)d[c.key.toString()]=c.value;a.colorStops=d}}else c instanceof Tc&&(a={"class":"go.Geometry",type:c.type.name},0!==c.pa&&(a.startX=de(c.pa)),0!==c.qa&&(a.startY=de(c.qa)),0!==c.D&&(a.endX=de(c.D)),0!==c.F&&(a.endY=de(c.F)),c.v.K(Eb)||(a.spot1=c.v),c.w.K(Ob)||(a.spot2=c.w),c.type===Uc&&(a.path=cd(c)));var d="{",e=h;for(b in a)if(c=x.$a(a,b),!(c===f||
"__gohashid"===b||"_"===b[0]||"function"===typeof c))if(e?e=q:d+=", ",d+='"'+b+'":',"points"===b&&c instanceof H&&c.V===K){for(var g="[",c=c.l;c.next();){var i=c.value;1<g.length&&(g+=",");g+=this.Bw(i.x);g+=",";g+=this.Bw(i.y)}g+="]";d+=g}else d+=this.Bw(c);b=d+"}"}else b="function"===typeof a?"null":a.toString();return b};function Yd(a,b,c){var d=x.Zb(b),e="[ ";c&&1<d&&(e+="\n");for(var g=0;g<d;g++){var i=x.Kb(b,g);i!==f&&(0<g&&(e+=",",c&&(e+="\n")),e+=a.Bw(i))}c&&1<d&&(e+="\n");return e+" ]"}
function de(a){return isNaN(a)?"NaN":Infinity===a?"9e9999":-Infinity===a?"-9e9999":a}function ae(a){return"number"===typeof a?a:"NaN"===a?NaN:"9e9999"===a?Infinity:"-9e9999"===a?-Infinity:parseFloat(a)}x.g(J,"name",J.prototype.name);x.defineProperty(J,{name:"name"},t("Hb"),function(a){var b=this.Hb;b!==a&&(x.k(a,"string",J,"name"),this.Hb=a,this.j("name",b,a))});x.g(J,"dataFormat",J.prototype.om);
x.defineProperty(J,{om:"dataFormat"},t("nx"),function(a){var b=this.nx;b!==a&&(x.k(a,"string",J,"dataFormat"),this.nx=a,this.j("dataFormat",b,a))});x.g(J,"isReadOnly",J.prototype.ib);x.defineProperty(J,{ib:"isReadOnly"},t("Hk"),function(a){var b=this.Hk;b!==a&&(x.k(a,"boolean",J,"isReadOnly"),this.Hk=a,this.j("isReadOnly",b,a))});J.prototype.addChangedListener=J.prototype.Uy=function(a){x.k(a,"function",J,"addChangedListener:listener");this.vj===p&&(this.vj=new H("function"));this.vj.add(a)};
J.prototype.removeChangedListener=J.prototype.gA=function(a){x.k(a,"function",J,"removeChangedListener:listener");this.vj!==p&&(this.vj.remove(a),0===this.vj.count&&(this.vj=p))};J.prototype.tv=function(a){this.Ab||this.xa.GD(a);if(this.vj!==p)for(var b=this.vj.l;b.next();){var c=b.value;c(a)}};J.prototype.raiseChangedEvent=J.prototype.Yc=function(a,b,c,d,e,g,i){we(this,"",a,b,c,d,e,g,i)};J.prototype.raiseChanged=J.prototype.j=function(a,b,c,d,e){we(this,"",Gd,a,this,b,c,d,e)};
J.prototype.raiseDataChanged=J.prototype.dA=function(a,b,c,d,e,g){we(this,"",Gd,b,a,c,d,e,g)};function we(a,b,c,d,e,g,i,j,k){j===f&&(j=p);k===f&&(k=p);var l=new Cd;l.Y=a;l.ud=c;l.Ze=b;l.propertyName=d;l.object=e;l.oldValue=g;l.Kf=j;l.newValue=i;l.Jf=k;a.tv(l)}x.g(J,"undoManager",J.prototype.xa);x.defineProperty(J,{xa:"undoManager"},t("Ky"),function(a){var b=this.Ky;b!==a&&(x.i(a,Xd,J,"undoManager"),b!==p&&b.oI(this),this.Ky=a,a!==p&&a.aG(this))});x.g(J,"skipsUndoManager",J.prototype.Ab);
x.defineProperty(J,{Ab:"skipsUndoManager"},t("Di"),function(a){x.k(a,"boolean",J,"skipsUndoManager");this.Di=a});J.prototype.bs=function(a,b){if(a!==p&&a.Y===this){var c=this.Il;try{this.Il=h,this.az(a,b)}finally{this.Il=c}}};
J.prototype.az=function(a,b){if(a.ud===Gd){var c=a.object,d=a.propertyName,e=a.va(b);x.Qa(c,d,e)}else a.ud===Ud?"nodeDataArray"===a.Ze?(c=a.newValue,x.rb(c)&&(d=this.qb(c),d!==f&&(b?(x.Li(this.pf,a.Jf),this.oc.remove(d)):(x.Ki(this.pf,a.Jf,c),this.oc.add(d,c))))):""===a.Ze?(c=a.object,!x.isArray(c)&&a.propertyName&&(c=x.$a(a.object,a.propertyName)),x.isArray(c)&&(d=a.newValue,e=a.Jf,b?x.Li(c,e):x.Ki(c,e,d))):x.m("unknown ChangedEvent.Insert object: "+a.toString()):a.ud===Vd?"nodeDataArray"===a.Ze?
(c=a.oldValue,x.rb(c)&&(d=this.qb(c),d!==f&&(b?(x.Ki(this.pf,a.Kf,c),this.oc.add(d,c)):(x.Li(this.pf,a.Kf),this.oc.remove(d))))):""===a.Ze?(c=a.object,!x.isArray(c)&&a.propertyName&&(c=x.$a(a.object,a.propertyName)),x.isArray(c)&&(d=a.oldValue,e=a.Kf,b?x.Ki(c,e,d):x.Li(c,e))):x.m("unknown ChangedEvent.Remove object: "+a.toString()):a.ud!==Dd&&x.m("unknown ChangedEvent: "+a.toString())};J.prototype.startTransaction=J.prototype.lc=function(a){return this.xa.lc(a)};
J.prototype.commitTransaction=J.prototype.se=function(a){return this.xa.se(a)};J.prototype.rollbackTransaction=J.prototype.Vs=function(){return this.xa.Vs()};J.prototype.updateTargetBindings=J.prototype.Bb=function(a,b){b===f&&(b="");we(this,"SourceChanged",Dd,b,a,p,p)};x.g(J,"nodeKeyProperty",J.prototype.nl);
x.defineProperty(J,{nl:"nodeKeyProperty"},t("Xl"),function(a){var b=this.Xl;b!==a&&(xe(a,J,"nodeKeyProperty"),0<this.oc.count&&x.m("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Xl=a,this.j("nodeKeyProperty",b,a))});function xe(a,b,c){"string"!==typeof a&&"function"!==typeof a&&x.mc(a,"string or function",b,c)}
J.prototype.getKeyForNodeData=J.prototype.qb=function(a){if(a!==p){var b=this.Xl;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("Key value for node data "+a+" is not a number or a string: "+b)}}};
J.prototype.setKeyForNodeData=J.prototype.tA=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.mc(b,"number or string",J,"setKeyForNodeData:key");if(a!==p){var c=this.Xl;if(""!==c)if(this.ue(a)){var d=x.$a(a,c);d!==b&&this.Se(b)===p&&(x.Qa(a,c,b),this.oc.remove(d),this.oc.add(b,a),we(this,"nodeKey",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c),this.Us(d,b))}else x.Qa(a,c,b)}};x.g(J,"makeUniqueKeyFunction",J.prototype.OH);
x.defineProperty(J,{OH:"makeUniqueKeyFunction"},t("lu"),function(a){var b=this.lu;b!==a&&(a!==p&&x.k(a,"function",J,"makeUniqueKeyFunction"),this.lu=a,this.j("makeUniqueKeyFunction",b,a))});function ye(a){return"number"===typeof a||"string"===typeof a}J.prototype.containsNodeData=J.prototype.ue=function(a){a=this.qb(a);return a===f?q:this.oc.contains(a)};J.prototype.findNodeDataForKey=J.prototype.Se=function(a){a===p&&x.m("Model.findNodeDataForKey:key must not be null");return a===f||!ye(a)?p:this.oc.va(a)};
x.g(J,"nodeDataArray",J.prototype.sg);
x.defineProperty(J,{sg:"nodeDataArray"},t("pf"),function(a){var b=this.pf;if(b!==a){x.cs(a,J,"nodeDataArray");this.oc.clear();this.FA();for(var c=x.Zb(a),d=0;d<c;d++){var e=x.Kb(a,d);if(!x.rb(e)){x.m("Model.nodeDataArray must only contain Objects, not: "+e);return}x.vs(e)}this.pf=a;for(var g=new H(Object),d=0;d<c;d++){var e=x.Kb(a,d),i=this.qb(e);i===f?g.add(e):this.oc.va(i)!==p?g.add(e):this.oc.add(i,e)}for(d=g.l;d.next();)e=d.value,this.fE(e),g=this.qb(e),this.oc.add(g,e);we(this,"nodeDataArray",
Gd,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=x.Kb(a,d),this.To(e),this.So(e);this.Lg.clear();Array.isArray(a)||(this.ib=h)}});
J.prototype.makeNodeDataKeyUnique=J.prototype.fE=function(a){if(a!==p){var b=this.Xl;if(""!==b){var c=this.qb(a);if(c===f||this.oc.contains(c)){var d=this.lu;if(d!==p&&(c=d(this,a),c!==f&&c!==p&&!this.oc.contains(c))){x.Qa(a,b,c);return}if("string"===typeof c){for(d=2;this.oc.contains(c+d);)d++;x.Qa(a,b,c+d)}else if(c===f||"number"===typeof c){for(d=-this.oc.count-1;this.oc.contains(d);)d--;x.Qa(a,b,d)}else x.m("Model.getKeyForNodeData returned something other than a string or a number: "+c)}}}};
J.prototype.addNodeData=J.prototype.Wr=function(a){if(a!==p){x.vs(a);var b=this.qb(a);b!==f&&this.oc.va(b)===a||(this.fE(a),b=this.qb(a),this.oc.add(b,a),b=x.Zb(this.pf),x.Ki(this.pf,b,a),we(this,"nodeDataArray",Ud,"nodeDataArray",this,p,a,p,b),this.To(a),this.So(a))}};J.prototype.removeNodeData=J.prototype.EE=function(a){if(a!==p){var b=this.qb(a);b!==f&&this.oc.contains(b)&&(this.oc.remove(b),b=x.Yy(this.pf,a),0>b||(x.Li(this.pf,b),we(this,"nodeDataArray",Vd,"nodeDataArray",this,a,p,b,p),this.it(a)))}};
da=J.prototype;da.Us=function(a,b){var c=ze(this,a);c instanceof qa&&this.Lg.add(b,c)};da.FA=aa();da.To=aa();da.So=aa();da.it=aa();function Ae(a,b,c){if(b!==f){var d=a.Lg.va(b);d===p&&(d=new qa,a.Lg.add(b,d));d.add(c)}}function Be(a,b,c){if(b!==f){var d=a.Lg.va(b);d instanceof qa&&(c===f||c===p?a.Lg.remove(b):(d.remove(c),0===d.count&&a.Lg.remove(b)))}}
J.prototype.dumpDelayedReferences=J.prototype.BK=function(){x.trace("DelayedReferences ("+this.Lg.count+")");for(var a=this.Lg.l;a.next();){for(var b="",c=a.value.l;c.next();)b+=Wd(c.value)+", ";x.trace("  "+a.key+": "+b)}};function ze(a,b){if(b===f)return p;var c=a.Lg.va(b);return c instanceof qa?c:p}x.g(J,"copyNodeDataFunction",J.prototype.HG);
x.defineProperty(J,{HG:"copyNodeDataFunction"},t("Ft"),function(a){var b=this.Ft;b!==a&&(a!==p&&x.k(a,"function",J,"copyNodeDataFunction"),this.Ft=a,this.j("copyNodeDataFunction",b,a))});J.prototype.copyNodeData=J.prototype.Rj=function(a){if(a===p)return p;var b=p,b=this.Ft;if(b!==p)b=b(a,this);else{var b=new a.constructor,c;for(c in a)x.Qa(b,c,x.$a(a,c))}b&&x.nc(b);return b};
J.prototype.setDataProperty=J.prototype.pw=function(a,b,c){u&&(x.k(a,"object",J,"setDataProperty:data"),x.k(b,"string",J,"setDataProperty:propname"),""===b&&x.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.ue(a))if(b===this.nl)this.tA(a,c);else if(b===this.ml){this.ow(a,c);return}var d=x.$a(a,b);d!==c&&(x.Qa(a,b,c),this.dA(a,b,d,c))};J.prototype.addArrayItem=J.prototype.bJ=function(a,b){this.tH(a,-1,b)};
J.prototype.insertArrayItem=J.prototype.tH=function(a,b,c){u&&(x.cs(a,J,"insertArrayItem:arr"),x.n(b,J,"insertArrayItem:idx"));a===this.pf&&x.m("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray");0>b&&(b=x.Zb(a));x.Ki(a,b,c);we(this,"",Ud,"",a,p,c,p,b)};
J.prototype.removeArrayItem=J.prototype.iM=function(a,b){b===f&&(b=-1);u&&(x.cs(a,J,"removeArrayItem:arr"),x.n(b,J,"removeArrayItem:idx"));a===this.pf&&x.m("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=x.Zb(a)-1);var c=x.Kb(a,b);x.Li(a,b);we(this,"",Vd,"",a,c,p,b,p)};x.g(J,"nodeCategoryProperty",J.prototype.ml);
x.defineProperty(J,{ml:"nodeCategoryProperty"},t("Sq"),function(a){var b=this.Sq;b!==a&&(xe(a,J,"nodeCategoryProperty"),this.Sq=a,this.j("nodeCategoryProperty",b,a))});J.prototype.getCategoryForNodeData=J.prototype.zD=function(a){if(a===p)return"";var b=this.Sq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
J.prototype.setCategoryForNodeData=J.prototype.ow=function(a,b){x.k(b,"string",J,"setCategoryForNodeData:cat");if(a!==p){var c=this.Sq;if(""!==c)if(this.ue(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Qa(a,c,b),we(this,"nodeCategory",Gd,c,a,d,b))}else x.Qa(a,c,b)}};
function T(a,b){2<arguments.length&&x.m("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.");J.call(this);this.Jk=[];this.rn=new qa(Object);this.qk=this.Et=p;this.sj="from";this.uj="to";this.zq=this.yq="";this.vq="category";this.xh=this.Au="";this.zu="isGroup";this.Bj="group";a!==f&&(this.sg=a);b!==f&&(this.eh=b)}x.S("GraphLinksModel",T);x.Ja(T,J);
T.prototype.clear=T.prototype.clear=function(){J.prototype.clear.call(this);this.Jk=[];this.rn.clear()};T.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.AA();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){var b=b+"\n node data:",a=this.sg,c=x.Zb(a),d;for(d=0;d<c;d++)var e=x.Kb(a,d),b=b+(" "+this.qb(e)+":"+Wd(e));b+="\n link data:";a=this.eh;c=x.Zb(a);for(d=0;d<c;d++)e=x.Kb(a,d),b+=" "+this.vm(e)+"--\>"+this.wm(e)}return b};
T.prototype.writeJsonProtected=T.prototype.Aw=function(){var a=J.prototype.Aw.call(this),b="";"category"!==this.Ao&&"string"===typeof this.Ao&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.Ao));"from"!==this.Bo&&"string"===typeof this.Bo&&(b+=',\n "linkFromKeyProperty": '+this.quote(this.Bo));"to"!==this.Fo&&"string"===typeof this.Fo&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.Fo));""!==this.Co&&"string"===typeof this.Co&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.Co));""!==
this.Go&&"string"===typeof this.Go&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.Go));""!==this.Oo&&"string"===typeof this.Oo&&(b+=',\n "nodeIsLinkLabelProperty": '+this.quote(this.Oo));""!==this.Do&&"string"===typeof this.Do&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.Do));"isGroup"!==this.No&&"string"===typeof this.No&&(b+=',\n "nodeIsGroupProperty": '+this.quote(this.No));"group"!==this.Mo&&"string"===typeof this.Mo&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Mo));return a+
b};T.prototype.KA=function(){var a=J.prototype.KA.call(this),b=',\n  "linkDataArray": '+Yd(this,this.eh,h);return a+b};
T.prototype.readJsonProtected=T.prototype.jw=function(a){J.prototype.jw.call(this,a);a.linkFromKeyProperty&&(this.Bo=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.Fo=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.Co=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.Go=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.Ao=a.linkCategoryProperty);a.nodeIsLinkLabelProperty&&(this.Oo=a.nodeIsLinkLabelProperty);a.linkLabelKeysProperty&&(this.Do=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&
(this.No=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.Mo=a.nodeGroupKeyProperty)};T.prototype.eA=function(a){J.prototype.eA.call(this,a);a.linkDataArray&&(a=a.linkDataArray,Zd(this,a),this.eh=a)};
T.prototype.az=function(a,b){if(a.ud===Ud){var c=p;"linkDataArray"===a.Ze?c=this.eh:"linkLabelKeys"===a.Ze&&(c=this.il(a.object));if(x.isArray(c)){b?x.Li(c,a.Jf):x.Ki(c,a.Jf,a.newValue);return}}else if(a.ud===Vd&&(c=p,"linkDataArray"===a.Ze?c=this.eh:"linkLabelKeys"===a.Ze&&(c=this.il(a.object)),x.isArray(c))){b?x.Ki(c,a.Kf,a.oldValue):x.Li(c,a.Kf);return}J.prototype.az.call(this,a,b)};x.g(T,"archetypeNodeData",T.prototype.$r);
x.defineProperty(T,{$r:"archetypeNodeData"},t("qk"),function(a){var b=this.qk;b!==a&&(a!==p&&x.i(a,Object,T,"archetypeNodeData"),this.qk=a,this.j("archetypeNodeData",b,a))});T.prototype.Dm=function(a){if(a!==f){var b=this.qk;if(b!==p){var c=this.Se(a);c===p&&(c=this.Rj(b),x.Qa(c,this.Xl,a),this.Wr(c))}return a}};x.g(T,"linkFromKeyProperty",T.prototype.Bo);
x.defineProperty(T,{Bo:"linkFromKeyProperty"},t("sj"),function(a){var b=this.sj;b!==a&&(xe(a,T,"linkFromKeyProperty"),this.sj=a,this.j("linkFromKeyProperty",b,a))});T.prototype.getFromKeyForLinkData=T.prototype.vm=function(a){if(a!==p){var b=this.sj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
T.prototype.setFromKeyForLinkData=T.prototype.rw=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.mc(b,"number or string",T,"setFromKeyForLinkData:key");if(a!==p){var c=this.sj;if(""!==c)if(b=this.Dm(b),this.Ni(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Qa(a,c,b),this.Se(b)===p&&Ae(this,b,a),we(this,"linkFromKey",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};x.g(T,"linkToKeyProperty",T.prototype.Fo);
x.defineProperty(T,{Fo:"linkToKeyProperty"},t("uj"),function(a){var b=this.uj;b!==a&&(xe(a,T,"linkToKeyProperty"),this.uj=a,this.j("linkToKeyProperty",b,a))});T.prototype.getToKeyForLinkData=T.prototype.wm=function(a){if(a!==p){var b=this.uj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
T.prototype.setToKeyForLinkData=T.prototype.sw=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.mc(b,"number or string",T,"setToKeyForLinkData:key");if(a!==p){var c=this.uj;if(""!==c)if(b=this.Dm(b),this.Ni(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Qa(a,c,b),this.Se(b)===p&&Ae(this,b,a),we(this,"linkToKey",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};x.g(T,"linkFromPortIdProperty",T.prototype.Co);
x.defineProperty(T,{Co:"linkFromPortIdProperty"},t("yq"),function(a){var b=this.yq;b!==a&&(xe(a,T,"linkFromPortIdProperty"),this.yq=a,this.j("linkFromPortIdProperty",b,a))});T.prototype.getFromPortIdForLinkData=T.prototype.hH=function(a){if(a===p)return"";var b=this.yq;if(""===b)return"";a=x.$a(a,b);return a===f?"":a};
T.prototype.setFromPortIdForLinkData=T.prototype.Zs=function(a,b){x.k(b,"string",T,"setFromPortIdForLinkData:portname");if(a!==p){var c=this.yq;if(""!==c)if(this.Ni(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Qa(a,c,b),we(this,"linkFromPortId",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};x.g(T,"linkToPortIdProperty",T.prototype.Go);
x.defineProperty(T,{Go:"linkToPortIdProperty"},t("zq"),function(a){var b=this.zq;b!==a&&(xe(a,T,"linkToPortIdProperty"),this.zq=a,this.j("linkToPortIdProperty",b,a))});T.prototype.getToPortIdForLinkData=T.prototype.kH=function(a){if(a===p)return"";var b=this.zq;if(""===b)return"";a=x.$a(a,b);return a===f?"":a};
T.prototype.setToPortIdForLinkData=T.prototype.$s=function(a,b){x.k(b,"string",T,"setToPortIdForLinkData:portname");if(a!==p){var c=this.zq;if(""!==c)if(this.Ni(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Qa(a,c,b),we(this,"linkToPortId",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};x.g(T,"nodeIsLinkLabelProperty",T.prototype.Oo);
x.defineProperty(T,{Oo:"nodeIsLinkLabelProperty"},t("Au"),function(a){var b=this.Au;b!==a&&(xe(a,T,"nodeIsLinkLabelProperty"),this.Au=a,this.j("nodeIsLinkLabelProperty",b,a))});T.prototype.isLinkLabelForNodeData=T.prototype.Jz=function(a){if(a===p)return q;var b=this.Au;return""===b?q:x.$a(a,b)?h:q};x.g(T,"linkLabelKeysProperty",T.prototype.Do);
x.defineProperty(T,{Do:"linkLabelKeysProperty"},t("xh"),function(a){var b=this.xh;b!==a&&(xe(a,T,"linkLabelKeysProperty"),this.xh=a,this.j("linkLabelKeysProperty",b,a))});T.prototype.getLabelKeysForLinkData=T.prototype.il=function(a){if(a===p)return[];var b=this.xh;if(""===b)return[];a=x.$a(a,b);return a===f?[]:a};
T.prototype.setLabelKeysForLinkData=T.prototype.TE=function(a,b){x.cs(b,T,"setLabelKeysForLinkData:arr");if(a!==p){var c=this.xh;if(""!==c)if(this.Ni(a)){var d=x.$a(a,c);d===f&&(d=[]);if(d!==b){for(var e=x.Zb(d),g=0;g<e;g++){var i=x.Kb(d,g);Be(this,i,a)}x.Qa(a,c,b);e=x.Zb(b);for(g=0;g<e;g++)i=x.Kb(b,g),this.Se(i)===p&&Ae(this,i,a);we(this,"linkLabelKeys",Gd,c,a,d,b);"string"===typeof c&&this.Bb(a,c)}}else x.Qa(a,c,b)}};
T.prototype.addLabelKeyForLinkData=T.prototype.xC=function(a,b){if(!(b===p||b===f))if(ye(b)||x.mc(b,"number or string",T,"addLabelKeyForLinkData:key"),a!==p){var c=this.xh;if(""!==c){var d=x.$a(a,c);d===f?this.TE(a,[b]):x.isArray(d)?0<=x.Yy(d,b)||(x.Ki(d,Infinity,b),this.Ni(a)&&(this.Se(b)===p&&Ae(this,b,a),we(this,"linkLabelKeys",Ud,c,a,p,b))):x.m(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
T.prototype.removeLabelKeyForLinkData=T.prototype.mI=function(a,b){if(!(b===p||b===f))if(ye(b)||x.mc(b,"number or string",T,"removeLabelKeyForLinkData:key"),a!==p){var c=this.xh;if(""!==c){var d=x.$a(a,c);if(x.isArray(d)){var e=x.Yy(d,b);0>e||(x.Li(d,e),this.Ni(a)&&(Be(this,b,a),we(this,"linkLabelKeys",Vd,c,a,b,p)))}else d!==f&&x.m(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};x.g(T,"linkDataArray",T.prototype.eh);
x.defineProperty(T,{eh:"linkDataArray"},t("Jk"),function(a){var b=this.Jk;if(b!==a){x.cs(a,T,"linkDataArray");for(var c=x.Zb(a),d=0;d<c;d++){var e=x.Kb(a,d);if(!x.rb(e)){x.m("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}x.vs(e)}this.Jk=a;for(var g=new qa(Object),d=0;d<c;d++)e=x.Kb(a,d),g.add(e);this.rn=g;we(this,"linkDataArray",Gd,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=x.Kb(a,d),Ce(this,e)}});
T.prototype.containsLinkData=T.prototype.Ni=function(a){return a===p?q:this.rn.contains(a)};T.prototype.addLinkData=T.prototype.yC=function(a){if(a!==p){if(x.ic(a)===f)x.nc(a);else if(this.Ni(a))return;this.rn.add(a);var b=x.Zb(this.Jk);x.Ki(this.Jk,b,a);we(this,"linkDataArray",Ud,"linkDataArray",this,p,a,p,b);Ce(this,a)}};
T.prototype.removeLinkData=T.prototype.nI=function(a){if(a!==p){this.rn.remove(a);var b=this.Jk.indexOf(a);if(!(0>b)){x.Li(this.Jk,b);we(this,"linkDataArray",Vd,"linkDataArray",this,a,p,b,p);b=this.vm(a);Be(this,b,a);b=this.wm(a);Be(this,b,a);for(var c=this.il(a),d=x.Zb(c),e=0;e<d;e++)b=x.Kb(c,e),Be(this,b,a)}}};function Ce(a,b){var c=a.vm(b),c=a.Dm(c);a.Se(c)===p&&Ae(a,c,b);c=a.wm(b);c=a.Dm(c);a.Se(c)===p&&Ae(a,c,b);for(var d=a.il(b),e=x.Zb(d),g=0;g<e;g++)c=x.Kb(d,g),a.Se(c)===p&&Ae(a,c,b)}
x.g(T,"copyLinkDataFunction",T.prototype.GG);x.defineProperty(T,{GG:"copyLinkDataFunction"},t("Et"),function(a){var b=this.Et;b!==a&&(a!==p&&x.k(a,"function",T,"copyLinkDataFunction"),this.Et=a,this.j("copyLinkDataFunction",b,a))});
T.prototype.copyLinkData=T.prototype.VC=function(a){if(a===p)return p;var b=p,b=this.Et;if(b!==p)b=b(a,this);else{var b=new a.constructor,c;for(c in a)x.Qa(b,c,x.$a(a,c))}b&&(x.nc(b),""!==this.sj&&x.Qa(b,this.sj,f),""!==this.uj&&x.Qa(b,this.uj,f),""!==this.xh&&x.Qa(b,this.xh,[]));return b};x.g(T,"nodeIsGroupProperty",T.prototype.No);x.defineProperty(T,{No:"nodeIsGroupProperty"},t("zu"),function(a){var b=this.zu;b!==a&&(xe(a,T,"nodeIsGroupProperty"),this.zu=a,this.j("nodeIsGroupProperty",b,a))});
T.prototype.isGroupForNodeData=T.prototype.Hz=function(a){if(a===p)return q;var b=this.zu;return""===b?q:x.$a(a,b)?h:q};x.g(T,"nodeGroupKeyProperty",T.prototype.Mo);x.defineProperty(T,{Mo:"nodeGroupKeyProperty"},t("Bj"),function(a){var b=this.Bj;b!==a&&(xe(a,T,"nodeGroupKeyProperty"),this.Bj=a,this.j("nodeGroupKeyProperty",b,a))});
T.prototype.getGroupKeyForNodeData=T.prototype.so=function(a){if(a!==p){var b=this.Bj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
T.prototype.setGroupKeyForNodeData=T.prototype.sA=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.mc(b,"number or string",T,"setGroupKeyForNodeData:key");if(a!==p){var c=this.Bj;if(""!==c)if(this.ue(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Qa(a,c,b),this.Se(b)===p&&Ae(this,b,a),we(this,"nodeGroupKey",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};T.prototype.copyNodeData=T.prototype.Rj=function(a){if(a===p)return p;a=J.prototype.Rj.call(this,a);""!==this.Bj&&x.Qa(a,this.Bj,f);return a};
T.prototype.setDataProperty=T.prototype.pw=function(a,b,c){u&&(x.k(a,"object",T,"setDataProperty:data"),x.k(b,"string",T,"setDataProperty:propname"),""===b&&x.m("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.ue(a))if(b===this.nl)this.tA(a,c);else{if(b===this.ml){this.ow(a,c);return}if(b===this.Mo){this.sA(a,c);return}b===this.No?x.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b):b===this.Oo&&
x.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsLinkLabelProperty: "+b)}else if(this.Ni(a)){if(b===this.Bo){this.rw(a,c);return}if(b===this.Fo){this.sw(a,c);return}if(b===this.Co){this.Zs(a,c);return}if(b===this.Go){this.$s(a,c);return}if(b===this.Ao){this.SE(a,c);return}if(b===this.Do){this.TE(a,c);return}}var d=x.$a(a,b);d!==c&&(x.Qa(a,b,c),this.dA(a,b,d,c))};da=T.prototype;
da.Us=function(a,b){J.prototype.Us.call(this,a,b);for(var c=this.oc.l;c.next();)this.iA(c.value,a,b);for(c=this.rn.l;c.next();){var d=c.value,e=a,g=b;if(this.vm(d)===e){var i=this.sj;x.Qa(d,i,g);we(this,"linkFromKey",Gd,i,d,e,g);"string"===typeof i&&this.Bb(d,i)}this.wm(d)===e&&(i=this.uj,x.Qa(d,i,g),we(this,"linkToKey",Gd,i,d,e,g),"string"===typeof i&&this.Bb(d,i));for(var j=this.il(d),k=x.Zb(j),i=this.xh,l=0;l<k;l++)x.Kb(j,l)===e&&(x.FC(j,l,g),we(this,"linkLabelKeys",Ud,i,d,e,g))}};
da.iA=function(a,b,c){if(this.so(a)===b){var d=this.Bj;x.Qa(a,d,c);we(this,"nodeGroupKey",Gd,d,a,b,c);"string"===typeof d&&this.Bb(a,d)}};da.FA=function(){J.prototype.FA.call(this);for(var a=this.eh,b=x.Zb(a),c=0;c<b;c++)Ce(this,x.Kb(a,c))};
da.To=function(a){J.prototype.To.call(this,a);var a=this.qb(a),b=ze(this,a);if(b!==p){for(var c=new H(Object),b=b.l;b.next();){var d=b.value;if(this.ue(d)){if(this.so(d)===a){var e=this.Bj;we(this,"nodeGroupKey",Gd,e,d,a,a);"string"===typeof e&&this.Bb(d,e);c.add(d)}}else{this.vm(d)===a&&(e=this.sj,we(this,"linkFromKey",Gd,e,d,a,a),"string"===typeof e&&this.Bb(d,e),c.add(d));this.wm(d)===a&&(e=this.uj,we(this,"linkToKey",Gd,e,d,a,a),"string"===typeof e&&this.Bb(d,e),c.add(d));for(var g=this.il(d),
i=x.Zb(g),e=this.xh,j=0;j<i;j++)x.Kb(g,j)===a&&(we(this,"linkLabelKeys",Ud,e,d,a,a),c.add(d))}}for(c=c.l;c.next();)Be(this,a,c.value)}};da.So=function(a){J.prototype.So.call(this,a);var b=this.so(a);this.Se(b)===p&&Ae(this,b,a)};da.it=function(a){J.prototype.it.call(this,a);var b=this.so(a);Be(this,b,a)};x.g(T,"linkCategoryProperty",T.prototype.Ao);
x.defineProperty(T,{Ao:"linkCategoryProperty"},t("vq"),function(a){var b=this.vq;b!==a&&(xe(a,T,"linkCategoryProperty"),this.vq=a,this.j("linkCategoryProperty",b,a))});T.prototype.getCategoryForLinkData=T.prototype.yD=function(a){if(a===p)return"";var b=this.vq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getCategoryForLinkData found a non-string category for "+a+": "+b);return b};
T.prototype.setCategoryForLinkData=T.prototype.SE=function(a,b){x.k(b,"string",T,"setCategoryForLinkData:cat");if(a!==p){var c=this.vq;if(""===c)return"";if(this.Ni(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Qa(a,c,b),we(this,"linkCategory",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};
function $d(a){1<arguments.length&&x.m("TreeModel constructor can only take one optional argument, the Array of node data.");J.call(this);this.Cj="parent";this.Wq="parentLinkCategory";a!==f&&(this.sg=a)}x.S("TreeModel",$d);x.Ja($d,J);$d.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.AA();var b=(""!==this.name?this.name:"")+" TreeModel";if(0<a){var b=b+"\n node data:",a=this.sg,c=x.Zb(a),d;for(d=0;d<c;d++)var e=x.Kb(a,d),b=b+(" "+this.qb(e)+":"+Wd(e))}return b};
$d.prototype.writeJsonProtected=$d.prototype.Aw=function(){var a=J.prototype.Aw.call(this),b="";"parent"!==this.Po&&"string"===typeof this.Po&&(b+=',\n  "nodeParentKeyProperty": '+this.quote(this.Po));return a+b};$d.prototype.readJsonProtected=$d.prototype.jw=function(a){J.prototype.jw.call(this,a);a.nodeParentKeyProperty&&(this.Po=a.nodeParentKeyProperty)};$d.prototype.Dm=function(a){return a};x.g($d,"nodeParentKeyProperty",$d.prototype.Po);
x.defineProperty($d,{Po:"nodeParentKeyProperty"},t("Cj"),function(a){var b=this.Cj;b!==a&&(xe(a,$d,"nodeParentKeyProperty"),this.Cj=a,this.j("nodeParentKeyProperty",b,a))});$d.prototype.getParentKeyForNodeData=$d.prototype.to=function(a){if(a!==p){var b=this.Cj;if(""!==b&&(b=x.$a(a,b),b!==f)){if(ye(b))return b;u&&x.trace("ParentKey value for node data "+a+" is not a number or a string: "+b)}}};
$d.prototype.setParentKeyForNodeData=$d.prototype.Lf=function(a,b){b===p&&(b=f);b!==f&&!ye(b)&&x.mc(b,"number or string",$d,"setParentKeyForNodeData:key");if(a!==p){var c=this.Cj;if(""!==c)if(b=this.Dm(b),this.ue(a)){var d=x.$a(a,c);d!==b&&(Be(this,d,a),x.Qa(a,c,b),this.Se(b)===p&&Ae(this,b,a),we(this,"nodeParentKey",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};x.g($d,"parentLinkCategoryProperty",$d.prototype.eI);
x.defineProperty($d,{eI:"parentLinkCategoryProperty"},t("Wq"),function(a){var b=this.Wq;b!==a&&(xe(a,$d,"parentLinkCategoryProperty"),this.Wq=a,this.j("parentLinkCategoryProperty",b,a))});$d.prototype.getParentLinkCategoryForNodeData=$d.prototype.jH=function(a){if(a===p)return"";var b=this.Wq;if(""===b)return"";b=x.$a(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("getParentLinkCategoryForNodeData found a non-string category for "+a+": "+b);return b};
$d.prototype.setParentLinkCategoryForNodeData=$d.prototype.yI=function(a,b){x.k(b,"string",$d,"setParentLinkCategoryForNodeData:cat");if(a!==p){var c=this.Wq;if(""===c)return"";if(this.ue(a)){var d=x.$a(a,c);d===f&&(d="");d!==b&&(x.Qa(a,c,b),we(this,"parentLinkCategory",Gd,c,a,d,b),"string"===typeof c&&this.Bb(a,c))}else x.Qa(a,c,b)}};$d.prototype.copyNodeData=$d.prototype.Rj=function(a){if(a===p)return p;a=J.prototype.Rj.call(this,a);""!==this.Cj&&x.Qa(a,this.Cj,f);return a};
$d.prototype.setDataProperty=$d.prototype.pw=function(a,b,c){u&&(x.k(a,"object",J,"setDataProperty:data"),x.k(b,"string",J,"setDataProperty:propname"),""===b&&x.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.ue(a))if(b===this.nl)this.tA(a,c);else{if(b===this.ml){this.ow(a,c);return}if(b===this.Po){this.Lf(a,c);return}}var d=x.$a(a,b);d!==c&&(x.Qa(a,b,c),this.dA(a,b,d,c))};da=$d.prototype;
da.Us=function(a,b){J.prototype.Us.call(this,a,b);for(var c=this.oc.l;c.next();)this.iA(c.value,a,b)};da.iA=function(a,b,c){if(this.to(a)===b){var d=this.Cj;x.Qa(a,d,c);we(this,"nodeParentKey",Gd,d,a,b,c);"string"===typeof d&&this.Bb(a,d)}};
da.To=function(a){J.prototype.To.call(this,a);var a=this.qb(a),b=ze(this,a);if(b!==p){for(var c=new H(Object),b=b.l;b.next();){var d=b.value;if(this.ue(d)&&this.to(d)===a){var e=this.Cj;we(this,"nodeParentKey",Gd,e,d,a,a);"string"===typeof e&&this.Bb(d,e);c.add(d)}}for(c=c.l;c.next();)Be(this,a,c.value)}};da.So=function(a){J.prototype.So.call(this,a);var b=this.to(a),b=this.Dm(b);this.Se(b)===p&&Ae(this,b,a)};da.it=function(a){J.prototype.it.call(this,a);var b=this.to(a);Be(this,b,a)};
function De(a,b,c){x.nc(this);a===f?a="":x.k(a,"string",De,"constructor:targetprop");b===f?b=a:x.k(b,"string",De,"constructor:sourceprop");c===f?c=p:c!==p&&x.k(c,"function",De,"constructor:conv");this.iC="";this.dg=p;this.fv=a;this.dv=this.Ay=0;this.$B=p;this.Yu=b;this.kx=c;this.Vx=Ee;this.gx=p}x.S("Binding",De);var Ee;De.OneWay=Ee=x.s(De,"OneWay",1);var Fe;De.TwoWay=Fe=x.s(De,"TwoWay",2);
De.parseEnum=function(a,b){x.k(a,"function",De,"parseEnum:ctor");x.ob(b,a,De,"parseEnum:defval");return function(c){return x.tm(a,c)||b}};var Wd;De.toString=Wd=function(a){var b=a;x.rb(a)&&(a.text?b=a.text:a.Text?b=a.Text:a.name?b=a.name:a.Name?b=a.Name:a.key!==f?b=a.key:a.Key!==f?b=a.Key:a.id!==f?b=a.id:a.Id!==f?b=a.Id:a.ID!==f&&(b=a.ID));return b===f?"undefined":b===p?"null":b.toString()};De.prototype.toString=function(){return"Binding("+this.Jm+" "+this.xA+":"+this.vA+")"};
De.prototype.freeze=function(){this.gb=h;return this};De.prototype.Na=function(){this.gb=q;return this};x.g(De,"targetId",De.prototype.Jm);x.defineProperty(De,{Jm:p},t("iC"),function(a){x.C(this);x.k(a,"string",De,"targetId");this.iC=a});x.g(De,"targetProperty",De.prototype.xA);x.defineProperty(De,{xA:"targetProperty"},t("fv"),function(a){x.C(this);x.k(a,"string",De,"targetProperty");this.fv=a});x.g(De,"sourceName",De.prototype.ct);
x.defineProperty(De,{ct:"sourceName"},t("$B"),function(a){x.C(this);x.k(a,"string",De,"sourceName");this.$B=a});x.g(De,"sourceProperty",De.prototype.vA);x.defineProperty(De,{vA:"sourceProperty"},t("Yu"),function(a){x.C(this);x.k(a,"string",De,"sourceProperty");this.Yu=a});x.g(De,"converter",De.prototype.SC);x.defineProperty(De,{SC:"converter"},t("kx"),function(a){x.C(this);a!==p&&x.k(a,"function",De,"converter");this.kx=a});x.g(De,"backConverter",De.prototype.KC);
x.defineProperty(De,{KC:"backConverter"},t("gx"),function(a){x.C(this);a!==p&&x.k(a,"function",De,"backConverter");this.gx=a});x.g(De,"mode",De.prototype.mode);x.defineProperty(De,{mode:"mode"},t("Vx"),function(a){x.C(this);x.ob(a,De,De,"mode");this.Vx=a});De.prototype.makeTwoWay=De.prototype.KL=function(a){a===f&&(a=p);this.mode=Fe;this.KC=a;return this};De.prototype.ofObject=De.prototype.aA=function(a){a===f&&(a="");u&&x.k(a,"string",De,"ofObject:srcname");this.ct=a;return this};
De.prototype.updateTarget=De.prototype.pF=function(a,b,c){var d=this.Yu;if(!(c&&d!==c)){var c=this.fv,e=this.kx;if(!(e===p&&""===c)){u&&("string"===typeof c&&"function"!==typeof a.setAttribute&&!x.Ez(a,c))&&x.trace("Binding error: undefined target property: "+c+" on "+a.toString());var g=b;""!==d&&(g=x.$a(b,d));if(g!==f)if(e===p)""!==c&&x.Qa(a,c,g);else try{if(""!==c){var i=e(g,a);x.Qa(a,c,i)}else e(g,a)}catch(j){u&&x.trace("Binding error: "+j.toString())}}}};
De.prototype.updateSource=De.prototype.oF=function(a,b,c,d){if(this.Vx===Fe){var e=this.fv;if(!(c&&e!==c)){var c=this.Yu,g=this.gx;if(!(g===p&&""===c)){var i=a;""!==e&&(i=x.$a(a,e));if(i!==f)if(g===p)d&&d.Y?d.Y.pw(b,c,i):x.Qa(b,c,i);else try{if(""!==c){var j=g(i,b);d&&d.Y?d.Y.pw(b,c,j):x.Qa(b,c,j)}else g(i,b)}catch(k){u&&x.trace("Binding error: "+k.toString())}}}}};function Ge(){this.zF=(new H(Cd)).freeze();this.Hb="";this.AB=q}x.S("Transaction",Ge);
Ge.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.Jh.count.toString()+(this.vo?"":", incomplete");if(a!==f&&0<a)for(var c=this.Jh.count,d=0;d<c;d++){var e=this.Jh.ia(d);e!==p&&(b+="\n  "+e.toString(a-1))}return b};Ge.prototype.clear=Ge.prototype.clear=function(){var a=this.Jh;a.Na();for(var b=a.count-1;0<=b;b--){var c=a.ia(b);c!==p&&c.clear()}a.clear();a.freeze()};Ge.prototype.canUndo=Ge.prototype.$k=t("vo");
Ge.prototype.undo=Ge.prototype.ul=function(){if(this.$k())for(var a=this.Jh.count-1;0<=a;a--){var b=this.Jh.ia(a);b!==p&&b.ul()}};Ge.prototype.canRedo=Ge.prototype.Yk=t("vo");Ge.prototype.redo=Ge.prototype.Qo=function(){if(this.Yk())for(var a=this.Jh.count,b=0;b<a;b++){var c=this.Jh.ia(b);c!==p&&c.Qo()}};x.u(Ge,{Jh:"changes"},t("zF"));x.g(Ge,"name",Ge.prototype.name);x.defineProperty(Ge,{name:"name"},t("Hb"),ba("Hb"));x.g(Ge,"isComplete",Ge.prototype.vo);
x.defineProperty(Ge,{vo:"isComplete"},t("AB"),ba("AB"));function Xd(){this.Wx=new qa(J);this.oi=q;this.CF=(new H(Ge)).freeze();this.Ck=-1;this.HB=999;this.pi=q;this.Jt=p;this.Sk=0;this.hx=q;u&&(this.hx=h);this.Tg=(new H("string")).freeze();this.vn=new H("number");this.Ax=h}x.S("UndoManager",Xd);
Xd.prototype.toString=function(a){for(var b="UndoManager "+this.Zj+"<"+this.history.count+"<="+this.Rz,b=b+"[",c=this.qE.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.qE.ia(d);b+="]";if(a!==f&&0<a){c=this.history.count;for(d=0;d<c;d++)b+="\n "+this.history.ia(d).toString(a-1)}return b};
Xd.prototype.clear=Xd.prototype.clear=function(){var a=this.history;a.Na();for(var b=a.count-1;0<=b;b--){var c=a.ia(b);c!==p&&c.clear()}a.clear();this.Ck=-1;a.freeze();this.pi=q;this.Jt=p;this.Sk=0;this.Tg.Na();this.Tg.clear();this.Tg.freeze();this.vn.clear()};Xd.prototype.addModel=Xd.prototype.aG=function(a){this.Wx.add(a)};Xd.prototype.removeModel=Xd.prototype.oI=function(a){this.Wx.remove(a)};
Xd.prototype.startTransaction=Xd.prototype.lc=function(a){a===p&&(a="");if(this.zb)return q;this.Ax===h&&(this.Ax=q,this.Sk++,this.Zd("StartingFirstTransaction",a,this.nm),0<this.Sk&&this.Sk--);this.isEnabled&&(this.Tg.Na(),this.Tg.add(a),this.Tg.freeze(),this.nm===p?this.vn.add(0):this.vn.add(this.nm.Jh.count));this.Sk++;var b=1===this.tl;b&&this.Zd("StartedTransaction",a);return b};Xd.prototype.commitTransaction=Xd.prototype.se=function(a){return He(this,h,a)};
Xd.prototype.rollbackTransaction=Xd.prototype.Vs=function(){return He(this,q,"")};
function He(a,b,c){if(a.zb)return q;a.bz&&1>a.tl&&x.trace("Ending transaction without having started a transaction: "+c);var d=1===a.tl;d&&(b&&a.isEnabled)&&a.Zd("CommittingTransaction",c,a.nm);var e=0;if(0<a.tl&&(a.Sk--,a.isEnabled)){var g=a.Tg.count;0<g&&(""===c&&(c=a.Tg.ia(0)),a.Tg.Na(),a.Tg.bf(g-1),a.Tg.freeze());g=a.vn.count;0<g&&(e=a.vn.ia(g-1),a.vn.bf(g-1))}g=a.nm;if(d){if(b){if(a.isEnabled&&g!==p){b=g;b.vo=h;b.name=c;d=a.history;d.Na();for(e=d.count-1;e>a.Zj;e--)g=d.ia(e),g!==p&&g.clear(),
d.bf(e);e=a.Rz;0===e&&(e=1);0<e&&d.count>=e&&(g=d.ia(0),g!==p&&g.clear(),d.bf(0),a.Ck--);d.add(b);a.Ck++;d.freeze();g=b}a.Zd("CommittedTransaction",c,g)}else{a.pi=h;try{a.isEnabled&&g!==p&&(g.vo=h,g.ul())}finally{a.Zd("RolledBackTransaction",c,g),a.pi=q}g!==p&&g.clear()}a.Jt=p;return h}if(a.isEnabled&&!b&&g!==p){a=e;c=g.Jh;for(b=c.count-1;b>=a;b--)d=c.ia(b),d!==p&&d.ul(),c.Na(),c.bf(b);c.freeze()}return q}
Xd.prototype.canUndo=Xd.prototype.$k=function(){if(!this.isEnabled||0<this.tl||this.zb)return q;var a=this.iF;return a!==p&&a.$k()?h:q};Xd.prototype.undo=Xd.prototype.ul=function(){if(this.$k()){var a=this.iF;try{this.Zd("StartingUndo","Undo",a),this.pi=h,this.Ck--,a.ul()}catch(b){x.trace("undo error: "+b.toString())}finally{this.pi=q,this.Zd("FinishedUndo","Undo",a)}}};
Xd.prototype.canRedo=Xd.prototype.Yk=function(){if(!this.isEnabled||0<this.tl||this.zb)return q;var a=this.hF;return a!==p&&a.Yk()?h:q};Xd.prototype.redo=Xd.prototype.Qo=function(){if(this.Yk()){var a=this.hF;try{this.Zd("StartingRedo","Redo",a),this.pi=h,this.Ck++,a.Qo()}catch(b){x.trace("redo error: "+b.toString())}finally{this.pi=q,this.Zd("FinishedRedo","Redo",a)}}};
Xd.prototype.Zd=function(a,b,c){c===f&&(c=p);var d=new Cd;d.ud=Dd;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.SH;a.next();)b=a.value,d.Y=b,b.tv(d)};Xd.prototype.handleChanged=Xd.prototype.GD=function(a){if(this.isEnabled&&!this.zb&&!this.skipsEvent(a)){var b=this.nm;b===p&&(this.Jt=b=new Ge);var c=a.copy(),b=b.Jh;b.Na();b.add(c);b.freeze();this.bz&&(0>=this.tl&&!this.Ax)&&(a=a.h,a!==p&&a.Og===q||x.trace("Change not within a transaction: "+c.toString()))}};
Xd.prototype.skipsEvent=Xd.prototype.wM=function(a){if(a===p||0>a.ud.value)return h;a=a.object;if(a instanceof U){if(a=a.Pa,a!==p&&a.Dc)return h}else if(a instanceof Ie&&a.Dc)return h;return q};x.u(Xd,{SH:"models"},function(){return this.Wx.l});x.g(Xd,"isEnabled",Xd.prototype.isEnabled);x.defineProperty(Xd,{isEnabled:"isEnabled"},t("oi"),ba("oi"));x.u(Xd,{iF:"transactionToUndo"},function(){return 0<=this.Zj&&this.Zj<=this.history.count-1?this.history.ia(this.Zj):p});
x.u(Xd,{hF:"transactionToRedo"},function(){return this.Zj<this.history.count-1?this.history.ia(this.Zj+1):p});x.u(Xd,{zb:"isUndoingRedoing"},t("pi"));x.u(Xd,{history:"history"},t("CF"));x.g(Xd,"maxHistoryLength",Xd.prototype.Rz);x.defineProperty(Xd,{Rz:"maxHistoryLength"},t("HB"),ba("HB"));x.u(Xd,{Zj:"historyIndex"},t("Ck"));x.u(Xd,{nm:"currentTransaction"},t("Jt"));x.u(Xd,{tl:"transactionLevel"},t("Sk"));x.u(Xd,{xH:"isInTransaction"},function(){return 0<this.Sk});
x.defineProperty(Xd,{bz:"checksTransactionLevel"},t("hx"),ba("hx"));x.u(Xd,{qE:"nestedTransactionNames"},t("Tg"));function xa(){this.da=p;this.jB=this.bB=q;this.Lk=this.UA=p;this.rC=1.05;this.Rx=NaN;this.EB=p;this.sC=NaN;this.VF=p}x.S("CommandHandler",xa);var Se=p,Te="";xa.prototype.toString=ca("CommandHandler");x.u(xa,{h:"diagram"},t("da"));xa.prototype.je=function(a){u&&a!==p&&x.i(a,w,xa,"setDiagram");this.da=a};
xa.prototype.doKeyDown=xa.prototype.qz=function(){var a=this.h;if(a!==p){var b=a.P,c=b.bl,d=b.shift,e=b.alt,g=b.key;c&&("C"===g||"Insert"===g)?this.canCopySelection()&&this.copySelection():c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():"Del"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&
this.undo():c&&"A"===g?this.canSelectAll()&&this.selectAll():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.Bf&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.Bf&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.Af&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.Af&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?d&&a.Af?a.scroll("page","left"):a.Bf&&a.scroll("page","up"):"PageDown"===g?d&&a.Af?a.scroll("page",
"right"):a.Bf&&a.scroll("page","down"):"Home"===g?(b=a.qc,c&&a.Bf?a.position=new K(a.position.x,b.y):!c&&a.Af&&(a.position=new K(b.x,a.position.y))):"End"===g?(b=a.qc,d=a.fb,c&&a.Bf?a.position=new K(d.x,b.bottom-d.height):!c&&a.Af&&(a.position=new K(b.right-d.width,d.y))):"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():d&&"Z"===g?this.canZoomToFit()&&this.zoomToFit():c&&!d&&"G"===g?this.canGroupSelection()&&
this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.bubbles=h}};xa.prototype.doKeyUp=xa.prototype.rz=function(){var a=this.h;a!==p&&(a.P.bubbles=h)};xa.prototype.stopCommand=xa.prototype.DM=function(){var a=this.h;if(a!==p){var b=a.Ka;b instanceof Ue&&a.pe&&a.dz();b!==p&&b.doCancel()}};xa.prototype.canStopCommand=xa.prototype.KJ=ca(h);
xa.prototype.selectAll=xa.prototype.qM=function(){var a=this.h;if(a!==p)try{a.Ac="wait";a.Ea("ChangingSelection");for(var b=a.$i;b.next();)b.value.Va=h;for(b=a.ol;b.next();)b.value.Va=h;for(b=a.links;b.next();)b.value.Va=h}finally{a.Ea("ChangedSelection"),a.Ac=""}};xa.prototype.canSelectAll=xa.prototype.JJ=function(){var a=this.h;return a!==p&&a.pe};
xa.prototype.deleteSelection=xa.prototype.oK=function(){var a=this.h;if(a!==p&&!a.Ea("SelectionDeleting",a.selection))try{a.Ac="wait";a.lc("Delete");a.Ea("ChangingSelection");for(var b=new qa(z),c=a.selection.l;c.next();)Ve(b,c.value,h,this.hD,function(a){return a.canDelete()});a.hA(b,h);a.Ea("SelectionDeleted",b)}finally{a.Ea("ChangedSelection"),a.se("Delete"),a.Ac=""}};
xa.prototype.canDeleteSelection=xa.prototype.sJ=function(){var a=this.h;return a===p||(a.ib||a.ze)||!a.Wk||0===a.selection.count?q:h};
function Ve(a,b,c,d,e){if(!a.contains(b)&&(e===f&&(e=p),(e===p||e(b))&&!(b instanceof We)))if(a.add(b),b instanceof A){if(c&&b instanceof B)for(var g=b.Ec;g.next();){var i=g.value;Ve(a,i,c,d,e)}for(i=b.Ud;i.next();)if(g=i.value,!a.contains(g)){var j=g.ja,k=g.na;j!==p&&a.contains(j)&&k!==p&&a.contains(k)?Ve(a,g,c,d,e):(j===p||k===p)&&Ve(a,g,c,d,e)}if(d){i=h;g=b.h;g!==p&&(i=g.ed);for(b=i?b.rD():b.qD();b.next();)i=b.value,Ve(a,i,c,d,e)}}else if(b instanceof F)for(i=b.Yi;i.next();)Ve(a,i.value,c,d,e)}
xa.prototype.copyParts=xa.prototype.io=function(a,b,c){for(var d=new pa(z,z),a=a.l;a.next();){var e=a.value;Xe(this,e,b,d,c)}if(b!==p){for(var c=b.Y,a=new qa(F),g=new pa(F,F),i=d.l;i.next();)if(e=i.value,e instanceof F)(e.ja===p||e.na===p)&&a.add(e);else if(c instanceof $d&&e instanceof A&&e.data!==p){var j=e,e=i.key,k=e.tD();k!==p&&((k=d.va(k))?(c.Lf(j.data,c.qb(k.data)),j=b.Gf(j.data),e=e.Rv(),e!==p&&j!==p&&g.add(e,j)):c.Lf(j.data,f))}0<a.count&&b.hA(a,q);if(0<g.count)for(b=g.l;b.next();)d.add(b.key,
b.value)}for(b=d.l;b.next();)b.value.Bb();return d};
function Xe(a,b,c,d,e){if(b===p||e&&!b.canCopy())return p;if(d.contains(b))return a=d.va(b),a instanceof z?a:p;var g=p,i=b.data;if(i!==p&&c!==p){var j=c.Y;b instanceof F?j instanceof T&&(i=j.VC(i),x.rb(i)&&(j.yC(i),g=c.Gf(i))):(i=j.Rj(i),x.rb(i)&&(j.Wr(i),g=c.Yj(i)))}else Ye(b),g=b.copy(),c!==p&&g instanceof z&&c.add(g);if(!(g instanceof z))return p;g.Va=q;d.add(b,g);if(b instanceof A){for(j=b.Ud;j.next();){i=j.value;if(i.ja===b){var k=d.va(i);k!==p&&(k.ja=g)}i.na===b&&(k=d.va(i),k!==p&&(k.na=g))}if(b instanceof
B&&g instanceof B)for(b=b.Ec;b.next();)j=Xe(a,b.value,c,d,e),!(j instanceof F)&&j!==p&&(j.Za=g)}else if(b instanceof F){j=b.ja;j!==p&&(j=d.va(j),j!==p&&(g.ja=j));j=b.na;j!==p&&(j=d.va(j),j!==p&&(g.na=j));for(b=b.Yi;b.next();)j=Xe(a,b.value,c,d,e),j!==p&&(j.fd=g)}return g}xa.prototype.copySelection=xa.prototype.fK=function(){var a=this.h;if(a!==p){for(var b=new qa(z),a=a.selection.l;a.next();)Ve(b,a.value,h,this.UC,function(a){return a.canCopy()});this.copyToClipboard(b)}};
xa.prototype.canCopySelection=xa.prototype.oJ=function(){var a=this.h;return a===p||(!a.Lj||!a.qv)||0===a.selection.count?q:h};xa.prototype.cutSelection=xa.prototype.jK=function(){this.copySelection();this.deleteSelection()};xa.prototype.canCutSelection=xa.prototype.pJ=function(){var a=this.h;return a===p||(a.ib||a.ze)||(!a.Lj||!a.Wk||!a.qv)||0===a.selection.count?q:h};
xa.prototype.copyToClipboard=xa.prototype.gK=function(a){var b=this.h;if(b!==p){var c=p;a===p?(Se=p,Te=""):(a=b.io(a,p,h),c=new H(z),c.Pe(a),Se=c,Te=b.Y.om);b.Ea("ClipboardChanged",c)}};xa.prototype.pasteFromClipboard=xa.prototype.$L=function(){var a=Se;if(a===p)return x.Of;var b=this.h;if(b===p||Te!==b.Y.om)return x.Of;b=b.io(a,b,q);a=new qa(z);for(b=b.l;b.next();){var c=b.value;c.location.R()||(c.location=b.key.location.copy());c.position.R()||(c.position=b.key.position.copy());a.add(c)}return a};
xa.prototype.pasteSelection=xa.prototype.aM=function(a){var b=this.h;if(b!==p)try{b.Ac="wait";b.lc("Paste");b.Ea("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&Ze(b);for(var d=c.l;d.next();)d.value.Va=h;b.Ea("ChangedSelection");if(a instanceof K){var e=b.computePartsBounds(b.selection);if(e){var g=b.Wb.we,i=g.computeEffectiveCollection(b.selection);g.moveParts(i,new K(a.x-e.ua,a.y-e.Ba),q)}}b.Ea("ClipboardPasted",c)}finally{b.se("Paste"),b.Ac=""}};
xa.prototype.canPasteSelection=xa.prototype.BJ=function(){var a=this.h;return a===p||(a.ib||a.ze)||(!a.Wn||!a.qv)||Se===p||Te!==a.Y.om?q:h};xa.prototype.undo=xa.prototype.ul=function(){var a=this.h;a!==p&&a.xa.ul()};xa.prototype.canUndo=xa.prototype.$k=function(){var a=this.h;return a===p||a.ib||a.ze?q:a.Wy&&a.xa.$k()};xa.prototype.redo=xa.prototype.Qo=function(){var a=this.h;a!==p&&a.xa.Qo()};xa.prototype.canRedo=xa.prototype.Yk=function(){var a=this.h;return a===p||a.ib||a.ze?q:a.Wy&&a.xa.Yk()};
xa.prototype.decreaseZoom=xa.prototype.kK=function(a){a===f&&(a=1/this.kt);var b=this.h;b!==p&&b.im===$e&&(a*=b.scale,a<b.og||a>b.If||(b.scale=a,b.Eb()))};xa.prototype.canDecreaseZoom=xa.prototype.qJ=function(a){a===f&&(a=1/this.kt);var b=this.h;if(b===p||b.im!==$e)return q;a*=b.scale;return a<b.og||a>b.If?q:b.bo};xa.prototype.increaseZoom=xa.prototype.nL=function(a){a===f&&(a=this.kt);var b=this.h;b!==p&&b.im===$e&&(a*=b.scale,a<b.og||a>b.If||(b.scale=a,b.Eb()))};
xa.prototype.canIncreaseZoom=xa.prototype.zJ=function(a){a===f&&(a=this.kt);var b=this.h;if(b===p||b.im!==$e)return q;a*=b.scale;return a<b.og||a>b.If?q:b.bo};xa.prototype.resetZoom=xa.prototype.lM=function(a){a===f&&(a=1);var b=this.h;if(b!==p&&!(a<b.og||a>b.If))b.scale=a,b.Eb()};xa.prototype.canResetZoom=xa.prototype.FJ=function(a){a===f&&(a=1);var b=this.h;return b===p||a<b.og||a>b.If?q:b.bo};
xa.prototype.zoomToFit=xa.prototype.tF=function(){var a=this.h;if(a!==p){var b=a.scale,c=a.position;b===this.sC&&!isNaN(this.Rx)?(a.scale=this.Rx,a.position=this.EB,a.Eb()):(this.Rx=b,this.EB=c.copy(),a.tF(),a.Sh(),this.sC=a.scale,this.VF=a.position.copy())}};xa.prototype.canZoomToFit=xa.prototype.NJ=function(){var a=this.h;return a===p?q:a.bo};
xa.prototype.collapseTree=xa.prototype.xv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.lc("Collapse Tree");var c=new H(A);if(a instanceof A&&a.Hd)a.xv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof A&&d.Hd&&(d.xv(),c.add(d))}b.Ea("TreeCollapsed",c);b.se("Collapse Tree")};
xa.prototype.canCollapseTree=xa.prototype.mJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.ib)return q;if(a instanceof A){if(!a.Hd)return q;if(0<a.Qv().count)return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof A&&b.Hd&&0<b.Qv().count)return h;return q};
xa.prototype.expandTree=xa.prototype.Mv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.lc("Expand Tree");var c=new H(A);if(a instanceof A&&!a.Hd)a.Mv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof A&&!d.Hd&&(d.Mv(),c.add(d))}b.Ea("TreeExpanded",c);b.se("Expand Tree")};
xa.prototype.canExpandTree=xa.prototype.wJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.ib)return q;if(a instanceof A){if(a.Hd)return q;if(0<a.Qv().count)return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof A&&!b.Hd&&0<b.Qv().count)return h;return q};
xa.prototype.groupSelection=xa.prototype.gL=function(){var a=this.h;if(a!==p){var b=a.Y;if(b!==p&&b instanceof T){var c=this.Xy;if(c!==p)try{a.Ac="wait";a.lc("Group");a.Ea("ChangingSelection");for(var d=new H(z),e=a.selection.l;e.next();){var g=e.value;g.ge()&&g.canGroup()&&d.add(g)}for(var i=new H(z),j=d.l;j.next();){for(var k=j.value,g=q,e=d.l;e.next();)if(k.Bs(e.value)){g=h;break}g||i.add(k)}if(0<i.count){e=i.l;e.next();var l=e.value.Za;if(l!==p)for(;l!==p;){e=i.l;e.next();for(d=q;e.next();)if(k=
e.value,!k.Bs(l)){d=h;break}if(d)l=l.Za;else break}var m=p;if(c instanceof B)Ye(c),m=c.copy(),m instanceof B&&a.add(m);else if(b.Hz(c)){var n=b.Rj(c);x.rb(n)&&(b.Wr(n),m=a.ls(n))}if(m instanceof B){l!==p&&this.isValidMember(l,m)&&(m.Za=l);for(e=i.l;e.next();)k=e.value,this.isValidMember(m,k)&&(k.Za=m);a.select(m)}}a.Ea("ChangedSelection");a.Ea("SelectionGrouped",m)}finally{a.se("Group"),a.Ac=""}}}};
xa.prototype.canGroupSelection=xa.prototype.yJ=function(){var a=this.h;if(a===p||a.ib||a.ze||!a.Wn||!a.Vn)return q;var b=a.Y;if(b===p||!(b instanceof T)||this.Xy===p)return q;for(a=a.selection.l;a.next();)if(b=a.value,b.ge()&&b.canGroup())return h;return q};xa.prototype.findUnnestedNodes=xa.prototype.UK=function(a){for(var b=[],a=a.l;a.next();){var c=a.value;c instanceof F||b.push(c)}for(var a=new qa(z),c=b.length,d=0;d<c;d++){for(var e=b[d],g=h,i=0;i<c;i++)if(e.Bs(b[i])){g=q;break}g&&a.add(e)}return a};
xa.prototype.isValidMember=xa.prototype.DL=function(a,b){if(b===p||a===b||b instanceof F)return q;if(a!==p){if(a===b||a.Bs(b))return q;var c=a.Js;if(c!==p&&!c(a,b)||a.data===p&&b.data!==p||a.data!==p&&b.data===p)return q}c=this.Js;return c!==p?c(a,b):h};
xa.prototype.ungroupSelection=xa.prototype.IM=function(a){a===f&&(a=p);var b=this.h;if(b!==p){var c=b.Y;if(c!==p&&c instanceof T)try{b.Ac="wait";b.lc("Ungroup");b.Ea("ChangingSelection");var d=new H(B);if(a instanceof B)d.add(a);else for(var e=b.selection.l;e.next();){var g=e.value;g instanceof B&&g.canUngroup()&&d.add(g)}if(0<d.count){b.dz();for(e=d.l;e.next();){var i=e.value,j=i.data,k=i.Za,l=k!==p&&k.data!==p?c.qb(k.data):f,m=new H(z);m.Pe(i.Ec);for(var n=m.l;n.next();){var r=n.value;if(!(r instanceof
F)){var s=r.data;s!==p?c.sA(s,l):r.Za=k;r.Va=h}}j!==p?c.EE(j):b.remove(i)}}b.Ea("ChangedSelection");b.Ea("SelectionUngrouped",d)}finally{b.se("Ungroup"),b.Ac=""}}};xa.prototype.canUngroupSelection=xa.prototype.MJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.ib||b.ze||!b.Wk||!b.ao)return q;var c=b.Y;if(c===p||!(c instanceof T))return q;if(a instanceof B){if(a.canUngroup())return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&b.canUngroup())return h;return q};
xa.prototype.addTopLevelParts=xa.prototype.fJ=function(a,b){for(var c=h,d=this.findUnnestedNodes(a).l;d.next();){var e=d.value;e.Za!==p&&(!b||this.isValidMember(p,e)?e.Za=p:c=q)}return c};xa.prototype.collapseSubGraph=xa.prototype.wv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.lc("Collapse SubGraph");var c=new H(B);if(a instanceof B&&a.Xe)a.wv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof B&&d.Xe&&(d.wv(),c.add(d))}b.Ea("SubGraphCollapsed",c);b.se("Collapse SubGraph")};
xa.prototype.canCollapseSubGraph=xa.prototype.lJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.ib)return q;if(a instanceof B)return!a.Xe?q:h;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&b.Xe)return h;return q};
xa.prototype.expandSubGraph=xa.prototype.Lv=function(a){a===f&&(a=p);var b=this.h;if(b===p)return q;b.lc("Expand SubGraph");var c=new H(B);if(a instanceof B&&!a.Xe)a.Lv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof B&&!d.Xe&&(d.Lv(),c.add(d))}b.Ea("SubGraphExpanded",c);b.se("Expand SubGraph")};
xa.prototype.canExpandSubGraph=xa.prototype.vJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||b.ib)return q;if(a instanceof B)return a.Xe?q:h;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof B&&!b.Xe)return h;return q};
xa.prototype.editTextBlock=xa.prototype.CK=function(a){a===f&&(a=p);var b=this.h;if(b!==p&&b.Wb!==p){var c=b.Wb.ww;if(c!==p){if(a===p){for(var a=b.selection.l,d=p;a.next();){var e=a.value;if(e.canEdit()){d=e;break}}if(d===p)return;a=d;d=function(a){return a instanceof ra&&a.Jv};a=d(a)?a:af(a,d)}a!==p&&a instanceof ra&&(c.Dg=a,b.Ka=c)}}};
xa.prototype.canEditTextBlock=xa.prototype.uJ=function(a){a===f&&(a=p);var b=this.h;if(b===p||(b.ib||b.ze)||!b.$n||b.Wb===p||b.Wb.ww===p)return q;if(a instanceof ra){if(a=a.fa,a!==p&&a.canEdit())return h}else for(b=b.selection.l;b.next();)if(a=b.value,a.canEdit()){var c=function(a){return a instanceof ra&&a.Jv},a=c(a)?a:af(a,c);if(a!==p)return h}return q};x.g(xa,"copiesTree",xa.prototype.UC);x.defineProperty(xa,{UC:"copiesTree"},t("bB"),ba("bB"));x.g(xa,"deletesTree",xa.prototype.hD);
x.defineProperty(xa,{hD:"deletesTree"},t("jB"),ba("jB"));x.g(xa,"archetypeGroupData",xa.prototype.Xy);x.defineProperty(xa,{Xy:"archetypeGroupData"},t("UA"),function(a){a!==p&&x.i(a,Object,xa,"archetypeGroupData");var b=this.h;b!==p&&(b=b.Y,b instanceof T&&!(a instanceof B)&&!b.Hz(a)&&x.m("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a));this.UA=a});x.g(xa,"memberValidation",xa.prototype.Js);
x.defineProperty(xa,{Js:"memberValidation"},t("Lk"),function(a){a!==p&&x.k(a,"function",xa,"memberValidation");this.Lk=a});x.g(xa,"zoomFactor",xa.prototype.kt);x.defineProperty(xa,{kt:"zoomFactor"},t("rC"),function(a){x.k(a,"number",xa,"zoomFactor");1<a||x.m("zoomFactor must be larger than 1.0, not: "+a);this.rC=a});function bf(){x.nc(this);this.da=p;this.Hb="";this.oi=h;this.yB=q;this.pC=p;this.mv=-1}x.S("Tool",bf);bf.prototype.je=function(a){u&&a!==p&&x.i(a,w,bf,"setDiagram");this.da=a};
bf.prototype.toString=function(){return""!==this.name?this.name+" Tool":x.gl(Object.getPrototypeOf(this))};bf.prototype.updateAdornments=bf.prototype.ej=aa();bf.prototype.canStart=bf.prototype.Cf=t("isEnabled");bf.prototype.doStart=bf.prototype.sz=aa();bf.prototype.doActivate=bf.prototype.Nh=function(){this.aa=h};bf.prototype.doDeactivate=bf.prototype.Qi=function(){this.aa=q};bf.prototype.doStop=bf.prototype.dl=aa();bf.prototype.doCancel=bf.prototype.Vj=function(){this.stopTool()};
bf.prototype.stopTool=bf.prototype.EM=function(){var a=this.h;a!==p&&a.Ka===this&&(a.Ka=p,a.Ac="")};bf.prototype.doMouseDown=bf.prototype.hs=function(){!this.aa&&this.canStart()&&this.doActivate()};bf.prototype.doMouseMove=bf.prototype.ah=aa();bf.prototype.doMouseUp=bf.prototype.ve=function(){this.stopTool()};bf.prototype.doMouseWheel=bf.prototype.PG=aa();bf.prototype.doKeyDown=bf.prototype.qz=function(){var a=this.h;a!==p&&"Esc"===a.P.key&&this.doCancel()};bf.prototype.doKeyUp=bf.prototype.rz=aa();
bf.prototype.startTransaction=bf.prototype.lc=function(a){this.ff=p;var b=this.h;return b===p?q:b.lc(a)};bf.prototype.stopTransaction=bf.prototype.bk=function(){var a=this.h;return a===p?q:this.ff===p?a.Vs():a.se(this.ff)};
bf.prototype.standardMouseSelect=bf.prototype.DI=function(){var a=this.h;if(a!==p&&a.pe){var b=a.P,c=a.ms(b.N,q);if(c!==p)if(b.bl){a.Ea("ChangingSelection");for(b=c;b!==p&&!b.Zk();)b=b.Za;b.Va=!b.Va;a.Ea("ChangedSelection")}else if(b.shift){if(!c.Va){a.Ea("ChangingSelection");for(b=c;b!==p&&!b.Zk();)b=b.Za;b.Va=h;a.Ea("ChangedSelection")}}else{if(!c.Va){for(b=c;b!==p&&!b.Zk();)b=b.Za;a.select(b)}}else b.left&&(!b.bl&&!b.shift)&&a.dz()}};
bf.prototype.standardMouseClick=bf.prototype.zM=function(a,b){a===f&&(a=p);b===f&&(b=function(a){return!a.Pa.Dc});var c=this.h;if(c!==p){var d=c.P,e=c.vd(d.N,a,b);d.Ld=e;cf(e,d,c)}};
function cf(a,b,c){var d=0;b.left?d=1===b.Td?1:2===b.Td?2:1:b.right&&1===b.Td&&(d=3);var e="";if(a!==p){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.Ea(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.Ea(e)}if(a!==p)for(;a!==p;){e=p;switch(d){case 1:e=a.click;break;case 2:e=a.rm?a.rm:a.click;break;case 3:e=a.ds}if(e!==p&&
(e(b,a),b.fe))break;a=a.ea}else{e=p;switch(d){case 1:e=c.click;break;case 2:e=c.rm?c.rm:c.click;break;case 3:e=c.ds}e!==p&&e(b)}}
bf.prototype.standardMouseOver=bf.prototype.AM=function(){var a=this.h;if(a!==p){var b=a.P,c=a.vd(b.N,p,p);b.Ld=c;var d=a.Ab;a.Ab=h;var e=q;if(c!==a.Vm){var g=a.Vm;a.my=g;a.Vm=c;for(this.doCurrentObjectChanged(g,c);g!==p;){var i=g.Vz;if(i!==p){if(c===g)break;if(c!==p&&c.Wi(g))break;i(b,g,c);e=h;if(b.fe)break}g=g.ea}for(g=a.my;c!==p;){i=c.Uz;if(i!==p){if(g===c)break;if(g!==p&&g.Wi(c))break;i(b,c,g);e=h;if(b.fe)break}c=c.ea}c=a.Vm}if(c!==p){g=c;for(i="";g!==p;){i=g.cursor;if(""!==i)break;g=g.ea}a.Ac=
i;for(g=c;g!==p;){i=g.Ns;if(i!==p&&(i(b,g),e=h,b.fe))break;g=g.ea}}else a.Ac="",i=a.Ns,i!==p&&(i(b),e=h);e&&a.Sh();a.Ab=d}};bf.prototype.doCurrentObjectChanged=bf.prototype.OG=aa();
bf.prototype.standardMouseWheel=bf.prototype.BM=function(){var a=this.h;if(a!==p){var b=a.P,c=b.Uj;if(0!==c){var d=a.Wb.Em;if(a.bo&&(d===df&&!b.shift||d===ef&&b.bl)){d=a.bi;a.bi=b.Gc;var e=a.ig;e!==p?0<c?e.increaseZoom():e.decreaseZoom():a.scale=0<c?1.05*a.scale:a.scale/1.05;a.bi=d;b.bubbles=q}else if(d===df&&b.shift||d===ef&&!b.bl)d=a.position.copy(),!b.shift&&a.Bf?0<c?a.scroll("line","up",3):a.scroll("line","down",3):b.shift&&a.Af&&(0<c?a.scroll("line","left",3):a.scroll("line","right",3)),a.position.K(d)||
(b.bubbles=q)}}};bf.prototype.standardWaitAfter=bf.prototype.CM=function(a){x.k(a,"number",bf,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.mv=window.setTimeout(function(){b.doWaitAfter()},a)};bf.prototype.cancelWaitAfter=bf.prototype.OJ=function(){-1!==this.mv&&window.clearTimeout(this.mv);this.mv=-1};bf.prototype.doWaitAfter=bf.prototype.QG=aa();
bf.prototype.findToolHandleAt=bf.prototype.QK=function(a,b){var c=this.h;if(c===p)return p;c=c.vd(a,p,function(a){a=a.fa;return a===p?q:a.Ic!==p});if(c===p)return p;var d=c.fa;return d===p||d.Vc!==b?p:c};bf.prototype.isBeyondDragSize=bf.prototype.wH=function(a,b){var c=this.h;if(c===p)return q;a===f&&(a=c.Bc.Gc);b===f&&(b=c.P.Gc);c=2;x.yy&&(c+=4);return Math.abs(b.x-a.x)>c||Math.abs(b.y-a.y)>c};x.u(bf,{h:"diagram"},t("da"));x.g(bf,"name",bf.prototype.name);
x.defineProperty(bf,{name:"name"},t("Hb"),ba("Hb"));x.g(bf,"isEnabled",bf.prototype.isEnabled);x.defineProperty(bf,{isEnabled:"isEnabled"},t("oi"),ba("oi"));x.g(bf,"isActive",bf.prototype.aa);x.defineProperty(bf,{aa:"isActive"},t("yB"),ba("yB"));x.g(bf,"transactionResult",bf.prototype.ff);x.defineProperty(bf,{ff:"transactionResult"},t("pC"),ba("pC"));
function hf(){bf.call(this);this.name="Dragging";this.aB=h;this.Kl=this.qB=q;this.Mx=h;this.Ex=(new cb(NaN,NaN)).freeze();this.Fx=Eb;this.Gx=(new K(NaN,NaN)).freeze();this.nB=q;this.oB=this.$A=this.pB=this.dB=p;this.Jp=this.mB=q;this.Gn=new K(NaN,NaN);this.Gi=new K;this.av=q;this.Xu=h;this.Zm=100;this.El=this.Nu=p}x.S("DraggingTool",hf);x.Ja(hf,bf);x.g(hf,"copiesEffectiveCollection",hf.prototype.TC);x.defineProperty(hf,{TC:"copiesEffectiveCollection"},t("aB"),ba("aB"));x.g(hf,"dragsTree",hf.prototype.jD);
x.defineProperty(hf,{jD:"dragsTree"},t("qB"),ba("qB"));x.g(hf,"isGridSnapEnabled",hf.prototype.xo);x.defineProperty(hf,{xo:"isGridSnapEnabled"},t("Kl"),function(a){this.Kl!==a&&(x.k(a,"boolean",hf,"isGridSnapEnabled"),this.Kl=a)});x.g(hf,"isGridSnapRealtime",hf.prototype.UD);x.defineProperty(hf,{UD:"isGridSnapRealtime"},t("Mx"),function(a){this.Mx!==a&&(x.k(a,"boolean",hf,"isGridSnapRealtime"),this.Mx=a)});x.g(hf,"gridSnapCellSize",hf.prototype.Bz);
x.defineProperty(hf,{Bz:"gridSnapCellSize"},t("Ex"),function(a){this.Ex.K(a)||(x.i(a,cb,hf,"gridSnapCellSize"),this.Ex=a=a.Q())});x.g(hf,"gridSnapCellSpot",hf.prototype.DD);x.defineProperty(hf,{DD:"gridSnapCellSpot"},t("Fx"),function(a){this.Fx.K(a)||(x.i(a,N,hf,"gridSnapCellSpot"),this.Fx=a=a.Q())});x.g(hf,"gridSnapOrigin",hf.prototype.ED);x.defineProperty(hf,{ED:"gridSnapOrigin"},t("Gx"),function(a){this.Gx.K(a)||(x.i(a,K,hf,"gridSnapOrigin"),this.Gx=a=a.Q())});x.g(hf,"draggableLinks",hf.prototype.sm);
x.defineProperty(hf,{sm:"draggableLinks"},t("nB"),ba("nB"));x.g(hf,"currentPart",hf.prototype.ko);x.defineProperty(hf,{ko:"currentPart"},t("dB"),ba("dB"));x.g(hf,"copiedParts",hf.prototype.Wc);x.defineProperty(hf,{Wc:"copiedParts"},t("$A"),ba("$A"));x.g(hf,"draggedParts",hf.prototype.hc);x.defineProperty(hf,{hc:"draggedParts"},t("pB"),ba("pB"));x.g(hf,"draggedLink",hf.prototype.gc);x.defineProperty(hf,{gc:"draggedLink"},t("oB"),ba("oB"));x.g(hf,"dragOutStarted",hf.prototype.uz);
x.defineProperty(hf,{uz:"dragOutStarted"},t("mB"),ba("mB"));x.g(hf,"delay",hf.prototype.Hv);x.defineProperty(hf,{Hv:"delay"},t("Zm"),ba("Zm"));hf.prototype.canStart=hf.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||!a.Xk&&!a.Lj&&!a.rv||!a.pe)return q;var b=a.P;return!b.left||a.Ka!==this&&(!this.isBeyondDragSize()||window.TouchEvent&&(b.oj!==p&&b.oj instanceof window.TouchEvent)&&b.timestamp-a.Bc.timestamp<this.Zm)?q:this.findDraggablePart()!==p};
hf.prototype.findDraggablePart=hf.prototype.IK=function(){var a=this.h;if(a===p)return p;a=a.ms(a.Bc.N,q);if(a===p)return p;for(;a!==p&&!a.Zk();)a=a.Za;return a!==p&&(a.canMove()||a.canCopy())?a:p};hf.prototype.standardMouseSelect=hf.prototype.DI=function(){var a=this.h;if(a!==p&&a.pe){var b=a.ms(a.Bc.N,q);if(b!==p){for(;b!==p&&!b.Zk();)b=b.Za;this.ko=b;this.ko.Va||(a.Ea("ChangingSelection"),b=a.P,!b.bl&&!b.shift&&Ze(a),this.ko.Va=h,a.Ea("ChangedSelection"))}}};
hf.prototype.doActivate=hf.prototype.Nh=function(){var a=this.h;if(a!==p){this.standardMouseSelect();var b=this.ko;b===p||!b.canMove()&&!b.canCopy()||(this.aa=h,this.Gn.set(a.position),jf(this,a.selection),this.El=this.Nu=p,this.hc=this.computeEffectiveCollection(a.selection),kf(this,this.hc),this.lc("Drag"),this.Gi.set(a.Bc.N),a.rv?(this.uz=h,this.Jp=q,lf=this,this.h.Mc=h):a.Mc=h)}};
function jf(a,b){if(a.sm){var c=a.h;c!==p&&c.Mj&&(1===b.count?(c=b.l,c.next(),a.gc=c.value,a.gc!==p&&(a.gc.canRelinkFrom()&&a.gc.canRelinkTo())&&a.gc.Kh()):a.gc=p)}}
hf.prototype.computeEffectiveCollection=hf.prototype.TJ=function(a){var b=this.h!==p&&this.h.Ka===this,c=new pa(z,Object);if(a===p)return c;for(var d=a.l;d.next();){var e=d.value;mf(this,c,e,b)}if(this.gc!==p&&this.sm)return c;for(d=a.l;d.next();)e=d.value,e instanceof F&&(a=e,b=a.ja,b!==p&&!c.contains(b)?c.remove(a):(b=a.na,b!==p&&!c.contains(b)&&c.remove(a)));return c};function nf(a){return a===f?{point:new K}:{point:a}}
function mf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof A){b.add(c,nf(c.location));if(c instanceof B)for(var e=c.Ec;e.next();){var g=e.value;mf(a,b,g,d)}for(g=c.Ud;g.next();)if(e=g.value,!b.contains(e)){var i=e.ja,j=e.na;i!==p&&(b.contains(i)&&j!==p&&b.contains(j))&&mf(a,b,e,d)}if(a.jD){g=h;e=c.h;e!==p&&(g=e.ed);for(c=g?c.rD():c.qD();c.next();)g=c.value,mf(a,b,g,d)}}else if(c instanceof F){e=c;b.add(e,nf());for(g=e.Yi;g.next();)mf(a,b,g.value,d)}else c instanceof We||
b.add(c,nf(c.location))}hf.prototype.doDeactivate=hf.prototype.Qi=function(){this.aa=q;var a=this.h;a!==p&&of(a);xf(this);yf(this,this.hc);this.hc=p;this.Jp=this.uz=q;if(0<zf.count){for(var b=zf.length,c=0;c<b;c++){var d=zf.o[c];d.gc!==p&&(d.gc=p);Af(d);xf(d);d.h!==p&&of(d.h)}zf.clear()}this.gc!==p&&(this.gc=p);this.Gn.Xo(NaN,NaN);lf=Bf=p;Af(this);a.Mc=q;this.bk()};
function xf(a){var b=a.h;if(b!==p){var c=b.Ab;b.Ab=h;for(var d=b.P,e=a.El;e!==p;){var g=e.Tz;if(g!==p&&(g(d,e,p),d.fe))break;e=e.ea}b.Ab=c}a.Nu=p;a.El=p}hf.prototype.doCancel=hf.prototype.Vj=function(){Af(this);Cf(this);var a=this.h;a!==p&&this.Gn.R()&&(a.position=this.Gn);this.stopTool()};function kf(a,b){if(b!==p){a.av=h;for(var c=b.l;c.next();){var d=c.key;d instanceof F&&(d.Kn=h)}}}
function yf(a,b){if(b!==p&&a.av){for(var c=b.l;c.next();){var d=c.key;d instanceof F&&(d.Kn=q,d.Uh===Df?d.$b():d.T())}a.av=q}}hf.prototype.doKeyDown=hf.prototype.qz=function(){var a=this.h;a!==p&&(a=a.P,a!==p&&this.aa&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};hf.prototype.doKeyUp=hf.prototype.rz=function(){var a=this.h;a!==p&&(a.P!==p&&this.aa)&&this.doMouseMove()};
function Ef(a){for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,a=a.l;a.next();){var g=a.value;if(g.ge()){var i=g.location,g=i.x,i=i.y;!isNaN(g)&&!isNaN(i)&&(g<b&&(b=g),i<c&&(c=i),g>d&&(d=g),i>e&&(e=i))}}return Infinity===b?new L(0,0,0,0):new L(b,c,d-b,e-c)}
function Ff(a,b){if(a.Wc===p){var c=a.h;if(!(c===p||c.ib||c.ze)&&a.hc!==p){c.Ab=!b;c.Yr=!b;Cf(a);a.Gi.set(c.Bc.N);for(var c=a.TC?c.io(a.hc.ck(),c,h):c.io(c.selection,c,h),d=c.l;d.next();)d.value.location=d.key.location.copy();d=Ef(c);new K(d.x+d.width/2,d.y+d.height/2);for(var d=new pa(z,Object),e=a.hc.l;e.next();){var g=e.key;g.ge()&&g.canCopy()&&(g=c.va(g),g!==p&&(g.Ri(),d.add(g,nf(g.location))))}for(c=c.l;c.next();)e=c.value,e instanceof F&&e.canCopy()&&d.add(e,nf());a.Wc=d;jf(a,d.ck());a.gc!==
p&&(c=a.gc,d=c.ki(),c.ll(a.Gi.x-(d.x+d.width/2),a.Gi.y-(d.y+d.height/2)))}}}function Af(a){var b=a.h;b!==p&&(a.Wc!==p&&(b.hA(a.Wc.ck(),q),a.Wc=p),b.Ab=q,b.Yr=q,a.Gi.set(b.Bc.N))}function Gf(a,b){var c=a.h;if(c!==p){var d=a.Gi;a.moveParts(b,c.P.N.copy().dt(d),h)}}
hf.prototype.moveParts=hf.prototype.TH=function(a,b,c){if(!(a===p||0===a.count)){var d=b.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);var e=this.av;e||kf(this,a);for(var g=new H,i=new H(Oa),j=a.l;j.next();){var k=j.key;if(k.ge()){var l=Hf(this,k,a);if(l!==p)g.add({hh:k,info:j.value,lH:l});else if(!c||k.canMove()){var l=j.value.point,m=this.computeMove(k,l.copy().add(d),a);k.location=m;j.value.JF=m.copy().dt(l)}}else j.key instanceof F&&i.add(j.Od)}for(c=g.l;c.next();)g=c.value,l=g.info.point,m=
l.copy().add(g.lH.JF),g.hh.location=m;for(i=i.l;i.next();)if(j=i.value,l=j.key,l instanceof F)if(l.Kn)if(c=l.ja,g=l.na,this.gc!==p&&this.sm)j=j.value.point,a.add(l,nf(d)),m=b.x-j.x,c=b.y-j.y,l.ll(m,c);else{m=new K(0,0);if(c!==p){m.set(c.location);var n=a.va(c);n!==p&&m.dt(n.point)}k=new K(0,0);g!==p&&(k.set(g.location),n=a.va(g),n!==p&&k.dt(n.point));c!==p&&g!==p?m.Si(k)?(j=j.value.point,c=m.copy(),c.dt(j),a.add(l,nf(m)),l.ll(c.x,c.y)):(l.Kn=q,l.$b()):(j=j.value.point,a.add(l,nf(c!==p?m:g!==p?k:b)),
m=d.x-j.x,c=d.y-j.y,l.ll(m,c))}else if(l.ja===p||l.na===p)j=j.value.point,a.add(l,nf(b)),m=d.x-j.x,c=d.y-j.y,l.ll(m,c);e||yf(this,a)}};function Hf(a,b,c){b=b.Za;if(b!==p){a=Hf(a,b,c);if(a!==p)return a;a=c.va(b);if(a!==p)return a}return p}
function Cf(a){if(a.hc!==p){var b=a.h,c=q;b!==p&&(c=b.Ab,b.Ab=h);for(var d=a.hc.l;d.next();){var e=d.key;e.ge()&&(e.location=d.value.point)}for(d=a.hc.l;d.next();)if(e=d.key,e instanceof F&&e.Kn){var g=d.value.point;a.hc.add(e,nf());e.ll(-g.x,-g.y)}b!==p&&(b.Ab=c,b.Ui())}}
hf.prototype.computeMove=hf.prototype.WJ=function(a,b,c){if(a===p)return b;c===f&&(c=p);var d=b,d=b;if(this.xo&&(this.UD||c===p||this.h.P.dj))if(d=b.copy(),a!==p&&(c=this.h,c!==p)){var e=c.Vv,g=this.Bz,c=g.width,g=g.height,i=this.ED,j=i.x,i=i.y,k=this.DD;if(e!==p){var l=e.ts;isNaN(c)&&(c=l.width);isNaN(g)&&(g=l.height);e=e.Az;isNaN(j)&&(j=e.x);isNaN(i)&&(i=e.y)}e=(new K).Hm(0,0,c,g,k);d=Rc(d.x,d.y,j+e.x,i+e.y,c,g)}d=a.tz!==p?a.tz(a,b,d):d;c=a.mE;b=c.x;isNaN(b)&&(b=a.location.x);c=c.y;isNaN(c)&&(c=
a.location.y);j=a.gE;g=j.x;isNaN(g)&&(g=a.location.x);j=j.y;isNaN(j)&&(j=a.location.y);return new K(Math.max(b,Math.min(d.x,g)),Math.max(c,Math.min(d.y,j)))};function If(a,b){if(b===p)return h;var c=b.fa;return c===p||c.Va||c instanceof We||c.Pa.Dc||a.hc&&a.hc.contains(c)||a.Wc&&a.Wc.contains(c)?h:q}
function Jf(a,b,c,d){var e=a.h;if(e!==p){if(a.sm&&a.gc!==p){var g=a.h.Y;g instanceof T&&(a.gc.ja!==p&&g.Zs(a.gc.data,""),a.gc.na!==p&&g.$s(a.gc.data,""))}g=q;a.Xu===q&&(g=e.Ab,e.Ab=h);var i=q,j=Kf(e,b,p,function(b){return!If(a,b)}),k=e.P;k.Ld=j;var l=e.Ab;e.Ab=h;if(j!==a.El){var m=a.El;a.Nu=m;for(a.El=j;m!==p;){var n=m.Tz;if(n!==p){if(j===m)break;if(j!==p&&j.Wi(m))break;n(k,m,j);i=h;if(k.fe)break}m=m.ea}for(m=a.Nu;j!==p;){n=j.nE;if(n!==p){if(m===j)break;if(m!==p&&m.Wi(j))break;n(k,j,m);i=h;if(k.fe)break}j=
j.ea}j=a.El}j===p&&(n=e.oE,n!==p&&(n(k),i=h));a.doDragOver(b,j);e.Ab=l;i&&e.Sh();a.Xu===q&&(e.Ab=g);if((e.Af||e.Bf)&&(c||d))e.ex=e.$o(b),Yf(e,e.ex).Si(e.position)?of(e):Zf(e)}}hf.prototype.doDragOver=hf.prototype.rK=aa();
function $f(a,b){var c=a.h;if(c!==p&&c.Y!==p){xf(a);var d=Kf(c,b,p,function(b){return!If(a,b)}),e=c.P;e.Ld=d;if(d!==p)for(var g=d;g!==p;){var i=g.Ks;if(i!==p&&(i(e,g),e.fe))break;g=g.ea}else i=c.Ks,i!==p&&i(e);a.doDropOnto(b,d);for(d=c.selection.l;d.next();)e=d.value,e instanceof A&&ag(c,e.za)}}hf.prototype.doDropOnto=hf.prototype.sK=aa();
hf.prototype.doMouseMove=hf.prototype.ah=function(){if(this.aa){var a=this.h;if(a!==p&&this.ko!==p&&this.hc!==p){var b=q,c=q;this.mayCopy()?(b=h,Ff(this,q),Gf(this,this.Wc)):this.mayMove()?(c=h,Af(this),Gf(this,this.hc)):Af(this);Jf(this,a.P.N,c,b);a.Eb()}}};
hf.prototype.doMouseUp=hf.prototype.ve=function(){if(this.aa){this.Jp=h;var a=this.h;if(a!==p){var b=q,c=this.mayCopy();c&&this.Wc!==p?(Cf(this),Af(this),Ff(this,h),Gf(this,this.Wc),this.Wc!==p&&a.pA(this.Wc.ck())):(b=h,Af(this),this.mayMove()&&(Gf(this,this.hc),this.Xu=q,Jf(this,a.P.N,h,q),this.Xu=h));$f(this,a.P.N);if(this.aa){this.Wc=p;if(b&&this.hc!==p)for(b=this.hc.l;b.next();){var d=b.key;d instanceof A&&(d=d.Za,d!==p&&d.placeholder!==p&&!this.hc.contains(d)&&d.jz&&d.T())}a.Ui();yf(this,this.hc);
this.ff=c?"Copy":"Move";a.Ea(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};hf.prototype.mayCopy=hf.prototype.PL=function(){var a=this.h;if(a===p||(a.ib||a.ze||!a.Wn||!a.Lj)||!a.P.bl)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ge()&&b.canCopy())return h}return this.gc!==p&&this.sm&&this.gc.canCopy()?h:q};
hf.prototype.mayMove=hf.prototype.RL=function(){var a=this.h;if(a===p||a.ib||!a.Xk)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ge()&&b.canMove())return h}return this.gc!==p&&this.sm&&this.gc.canMove()?h:q};var zf=new H(hf),lf=p,Bf=p;hf.prototype.mayCopyExternal=hf.prototype.QL=function(){var a=this.h;return a===p||(!a.BC||a.ib||a.ze||!a.Wn)||a.Y===p?q:h};hf.prototype.doSimulatedDragEnter=hf.prototype.uK=function(){this.mayCopyExternal()&&(zf.contains(this)||zf.add(this))};
hf.prototype.doSimulatedDragLeave=hf.prototype.vK=function(){Af(this);var a=this.h;a!==p&&(a.Ka!==this&&this.Gn.R())&&(a.position=this.Gn)};hf.prototype.doSimulatedDragOver=hf.prototype.wK=function(){if(this.mayCopyExternal()){var a=this.h;if(a!==p){var b=lf;b!==p&&b.hc!==p&&(bg(this,b.hc.ck(),q),Gf(this,this.Wc),a.pA(this.Wc.ck()),Jf(this,a.P.N,q,h),a.Eb())}}};
hf.prototype.doSimulatedDrop=hf.prototype.xK=function(){var a=lf;if(a!==p&&(a.Jp=h,Af(this),this.mayCopyExternal())){var b=this.h;b!==p&&(this.lc("Drop"),bg(this,a.hc.ck(),h),Gf(this,this.Wc),this.Wc!==p&&b.pA(this.Wc.ck()),this.ff="ExternalCopy",$f(this,b.P.N),this.Wc=p,b.Ea("ExternalObjectsDropped",b.selection),this.bk(),b.Ui())}};
function bg(a,b,c){if(a.Wc===p){var d=a.h;if(!(d===p||d.ib||d.ze)&&d.Y!==p){d.Ab=!c;d.Yr=!c;a.Gi.set(d.P.N);for(var d=d.io(b,d,h),c=Ef(b),e=new K(c.x+c.width/2,c.y+c.height/2),g=a.Gi,c=new pa(z,Object),b=b.l;b.next();){var i=b.value;if(i.ge()&&i.canCopy()){var j=i.location,i=d.va(i);i.location=new K(g.x-(e.x-j.x),g.y-(e.y-j.y));i.Ri();c.add(i,nf(i.location))}}for(d=d.l;d.next();)e=d.value,e instanceof F&&e.canCopy()&&c.add(e,nf());a.Wc=c;jf(a,c.ck());a.gc!==p&&(c=a.gc,d=c.ki(),c.ll(a.Gi.x-(d.x+d.width/
2),a.Gi.y-(d.y+d.height/2)))}}}
function cg(){bf.call(this);this.ky=100;this.Ny=q;var a=new F;a.Vo="PATH";var b=new V;b.Qh=h;b.name="PATH";b.stroke="blue";a.add(b);b=new V;b.Mm="Standard";b.fill="blue";a.add(b);a.Kd="Tool";this.Fy=a;a=new A;b=new V;b.af="";b.xb="Rectangle";b.fill=p;b.stroke="magenta";b.eb=2;b.Aa=new cb(1,1);a.add(b);a.aj=q;a.Kd="Tool";this.Dy=a;this.Ey=b;a=new A;b=new V;b.af="";b.xb="Rectangle";b.fill=p;b.stroke="magenta";b.eb=2;b.Aa=new cb(1,1);a.add(b);a.aj=q;a.Kd="Tool";this.Gy=a;this.Hy=b;this.jy=this.iy=this.ay=
this.$x=this.by=p;this.dq=h;this.PF=new pa(U,"boolean");this.WB=this.GB=this.By=p}x.S("LinkingBaseTool",cg);x.Ja(cg,bf);cg.prototype.doStop=cg.prototype.dl=function(){this.wg=this.vg=this.ug=this.tg=this.Vb=p;this.yw.clear();this.cf=p};x.g(cg,"portGravity",cg.prototype.wE);x.defineProperty(cg,{wE:"portGravity"},t("ky"),function(a){this.ky!==a&&(u&&x.k(a,"number",cg,"portGravity"),this.ky=a)});x.g(cg,"validUnconnectedLinks",cg.prototype.ap);
x.defineProperty(cg,{ap:"validUnconnectedLinks"},t("Ny"),function(a){this.Ny!==a&&(u&&x.k(a,"boolean",cg,"validUnconnectedLinks"),this.Ny=a)});x.g(cg,"temporaryLink",cg.prototype.Cg);x.defineProperty(cg,{Cg:"temporaryLink"},t("Fy"),function(a){this.Fy!==a&&(u&&x.i(a,F,cg,"temporaryLink"),this.Fy=a)});x.g(cg,"temporaryFromNode",cg.prototype.df);x.defineProperty(cg,{df:"temporaryFromNode"},t("Dy"),function(a){this.Dy!==a&&(u&&x.i(a,A,cg,"temporaryFromNode"),this.Dy=a)});x.g(cg,"temporaryFromPort",cg.prototype.Km);
x.defineProperty(cg,{Km:"temporaryFromPort"},t("Ey"),function(a){this.Ey!==a&&(u&&x.i(a,U,cg,"temporaryFromPort"),this.Ey=a)});x.g(cg,"temporaryToNode",cg.prototype.ef);x.defineProperty(cg,{ef:"temporaryToNode"},t("Gy"),function(a){this.Gy!==a&&(u&&x.i(a,A,cg,"temporaryToNode"),this.Gy=a)});x.g(cg,"temporaryToPort",cg.prototype.Lm);x.defineProperty(cg,{Lm:"temporaryToPort"},t("Hy"),function(a){this.Hy!==a&&(u&&x.i(a,U,cg,"temporaryToPort"),this.Hy=a)});x.g(cg,"originalLink",cg.prototype.Vb);
x.defineProperty(cg,{Vb:"originalLink"},t("by"),function(a){this.by!==a&&(u&&a!==p&&x.i(a,F,cg,"originalLink"),this.by=a)});x.g(cg,"originalFromNode",cg.prototype.tg);x.defineProperty(cg,{tg:"originalFromNode"},t("$x"),function(a){this.$x!==a&&(u&&a!==p&&x.i(a,A,cg,"originalFromNode"),this.$x=a)});x.g(cg,"originalFromPort",cg.prototype.ug);x.defineProperty(cg,{ug:"originalFromPort"},t("ay"),function(a){this.ay!==a&&(u&&a!==p&&x.i(a,U,cg,"originalFromPort"),this.ay=a)});x.g(cg,"originalToNode",cg.prototype.vg);
x.defineProperty(cg,{vg:"originalToNode"},t("iy"),function(a){this.iy!==a&&(u&&a!==p&&x.i(a,A,cg,"originalToNode"),this.iy=a)});x.g(cg,"originalToPort",cg.prototype.wg);x.defineProperty(cg,{wg:"originalToPort"},t("jy"),function(a){this.jy!==a&&(u&&a!==p&&x.i(a,U,cg,"originalToPort"),this.jy=a)});x.defineProperty(cg,{ye:"isForwards"},t("dq"),ba("dq"));x.u(cg,{yw:"validPortsCache"},t("PF"));x.g(cg,"targetPort",cg.prototype.cf);
x.defineProperty(cg,{cf:"targetPort"},t("By"),function(a){this.By!==a&&(u&&a!==p&&x.i(a,U,cg,"targetPort"),this.By=a)});cg.prototype.copyPortProperties=cg.prototype.eK=function(a,b,c,d,e){a===p||(b===p||c===p||d===p)||(d.Aa=b.za.size,e?(d.tb=b.tb,d.sl=b.sl):(d.pb=b.pb,d.fl=b.fl),c.ng=Lb,c.location=b.Gb(Lb),d.angle=b.ro(),this.Ts!==p&&this.Ts(a,b,c,d,e))};
cg.prototype.setNoTargetPortProperties=cg.prototype.sM=function(a,b,c){b!==p&&(b.Aa=new cb(1,1),b.pb=Cb,b.tb=Cb);a!==p&&(a.location=this.h.P.N);this.Ts!==p&&this.Ts(p,p,a,b,c)};cg.prototype.doMouseDown=cg.prototype.hs=function(){this.aa&&this.doMouseMove()};
cg.prototype.doMouseMove=cg.prototype.ah=function(){if(this.aa){var a=this.h;if(a!==p){this.cf=this.findTargetPort(this.ye);if(this.cf!==p){var b=this.cf.fa;if(b instanceof A){this.ye?this.copyPortProperties(b,this.cf,this.ef,this.Lm,h):this.copyPortProperties(b,this.cf,this.df,this.Km,q);a.Eb();return}}this.ye?this.setNoTargetPortProperties(this.ef,this.Lm,h):this.setNoTargetPortProperties(this.df,this.Km,q);a.Eb()}}};
cg.prototype.findValidLinkablePort=cg.prototype.VK=function(a,b){if(a===p)return p;var c=a.fa;if(!(c instanceof A))return p;for(;a!==p;){var d=b?a.BA:a.xz;if(d===h&&(a.af!==p||a instanceof A)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(d===q)break;a=a.ea}return p};
cg.prototype.findTargetPort=cg.prototype.MK=function(a){var b=this.h,c=b.P.N,d=this.wE;0>=d&&(d=0.1);for(var e=this,g=b.qo(c,d,function(b){return e.findValidLinkablePort(b,a)},p),d=Infinity,b=p,g=g.l;g.next();){var i=g.value,j=i.fa;if(j instanceof A){var k=i.Gb(Lb),l=c.x-k.x,k=c.y-k.y,l=l*l+k*k;l<d&&(k=this.yw.va(i),k!==p?k&&(b=i,d=l):a&&this.isValidLink(this.tg,this.ug,j,i)||!a&&this.isValidLink(j,i,this.vg,this.wg)?(this.yw.add(i,h),b=i,d=l):this.yw.add(i,q))}}return b!==p&&(c=b.fa,c instanceof
A&&(c.Pa===p||c.Pa.hm))?b:p};cg.prototype.isValidFrom=cg.prototype.BL=function(a,b){if(a===p||b===p)return this.ap;if(this.h.Ka===this&&(a.Pa!==p&&!a.Pa.hm||b.xz!==h))return q;var c=b.wD;if(Infinity>c){if(this.Vb!==p&&a===this.tg&&b===this.ug)return h;var d=b.af;d===p&&(d="");if(a.ks(d).count>=c)return q}return h};
cg.prototype.isValidTo=cg.prototype.FL=function(a,b){if(a===p||b===p)return this.ap;if(this.h.Ka===this&&(a.Pa!==p&&!a.Pa.hm||b.BA!==h))return q;var c=b.dF;if(Infinity>c){if(this.Vb!==p&&a===this.vg&&b===this.wg)return h;var d=b.af;d===p&&(d="");if(a.Hf(d).count>=c)return q}return h};cg.prototype.isInSameNode=cg.prototype.wL=function(a,b){if(a===p||b===p)return q;if(a===b)return h;var c=a.fa,d=b.fa;return c!==p&&c===d};
cg.prototype.isLinked=cg.prototype.zL=function(a,b){if(a===p||b===p)return q;var c=a.fa;if(!(c instanceof A))return q;var d=a.af;d===p&&(d="");var e=b.fa;if(!(e instanceof A))return q;var g=b.af;g===p&&(g="");for(e=e.Hf(g);e.next();)if(g=e.value,g.ja===c&&g.Oh===d)return h;return q};
cg.prototype.isValidLink=cg.prototype.CL=function(a,b,c,d){return!this.isValidFrom(a,b)||!this.isValidTo(c,d)||b!==p&&d!==p&&((!b.vD||!d.cF)&&this.isInSameNode(b,d)||(!b.uD||!d.bF)&&this.isLinked(b,d))||this.Vb!==p&&(a!==p&&dg(this,a,this.Vb)||c!==p&&dg(this,c,this.Vb))||a!==p&&c!==p&&(a.data===p&&c.data!==p||a.data!==p&&c.data===p)||!eg(this,a,c,this.Vb)?q:this.Oz!==p?this.Oz(a,b,c,d,this.Vb):h};
function dg(a,b,c){if(b===p)return q;var d=b.fd;if(d===p)return q;if(d===c)return h;var e=new qa(A);e.add(b);return fg(a,d,c,e)}function fg(a,b,c,d){if(b===c)return h;var e=b.ja;if(e!==p&&e.Xi&&(d.add(e),fg(a,e.fd,c,d)))return h;b=b.na;return b!==p&&b.Xi&&(d.add(b),fg(a,b.fd,c,d))?h:q}
function eg(a,b,c,d){if(b===p||c===p)return q;var e=a.h.qF;if(e!==gg){if(e===hg){for(e=c.Ud;e.next();){var g=e.value;if(g!==d&&g.na===c)return q}return!ig(a,b,c,d)}if(e===jg){for(e=b.Ud;e.next();)if(g=e.value,g!==d&&g.ja===b)return q;return!ig(a,b,c,d)}if(e===kg)return b===c?a=h:(e=new qa(A),e.add(c),a=lg(a,e,b,c,d)),!a;if(e===Bg)return!ig(a,b,c,d);if(e===Gg)return b===c?a=h:(e=new qa(A),e.add(c),a=Hg(a,e,b,c,d)),!a}return h}
function ig(a,b,c,d){if(b===c)return h;if(b===p||c===p)return q;for(var e=b.Ud;e.next();){var g=e.value;if(g!==d&&g.na===b&&(g=g.ja,g!==b&&ig(a,g,c,d)))return h}return q}function lg(a,b,c,d,e){if(c===d)return h;if(c===p||d===p||b.contains(c))return q;b.add(c);for(var g=c.Ud;g.next();){var i=g.value;if(i!==e&&i.na===c&&(i=i.ja,i!==c&&lg(a,b,i,d,e)))return h}return q}
function Hg(a,b,c,d,e){if(c===d)return h;if(c===p||d===p||b.contains(c))return q;b.add(c);for(var g=c.Ud;g.next();){var i=g.value;if(i!==e){var j=i.ja,i=i.na,j=j===c?i:j;if(j!==c&&Hg(a,b,j,d,e))return h}}return q}x.g(cg,"linkValidation",cg.prototype.Oz);x.defineProperty(cg,{Oz:"linkValidation"},t("GB"),function(a){a!==p&&x.k(a,"function",cg,"linkValidation");this.GB=a});x.g(cg,"portTargeted",cg.prototype.Ts);
x.defineProperty(cg,{Ts:"portTargeted"},t("WB"),function(a){a!==p&&x.k(a,"function",cg,"portTargeted");this.WB=a});function ya(){cg.call(this);this.name="Linking";this.bx={};this.ax=p;this.ga=Ig;this.wy=this.vy=p}x.S("LinkingTool",ya);x.Ja(ya,cg);var Ig;ya.Either=Ig=x.s(ya,"Either",0);var Jg;ya.ForwardsOnly=Jg=x.s(ya,"ForwardsOnly",0);var Kg;ya.BackwardsOnly=Kg=x.s(ya,"BackwardsOnly",0);x.g(ya,"archetypeLinkData",ya.prototype.DC);
x.defineProperty(ya,{DC:"archetypeLinkData"},t("bx"),function(a){this.bx!==a&&(a!==p&&x.i(a,Object,ya,"archetypeLinkData"),this.bx=a)});x.g(ya,"archetypeLabelNodeData",ya.prototype.CC);
x.defineProperty(ya,{CC:"archetypeLabelNodeData"},t("ax"),function(a){if(this.ax!==a){a!==p&&x.i(a,Object,ya,"archetypeLabelNodeData");var b=this.h;b!==p&&(b=b.Y,b instanceof T&&!(a instanceof A)&&!b.Jz(a)&&x.m("CommandHandler.archetypeLabelNodeData must be either a Node or a data object for which GraphLinksModel.isLinkLabelForNodeData is true: "+a));this.ax=a}});x.g(ya,"direction",ya.prototype.direction);
x.defineProperty(ya,{direction:"direction"},t("ga"),function(a){this.ga!==a&&(u&&x.ob(a,ya,ya,"direction"),this.ga=a)});x.g(ya,"startObject",ya.prototype.wA);x.defineProperty(ya,{wA:"startObject"},t("vy"),function(a){this.vy!==a&&(u&&a!==p&&x.i(a,U,ya,"startObject"),this.vy=a)});x.u(ya,{uw:p},t("wy"));
ya.prototype.canStart=ya.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||(a.ib||a.ze)||!a.hm)return q;var b=a.Y;return b===p||!(b instanceof T)&&!(b instanceof $d)||!a.P.left||a.Ka!==this&&!this.isBeyondDragSize()?q:this.findLinkablePort()!==p};
ya.prototype.findLinkablePort=ya.prototype.JK=function(){var a=this.h;if(a===p)return p;var b=this.wA;b===p&&(b=a.vd(a.Bc.N,p,p));if(b===p||!(b.fa instanceof A))return p;var c=this.direction;if(c===Ig||c===Jg)if(a=this.findValidLinkablePort(b,q),a!==p)return this.dq=h,a;if(c===Ig||c===Kg)if(a=this.findValidLinkablePort(b,h),a!==p)return this.dq=q,a;return p};
ya.prototype.doActivate=ya.prototype.Nh=function(){var a=this.h;if(a!==p&&(this.uw===p&&(this.wy=this.findLinkablePort()),this.uw!==p)){this.lc(this.name);a.Mc=h;a.Ac="hand";if(this.ye){this.ug=this.uw;var b=this.ug.fa;b instanceof A&&(this.tg=b);this.copyPortProperties(this.tg,this.ug,this.df,this.Km,q)}else this.wg=this.uw,b=this.wg.fa,b instanceof A&&(this.vg=b),this.copyPortProperties(this.vg,this.wg,this.ef,this.Lm,h);a.add(this.df);a.add(this.ef);this.Cg!==p&&(this.df!==p&&(this.Cg.ja=this.df),
this.ef!==p&&(this.Cg.na=this.ef),this.Cg.$b(),a.add(this.Cg));this.aa=h}};ya.prototype.doDeactivate=ya.prototype.Qi=function(){this.aa=q;var a=this.h;a!==p&&(a.remove(this.Cg),a.remove(this.df),a.remove(this.ef),a.Mc=q,a.Ac="",this.bk())};ya.prototype.doStop=ya.prototype.dl=function(){cg.prototype.dl.call(this);this.wA=this.wy=p};
ya.prototype.doMouseUp=ya.prototype.ve=function(){if(this.aa){var a=this.h;if(a===p)return;var b=this.ff=p,c=p,d=p,e=p,g=this.cf=this.findTargetPort(this.ye),i=p;g!==p?(i=g.fa,i instanceof A&&(this.ye?(this.tg!==p&&(b=this.tg,c=this.ug),d=i,e=g):(b=i,c=g,this.vg!==p&&(d=this.vg,e=this.wg)))):this.ye?this.tg!==p&&this.ap&&(b=this.tg,c=this.ug):this.vg!==p&&this.ap&&(d=this.vg,e=this.wg);if(b!==p||d!==p)b=this.insertLink(b,c,d,e),b!==p?(g===p&&(this.ye?b.JG=a.P.N:b.IG=a.P.N),a.pe&&a.select(b),this.ff=
this.name,a.Ea("LinkDrawn",b)):a.Y.Lg.clear()}this.stopTool()};
ya.prototype.insertLink=ya.prototype.rL=function(a,b,c,d){var e=this.h;if(e===p)return p;var g=e.Y;if(g===p)return p;if(g instanceof $d){if(b=a,d=c,e.ed||(b=c,d=a),b!==p&&d!==p)return g.Lf(d.data,g.qb(b.data)),d.Rv()}else if(g instanceof T){b===p&&(b=a);b=b.af;b===p&&(b="");d===p&&(d=c);var i=d.af;i===p&&(i="");d=this.DC;if(d instanceof F){if(Ye(d),g=d.copy(),g instanceof F)return g.ja=a,g.Oh=b,g.na=c,g.bj=i,e.add(g),g}else if(d!==p&&(d=g.VC(d),x.rb(d)))return g.rw(d,g.qb(a.data)),g.Zs(d,b),g.sw(d,
g.qb(c.data)),g.$s(d,i),g.yC(d),a=this.CC,a!==p&&g.Jz(a)&&(a=g.Rj(a),x.rb(a)&&(g.Wr(a),a=g.qb(a),a!==f&&g.xC(d,a))),g=e.Gf(d)}return p};function Lg(){cg.call(this);this.name="Relinking";var a=new V;a.xb="Diamond";a.Aa=new cb(8,8);a.fill="cyan";a.cursor="pointer";a.Vh=0;this.vB=a;a=new V;a.xb="Diamond";a.Aa=new cb(8,8);a.fill="cyan";a.cursor="pointer";a.Vh=-1;this.mC=a;this.xc=p;this.TB=new L}x.S("RelinkingTool",Lg);x.Ja(Lg,cg);
Lg.prototype.updateAdornments=Lg.prototype.ej=function(a){if(a instanceof F){var b=p,c="RelinkFrom";if(a.Va){var d=a.Uo;a.za.R()&&(d!==p&&a.sb()&&a.canRelinkFrom()&&d.kl()&&d.za.R())&&(b=a.oo(c),b===p&&(b=this.makeAdornment(d,q),b.Vc=c),b!==p&&b.T());a.Tk(c,b)}else a.pl(c);b=p;c="RelinkTo";a.Va?(d=a.Uo,a.za.R()&&(d!==p&&a.sb()&&a.canRelinkTo()&&d.kl()&&d.za.R())&&(b=a.oo(c),b===p&&(b=this.makeAdornment(d,h),b.Vc=c),b!==p&&b.T()),a.Tk(c,b)):a.pl(c)}};
Lg.prototype.makeAdornment=Lg.prototype.Qz=function(a,b){var c=new We;c.type=Mg;var d=b?this.MI:this.gH;d!==p&&c.add(d.copy());c.Ic=a;return c};x.defineProperty(Lg,{gH:"fromHandleArchetype"},t("vB"),function(a){a&&x.i(a,U,Lg,"fromHandleArchetype");this.vB=a});x.defineProperty(Lg,{MI:"toHandleArchetype"},t("mC"),function(a){a&&x.i(a,U,Lg,"toHandleArchetype");this.mC=a});x.u(Lg,{handle:"handle"},t("xc"));
Lg.prototype.canStart=Lg.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||(a.ib||a.ze)||!a.Mj)return q;var b=a.Y;if(b===p||!(b instanceof T)&&!(b instanceof $d)||!a.P.left)return q;b=this.findToolHandleAt(a.Bc.N,"RelinkFrom");b===p&&(b=this.findToolHandleAt(a.Bc.N,"RelinkTo"));return b!==p};
Lg.prototype.doActivate=Lg.prototype.Nh=function(){var a=this.h;if(a!==p){if(this.Vb===p){var b=this.findToolHandleAt(a.Bc.N,"RelinkFrom");b===p&&(b=this.findToolHandleAt(a.Bc.N,"RelinkTo"));if(b===p)return;var c=b.fa;if(!(c instanceof We)||!(c.Vk instanceof F))return;this.xc=b;this.dq=c===p||"RelinkTo"===c.Vc;this.Vb=c.Vk}this.lc(this.name);a.Mc=h;a.Ac="hand";this.ug=this.Vb.Lc;this.tg=this.Vb.ja;this.wg=this.Vb.wd;this.vg=this.Vb.na;this.TB=this.Vb.za;this.Vb!==p&&0<this.Vb.ma&&(this.Vb.ja===p&&
(this.Km!==p&&(this.Km.Aa=new cb(0,0)),this.df!==p&&(this.df.location=this.Vb.p(0))),this.Vb.na===p&&(this.Lm!==p&&(this.Lm.Aa=new cb(0,0)),this.ef!==p&&(this.ef.location=this.Vb.p(this.Vb.ma-1))));this.copyPortProperties(this.tg,this.ug,this.df,this.Km,q);this.copyPortProperties(this.vg,this.wg,this.ef,this.Lm,h);a.add(this.df);a.add(this.ef);this.Cg!==p&&(this.df!==p&&(this.Cg.ja=this.df),this.ef!==p&&(this.Cg.na=this.ef),this.Cg.$b(),a.add(this.Cg));this.aa=h}};
Lg.prototype.doDeactivate=Lg.prototype.Qi=function(){this.aa=q;var a=this.h;a!==p&&(a.remove(this.Cg),a.remove(this.df),a.remove(this.ef),a.Mc=q,a.Ac="",this.bk())};Lg.prototype.doStop=Lg.prototype.dl=function(){cg.prototype.dl.call(this);this.xc=p};
Lg.prototype.doMouseUp=Lg.prototype.ve=function(){if(this.aa){var a=this.h;if(a===p)return;this.ff=p;var b=this.tg,c=this.ug,d=this.vg,e=this.wg,g=this.Vb;this.cf=this.findTargetPort(this.ye);if(this.cf!==p){var i=this.cf.fa;i instanceof A&&(this.ye?(d=i,e=this.cf):(b=i,c=this.cf))}else this.ap?this.ye?e=d=p:c=b=p:g=p;g!==p&&(this.reconnectLink(g,this.ye?d:b,this.ye?e:c,this.ye),this.cf===p&&(this.ye?g.JG=a.P.N:g.IG=a.P.N,g.$b()),a.pe&&(g.Va=h),this.ff=this.name,a.Ea("LinkRelinked",g,this.ye?this.wg:
this.ug));Ng(this.Vb,this.TB)}this.stopTool()};
Lg.prototype.reconnectLink=Lg.prototype.eM=function(a,b,c,d){var e=this.h;if(e===p)return q;var g=b!==p?b.data:p,g=g!==p?e.Y.qb(g):f,i=c.af!==p?c.af:"",j=a.data;if(j!==p&&g!==f)if(c=e.Y,c instanceof $d)e=e.ed,i=a.ja,g=a.na,e||(i=a.na,g=a.ja),a=i,i=g,d&&e||!d&&!e?(i=b,c.Lf(g.data,f),c.Lf(i.data,c.qb(a.data))):c.Lf(g.data,c.qb(b.data));else if(c instanceof T)d?(c.sw(j,g),c.$s(j,i)):(c.rw(j,g),c.Zs(j,i));else return q;else d?(this.Vb.na=b,this.Vb.bj=i):(this.Vb.ja=b,this.Vb.Oh=i);return h};
function Og(){bf.call(this);this.name="LinkReshaping";var a=new V;a.xb="Rectangle";a.Aa=new cb(6,6);a.fill="cyan";this.Bk=a;this.Zw=this.xc=p;this.UB=new K;this.gy=p}x.S("LinkReshapingTool",Og);x.Ja(Og,bf);var Pg;Og.None=Pg=x.s(Og,"None",0);var Qg;Og.Horizontal=Qg=x.s(Og,"Horizontal",1);var Rg;Og.Vertical=Rg=x.s(Og,"Vertical",2);var Sg;Og.All=Sg=x.s(Og,"All",3);
Og.prototype.updateAdornments=Og.prototype.ej=function(a){if(a instanceof F){var b=p;if(a.Va){var c=a.path;a.za.R()&&(c!==p&&a.sb()&&a.canReshape()&&c.kl()&&c.za.R())&&(b=a.oo(this.name),b===p&&(b=this.makeAdornment(c),b.Vc=this.name),b!==p&&(b.location=a.position,b.T()));a.Tk(this.name,b)}else a.pl(this.name)}};
Og.prototype.makeAdornment=Og.prototype.Qz=function(a){var b=new We;b.type=Mg;var c=a.fa,d=c.ma,e=c.jc;if(c.points!==p&&2<d){for(var d=c.Sv,g=c.Kz,i=d+1;i<=g-1;i++){var j=this.makeHandle(a,i);if(j!==p){j.Vh=i;if(i!==d)if(i===d+1&&e){var k=c.p(d),l=c.p(d+1);Ua(k.x,l.x)&&Ua(k.y,l.y)&&(l=c.p(d-1));Ua(k.x,l.x)?(j.Ro=Rg,j.cursor="n-resize"):Ua(k.y,l.y)&&(j.Ro=Qg,j.cursor="w-resize")}else i===g-1&&e?(k=c.p(g-1),l=c.p(g),Ua(k.x,l.x)&&Ua(k.y,l.y)&&(k=c.p(g+1)),Ua(k.x,l.x)?(j.Ro=Rg,j.cursor="n-resize"):Ua(k.y,
l.y)&&(j.Ro=Qg,j.cursor="w-resize")):i!==g&&(j.Ro=Sg,j.cursor="move");b.add(j)}}b.Ic=a}return b};Og.prototype.makeHandle=Og.prototype.LH=function(){var a=this.us;return a===p?p:a.copy()};x.defineProperty(Og,{us:"handleArchetype"},t("Bk"),function(a){a&&x.i(a,U,Og,"handleArchetype");this.Bk=a});x.u(Og,{handle:"handle"},t("xc"));x.u(Og,{Un:"adornedLink"},t("Zw"));
Og.prototype.canStart=Og.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.ib||!a.Xn?q:this.findToolHandleAt(a.Bc.N,this.name)!==p};Og.prototype.doActivate=Og.prototype.Nh=function(){var a=this.h;if(a!==p&&(this.xc=this.findToolHandleAt(a.Bc.N,this.name),this.xc!==p)){var b=this.xc.fa.Vk;b instanceof F&&(this.Zw=b,a.Mc=h,this.UB=b.p(this.xc.Vh),this.gy=b.points.copy(),this.lc(this.name),this.aa=h)}};
Og.prototype.doDeactivate=Og.prototype.Qi=function(){this.bk();this.Zw=this.xc=p;var a=this.h;a!==p&&(a.Mc=q);this.aa=q};Og.prototype.doCancel=Og.prototype.Vj=function(){var a=this.Un;a!==p&&(a.points=this.gy);this.stopTool()};Og.prototype.doMouseMove=Og.prototype.ah=function(){var a=this.h;this.aa&&a!==p&&(a=this.computeReshape(a.P.N),this.reshape(a))};
Og.prototype.doMouseUp=Og.prototype.ve=function(){var a=this.h;if(this.aa&&a!==p){var b=this.computeReshape(a.P.N);this.reshape(b);b=this.Un;b!==p&&(b.points=this.Un.points);a.Ui();this.ff=this.name;a.Ea("LinkReshaped",this.Un)}this.stopTool()};
Og.prototype.reshape=Og.prototype.mM=function(a){var b=this.Un;b.rl();var c=this.handle.Vh,d=this.handle.Ro;if(b.jc)if(c===b.Sv+1)c=b.Sv+1,d==Rg?(b.L(c,new K(b.p(c-1).x,a.y)),b.L(c+1,new K(b.p(c+2).x,a.y))):d==Qg&&(b.L(c,new K(a.x,b.p(c-1).y)),b.L(c+1,new K(a.x,b.p(c+2).y)));else if(c===b.Kz-1)c=b.Kz-1,d===Rg?(b.L(c-1,new K(b.p(c-2).x,a.y)),b.L(c,new K(b.p(c+1).x,a.y))):d===Qg&&(b.L(c-1,new K(a.x,b.p(c-2).y)),b.L(c,new K(a.x,b.p(c+1).y)));else{var d=c,e=b.p(d),g=b.p(d-1),i=b.p(d+1);Ua(g.x,e.x)&&Ua(e.y,
i.y)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.Cc(d,new K(a.x,g.y)),b.points=e,c++,d++):b.L(d-1,new K(a.x,g.y)),Ua(i.y,b.p(d+2).y)&&!Ua(i.x,b.p(d+2).x)?(e=b.points,e.Cc(d+1,new K(i.x,a.y)),b.points=e):b.L(d+1,new K(i.x,a.y))):Ua(g.y,e.y)&&Ua(e.x,i.x)?(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.Cc(d,new K(g.x,a.y)),b.points=e,c++,d++):b.L(d-1,new K(g.x,a.y)),Ua(i.x,b.p(d+2).x)&&!Ua(i.y,b.p(d+2).y)?(e=b.points,e.Cc(d+1,new K(a.x,i.y)),b.points=e):b.L(d+1,new K(a.x,i.y))):Ua(g.x,
e.x)&&Ua(e.x,i.x)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.Cc(d,new K(a.x,g.y)),b.points=e,c++,d++):b.L(d-1,new K(a.x,g.y)),Ua(i.x,b.p(d+2).x)&&!Ua(i.y,b.p(d+2).y)?(e=b.points,e.Cc(d+1,new K(a.x,i.y)),b.points=e):b.L(d+1,new K(a.x,i.y))):Ua(g.y,e.y)&&Ua(e.y,i.y)&&(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.Cc(d,new K(g.x,a.y)),b.points=e,c++,d++):b.L(d-1,new K(g.x,a.y)),Ua(i.y,b.p(d+2).y)&&!Ua(i.x,b.p(d+2).x)?(e=b.points,e.Cc(d+1,new K(i.x,a.y)),b.points=e):b.L(d+1,new K(i.x,
a.y)));b.L(c,a.copy())}else b.L(c,a.copy()),1===c&&Ab(b.QC(h))?(d=b.ja,g=b.Lc,c=g.Gb(Lb),a=b.getLinkPointFromPoint(d,g,c,a,h),b.L(0,a)):c===b.ma-2&&Ab(b.QC(q))&&(d=b.na,g=b.wd,c=g.Gb(Lb),a=b.getLinkPointFromPoint(d,g,c,a,q),b.L(b.ma-1,a));b.Mi()};Og.prototype.computeReshape=Og.prototype.ZJ=function(a){var b=this.Un,c=this.handle.Vh;switch(this.handle.Ro){case Sg:return a;case Rg:return b=b.p(c),new K(b.x,a.y);case Qg:return b=b.p(c),new K(a.x,b.y);default:case Pg:return b.p(c)}};
x.g(Og,"originalPoint",Og.prototype.aI);x.u(Og,{aI:"originalPoint"},t("UB"));x.g(Og,"originalPoints",Og.prototype.bI);x.u(Og,{bI:"originalPoints"},t("gy"));
function Tg(){bf.call(this);this.name="Resizing";this.Yd=(new cb(1,1)).freeze();this.yj=(new cb(9999,9999)).freeze();this.jj=(new cb(NaN,NaN)).freeze();this.Kl=q;this.Oa=p;var a=new V;a.Kj=Lb;a.xb="Rectangle";a.Aa=new cb(6,6);a.fill="cyan";a.stroke="black";a.eb=1;a.cursor="pointer";this.Bk=a;this.xc=p;this.wn=0;this.FF=new L;this.Iu=new cb;this.ey=new K;this.zx=new cb(0,0);this.yx=new cb(Infinity,Infinity);this.xx=new cb(1,1)}x.S("ResizingTool",Tg);x.Ja(Tg,bf);
Tg.prototype.updateAdornments=Tg.prototype.ej=function(a){if(!(a===p||a instanceof F)){var b=p;if(a.Va){var c=a.qI;if(a.za.R()&&(c!==p&&a.sb()&&a.canResize()&&c.kl()&&c.za.R())&&(b=a.oo(this.name),b===p&&(b=this.makeAdornment(c),b.Vc=this.name),b!==p)){var d=c.ro();b.angle=d;var e=c.Gb(Eb),g=c.hl();if(c instanceof V){var i=c.eb/2*g;e.x+=i;e.y+=i}b.location=e;e=b.placeholder;e!==p&&(c=c.Ma,e.Aa=new cb(c.width*g,c.height*g));Ug(this,b,d)}a.Tk(this.name,b)}else a.pl(this.name)}};
Tg.prototype.makeAdornment=Tg.prototype.Qz=function(a){var b=p,b=a.fa.GE;if(b===p){b=new We;b.type=Vg;var c=new Wg;c.Qh=h;b.add(c);b.add(this.makeHandle(a,Eb));b.add(this.makeHandle(a,Kb));b.add(this.makeHandle(a,Ob));b.add(this.makeHandle(a,Mb));b.add(this.makeHandle(a,Pb));b.add(this.makeHandle(a,Rb));b.add(this.makeHandle(a,Sb));b.add(this.makeHandle(a,Qb))}else if(Ye(b),b=b.copy(),!(b instanceof We))return p;b.Ic=a;return b};
Tg.prototype.makeHandle=Tg.prototype.LH=function(a,b){var c=this.us;if(c===p)return p;c=c.copy();c.Jb=b;return c};
function Ug(a,b,c){if(b!==p)if(!Bb(b.Jb)&&""!==b.cursor)a:{a=b.Jb;Ab(a)&&(a=Lb);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof G)for(b=b.elements;b.next();)Ug(a,b.value,c)}
x.defineProperty(Tg,{us:"handleArchetype"},t("Bk"),function(a){a&&x.i(a,U,Tg,"handleArchetype");this.Bk=a});x.u(Tg,{handle:"handle"},t("xc"));x.u(Tg,{Ic:"adornedObject"},t("Oa"));Tg.prototype.canStart=Tg.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.ib||!a.Yn||!a.P.left?q:this.findToolHandleAt(a.Bc.N,this.name)!==p?h:q};
Tg.prototype.doActivate=Tg.prototype.Nh=function(){var a=this.h;a!==p&&(this.xc=this.findToolHandleAt(a.Bc.N,this.name),this.xc!==p&&(this.Oa=this.xc.fa.Ic,this.wn=this.Oa.angle,this.FF.set(this.Oa.Ma),this.ey.set(this.Oa.fa.location),this.Iu.set(this.Oa.Aa),this.xx=this.computeCellSize(),this.zx=this.computeMinSize(),this.yx=this.computeMaxSize(),a.Mc=h,this.lc(this.name),this.aa=h))};
Tg.prototype.doDeactivate=Tg.prototype.Qi=function(){var a=this.h;a!==p&&(this.bk(),this.Oa=this.xc=p,this.aa=a.Mc=q)};Tg.prototype.doCancel=Tg.prototype.Vj=function(){this.Oa.Aa=this.Iu;this.Oa.fa.location=this.ey;this.stopTool()};Tg.prototype.doMouseMove=Tg.prototype.ah=function(){var a=this.h;if(this.aa&&a!==p){var b=this.zx,c=this.yx,d=this.xx,e=this.Oa.AD(a.P.N),g=this.Oa.Uv;g===Xg&&(g=this.Oa.La.ec);b=this.computeResize(e,this.xc.Jb,b,c,d,!(g===Yg||g===Zg||a.P.shift));this.resize(b);$g(a)}};
Tg.prototype.doMouseUp=Tg.prototype.ve=function(){var a=this.h;if(this.aa&&a!==p){var b=this.zx,c=this.yx,d=this.xx,e=this.Oa.AD(a.P.N),g=this.Oa.Uv;g===Xg&&(g=this.Oa.La.ec);b=this.computeResize(e,this.xc.Jb,b,c,d,!(g===Yg||g===Zg||a.P.shift));this.resize(b);a.Ui();this.ff=this.name;a.Ea("PartResized",this.Oa,this.Iu)}this.stopTool()};
Tg.prototype.resize=Tg.prototype.nM=function(a){var b=this.h;if(b!==p){var c=this.Oa.fa,d=c.position.copy(),e=this.Oa.Ma.copy(),g=this.Oa.ro(),i=this.Oa.hl();360<=g?g-=360:0>g&&(g+=360);var j=Math.PI*g/180,k=Math.cos(j),j=Math.sin(j),l=a.width-e.width,e=a.height-e.height,m=90<g&&270>g?1:0;d.x+=i*((a.x+l*m)*k-(a.y+e*(0<g&&180>g?1:0))*j);d.y+=i*((a.x+l*(180<g&&360>g?1:0))*j+(a.y+e*m)*k);this.Oa.Aa=a.size;c.Ri();c.position=d;b.Eb()}};
Tg.prototype.computeResize=Tg.prototype.$J=function(a,b,c,d,e,g){Ab(b)&&(b=Lb);var i=this.Oa.Ma,j=i.x,k=i.y,l=i.x+i.width,m=i.y+i.height,n=1;if(!g){var n=i.width,r=i.height;0>=n&&(n=1);0>=r&&(r=1);n=r/n}a=Rc(a.x,a.y,j,k,e.width,e.height);e=i.copy();0>=b.x?0>=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,n<a?(e.height=n*e.width,e.y=m-e.height):
(e.width=e.height/n,e.x=l-e.width))):1<=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,n<a?e.height=n*e.width:(e.width=e.height/n,e.x=l-e.width))):(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=l-e.x,g||(e.height=n*e.width,e.y=k+0.5*(m-k-e.height))):1<=b.x?0>=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,
m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,n<a?(e.height=n*e.width,e.y=m-e.height):e.width=e.height/n)):1<=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,n<a?e.height=n*e.width:e.width=e.height/n)):(e.width=Math.max(Math.min(a.x-j,d.width),c.width),g||(e.height=n*e.width,e.y=k+0.5*(m-k-e.height))):0>=b.y?(e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=m-e.y,g||(e.width=
e.height/n,e.x=j+0.5*(l-j-e.width))):1<=b.y&&(e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(e.width=e.height/n,e.x=j+0.5*(l-j-e.width)));return e};Tg.prototype.computeMinSize=Tg.prototype.VJ=function(){var a=this.Oa.Ae.copy(),b=this.Ae;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
Tg.prototype.computeMaxSize=Tg.prototype.UJ=function(){var a=this.Oa.he.copy(),b=this.he;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
Tg.prototype.computeCellSize=Tg.prototype.RJ=function(){var a=new cb(NaN,NaN),b=this.Oa.fa;if(b){var c=b.HE;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.al;isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width);isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height);b=this.h;if((isNaN(a.width)||isNaN(a.height))&&b)c=b.Wb.we,c!==p&&c.xo&&(c=c.Bz,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&
(!isNaN(c.height)&&0<c.height)&&(a.height=c.height)),b=b.Vv,b!==p&&(b.visible&&this.xo)&&(c=b.ts,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};x.g(Tg,"minSize",Tg.prototype.Ae);
x.defineProperty(Tg,{Ae:"minSize"},t("Yd"),function(a){this.Yd.K(a)||(u&&x.i(a,cb,Tg,"minSize"),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),this.Yd.Ya(a))});x.g(Tg,"maxSize",Tg.prototype.he);x.defineProperty(Tg,{he:"maxSize"},t("yj"),function(a){this.yj.K(a)||(u&&x.i(a,cb,Tg,"maxSize"),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),this.yj.Ya(a))});x.g(Tg,"cellSize",Tg.prototype.al);
x.defineProperty(Tg,{al:"cellSize"},t("jj"),function(a){this.jj.K(a)||(u&&x.i(a,cb,Tg,"cellSize"),this.jj.Ya(a))});x.g(Tg,"isGridSnapEnabled",Tg.prototype.xo);x.defineProperty(Tg,{xo:"isGridSnapEnabled"},t("Kl"),function(a){this.Kl!==a&&(x.k(a,"boolean",Tg,"isGridSnapEnabled"),this.Kl=a)});x.g(Tg,"originalDesiredSize",Tg.prototype.ZH);x.u(Tg,{ZH:"originalDesiredSize"},t("Iu"));x.g(Tg,"originalLocation",Tg.prototype.$H);x.u(Tg,{$H:"originalLocation"},t("ey"));
function ah(){bf.call(this);this.name="Rotating";this.uy=45;this.ty=2;this.Oa=p;var a=new V;a.xb="Ellipse";a.Aa=new cb(6,6);a.fill="yellow";a.stroke="black";a.eb=1;a.cursor="pointer";this.Bk=a;this.xc=p;this.wn=0;this.XB=new K}x.S("RotatingTool",ah);x.Ja(ah,bf);
ah.prototype.updateAdornments=ah.prototype.ej=function(a){if(!(a===p||a instanceof F)){var b=p;if(a.Va){var c=a.uI;if(a.za.R()&&(c!==p&&a.sb()&&a.canRotate()&&c.kl()&&c.za.R())&&(b=a.oo(this.name),b===p&&(b=this.makeAdornment(c),b.Vc=this.name),b!==p)){b.angle=c.ro();var d=p,e=p;c===a||c===a.Ub?(d=a.Ub,e=a.ng):(d=c,e=Lb);for(var g=d.Ma,e=new K(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);d!==p&&d!==c;)d.transform.Xa(e),d=d.ea;d=e.y;e=Math.max(e.x-c.Ma.width,0);b.ng=Lb;b.location=c.Gb(new N(1,0,50+
e,d))}a.Tk(this.name,b)}else a.pl(this.name)}};ah.prototype.makeAdornment=ah.prototype.Qz=function(a){var b=p,b=a.fa.KE;if(b===p){b=new We;b.type=bh;var c=this.us;c!==p&&b.add(c.copy())}else if(Ye(b),b=b.copy(),!(b instanceof We))return p;b.Ic=a;return b};x.defineProperty(ah,{us:"handleArchetype"},t("Bk"),function(a){a&&x.i(a,U,ah,"handleArchetype");this.Bk=a});x.u(ah,{handle:"handle"},t("xc"));x.u(ah,{Ic:"adornedObject"},t("Oa"));
ah.prototype.canStart=ah.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||a.ib||!a.Zn||!a.P.left?q:this.findToolHandleAt(a.Bc.N,this.name)!==p?h:q};ah.prototype.doActivate=ah.prototype.Nh=function(){var a=this.h;if(a!==p&&(this.xc=this.findToolHandleAt(a.Bc.N,this.name),this.xc!==p)){this.Oa=this.xc.fa.Ic;var b=this.Oa.fa,c=b.Ub;this.XB=this.Oa===b||this.Oa===c?c.Gb(b.ng):this.Oa.Gb(Lb);this.wn=this.Oa.angle;a.Mc=h;this.lc(this.name);this.aa=h}};
ah.prototype.doDeactivate=ah.prototype.Qi=function(){var a=this.h;a!==p&&(this.bk(),this.Oa=this.xc=p,this.aa=a.Mc=q)};ah.prototype.doCancel=ah.prototype.Vj=function(){this.rotate(this.wn);this.stopTool()};ah.prototype.doMouseMove=ah.prototype.ah=function(){var a=this.h;this.aa&&a!==p&&(a=this.computeRotate(a.P.N),this.rotate(a))};
ah.prototype.doMouseUp=ah.prototype.ve=function(){var a=this.h;if(this.aa&&a!==p){var b=this.computeRotate(a.P.N);this.rotate(b);a.Ui();this.ff=this.name;a.Ea("PartRotated",this.Oa,this.wn)}this.stopTool()};ah.prototype.rotate=ah.prototype.rotate=function(a){this.Oa!==p&&(this.Oa.angle=a,this.h.Eb())};
ah.prototype.computeRotate=ah.prototype.aK=function(a){var a=this.XB.Oi(a),b=this.Oa.ea;b&&(a-=b.ro(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.WE),180),c=Math.min(Math.abs(this.VE),b/2);!this.h.P.shift&&(0<b&&0<c)&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};x.g(ah,"snapAngleMultiple",ah.prototype.WE);
x.defineProperty(ah,{WE:"snapAngleMultiple"},t("uy"),function(a){this.uy!==a&&(u&&x.k(a,"number",ah,"snapAngleMultiple"),this.uy=a)});x.g(ah,"snapAngleEpsilon",ah.prototype.VE);x.defineProperty(ah,{VE:"snapAngleEpsilon"},t("ty"),function(a){this.ty!==a&&(u&&x.k(a,"number",ah,"snapAngleEpsilon"),this.ty=a)});x.g(ah,"originalAngle",ah.prototype.YH);x.u(ah,{YH:"originalAngle"},t("wn"));function ch(){bf.call(this);this.name="ClickSelecting"}x.S("ClickSelectingTool",ch);x.Ja(ch,bf);
ch.prototype.canStart=ch.prototype.Cf=function(){return!this.isEnabled||this.h===p||this.isBeyondDragSize()?q:h};ch.prototype.doMouseUp=ch.prototype.ve=function(){this.aa&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function dh(){bf.call(this);this.name="Action";this.Om=p}x.S("ActionTool",dh);x.Ja(dh,bf);
dh.prototype.canStart=dh.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p)return q;var b=a.P,c=a.vd(b.N,function(a){for(;a.ea!==p;){if(a.ys)return a;a=a.ea}return p},function(a){return a.ys});return c!==p?(this.Om=c,a.Vm=a.vd(b.N,p,p),h):q};dh.prototype.doMouseDown=dh.prototype.hs=function(){if(this.aa){var a=this.h.P,b=this.Om;b!==p&&(a.Ld=b,b.Ry!==p&&b.Ry(a,b))}else this.canStart()&&this.doActivate()};
dh.prototype.doMouseMove=dh.prototype.ah=function(){if(this.aa){var a=this.h.P,b=this.Om;b!==p&&(a.Ld=b,b.Sy!==p&&b.Sy(a,b))}};dh.prototype.doMouseUp=dh.prototype.ve=function(){if(this.aa){var a=this.h,b=a.P,c=this.Om;if(c===p)return;b.Ld=c;c.Ty!==p&&c.Ty(b,c);this.isBeyondDragSize()||cf(c,b,a)}this.stopTool()};dh.prototype.doCancel=dh.prototype.Vj=function(){var a=this.h;if(a!==p){var a=a.P,b=this.Om;if(b===p)return;a.Ld=b;b.Qy!==p&&b.Qy(a,b)}this.stopTool()};
dh.prototype.doStop=dh.prototype.dl=function(){this.Om=p};function za(){bf.call(this);this.name="ClickCreating";this.qk=p;this.Kx=h;this.tB=new K(0,0)}x.S("ClickCreatingTool",za);x.Ja(za,bf);
za.prototype.canStart=za.prototype.Cf=function(){if(!this.isEnabled||this.$r===p)return q;var a=this.h;if(a===p||(a.ib||a.ze)||!a.Wn||!a.P.left||this.isBeyondDragSize())return q;if(this.SD){if(1===a.P.Td&&(this.tB=a.P.Gc.copy()),2!==a.P.Td||this.isBeyondDragSize(this.tB))return q}else if(1!==a.P.Td)return q;return a.Ka!==this&&a.ms(a.P.N,h)!==p?q:h};za.prototype.doMouseUp=za.prototype.ve=function(){var a=this.h;this.aa&&a!==p&&this.insertPart(a.P.N);this.stopTool()};
za.prototype.insertPart=za.prototype.sL=function(a){var b=this.h;if(b===p)return p;var c=this.$r;if(c===p)return p;this.lc(this.name);var d=p;c instanceof z?c.ge()&&(Ye(c),d=c.copy(),d instanceof z&&b.add(d)):c!==p&&(c=b.Y.Rj(c),x.rb(c)&&(b.Y.Wr(c),d=b.Yj(c)));d instanceof z&&(d.location=a,b.pe&&b.select(d));b.Ui();this.ff=this.name;b.Ea("PartCreated",d);this.bk();return d instanceof z?d:p};x.g(za,"archetypeNodeData",za.prototype.$r);
x.defineProperty(za,{$r:"archetypeNodeData"},t("qk"),function(a){this.qk!==a&&(a!==p&&x.i(a,Object,za,"archetypeNodeData"),this.qk=a)});x.g(za,"isDoubleClick",za.prototype.SD);x.defineProperty(za,{SD:"isDoubleClick"},t("Kx"),function(a){this.Kx!==a&&(x.k(a,"boolean",za,"isDoubleClick"),this.Kx=a)});
function eh(){bf.call(this);this.name="ContextMenu";this.cB=p;this.KB=new K;this.Ym=p;if(x.yy===h){this.Ym=new We;this.ox=p;var a=this;this.nC=function(){a.stopTool()};if(x.fB===q){var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
var d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();
return q},q);b.addEventListener("selectstart",function(a){a.preventDefault();return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},q);document.body&&(document.body.appendChild(b),document.body.appendChild(c));x.Bt=b;x.At=c;x.fB=h}}}x.S("ContextMenuTool",eh);x.Ja(eh,bf);eh.prototype.canStart=eh.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||this.isBeyondDragSize()||!a.P.right?q:this.Ym!==p||this.findObjectWithContextMenu()!==p?h:q};
eh.prototype.doStart=eh.prototype.sz=function(){var a=this.h;a!==p&&this.KB.set(a.Bc.N)};eh.prototype.doStop=eh.prototype.dl=function(){this.hideDefaultContextMenu();this.hideContextMenu()};eh.prototype.findObjectWithContextMenu=eh.prototype.KK=function(){var a=this.h;if(a===p)return p;var b=a.vd(a.P.N,p,function(a){return!a.Pa.Dc});if(b!==p){for(a=b;a!==p;){var c=a.contextMenu;if(c!==p)return a;a=a.ea}if(this.Ym!==p)return b.fa}else if(c=a.contextMenu,c!==p)return a;return p};
eh.prototype.doActivate=eh.prototype.Nh=aa();eh.prototype.doMouseDown=eh.prototype.hs=function(){if(this.aa){var a=this.h;if(a!==p&&this.Qe!==p){var b=a.vd(a.P.N,p,p);b!==p&&b.Wi(this.Qe)?(this.standardMouseClick(p,p),this.stopTool()):(this.stopTool(),a.Ka.doMouseDown())}}};
eh.prototype.doMouseUp=eh.prototype.ve=function(){!this.aa&&this.canStart()&&(this.aa=h);this.standardMouseSelect();this.standardMouseClick();var a=this.findObjectWithContextMenu();if(a!==p){var b=a.contextMenu;b!==p?this.showContextMenu(b,a instanceof U?a:p):this.showDefaultContextMenu()}else this.showDefaultContextMenu()};eh.prototype.doMouseMove=eh.prototype.ah=function(){this.aa&&this.standardMouseOver()};
eh.prototype.showContextMenu=eh.prototype.tM=function(a,b){x.i(a,We,eh,"showContextMenu:contextmenu");b!==p&&x.i(b,U,eh,"showContextMenu:obj");var c=this.h;if(c!==p){a!==this.Qe&&this.hideContextMenu();a.Kd="Tool";a.aj=q;a.scale=1/c.scale;c.add(a);if(b!==p){var d=p,e=b.os();e!==p&&(d=e.data);a.Ic=b;a.data=d}else a.data=c.Y;a.Ri();this.positionContextMenu(a,b);this.Qe=a;c.Eb()}};
eh.prototype.positionContextMenu=eh.prototype.cM=function(a){var b=this.h;if(b!==p){var c=b.P.N.copy(),d=a.Da,b=b.fb;c.x+d.width>b.right&&(c.x-=d.width+5);c.y+d.height>b.bottom&&(c.y-=d.height+5);a.position=c}};eh.prototype.hideContextMenu=eh.prototype.jL=function(){var a=this.h;a!==p&&this.Qe!==p&&(this.Qe.data=p,this.Qe.Ic=p,a.remove(this.Qe),this.Qe=p,this.standardMouseOver(),a.Eb())};
eh.prototype.initializeDefaultButtons=eh.prototype.oL=function(){if(this.h===p)return p;var a=new H,b=this.h.ig;a.add({text:"Copy",Df:function(){b.copySelection()},visible:function(){return b.canCopySelection()}});a.add({text:"Cut",Df:function(){b.cutSelection()},visible:function(){return b.canCutSelection()}});a.add({text:"Delete",Df:function(){b.deleteSelection()},visible:function(){return b.canDeleteSelection()}});a.add({text:"Paste",Df:function(a){b.pasteSelection(a.P.N)},visible:function(){return b.canPasteSelection()}});
a.add({text:"Select All",Df:function(){b.selectAll()},visible:function(){return b.canSelectAll()}});a.add({text:"Undo",Df:function(){b.undo()},visible:function(){return b.canUndo()}});a.add({text:"Redo",Df:function(){b.redo()},visible:function(){return b.canRedo()}});a.add({text:"Zoom Out",Df:function(){b.decreaseZoom()},visible:function(){return b.canDecreaseZoom()}});a.add({text:"Zoom In",Df:function(){b.increaseZoom()},visible:function(){return b.canIncreaseZoom()}});a.add({text:"Zoom To Fit",
Df:function(){b.zoomToFit()},visible:function(){return b.canZoomToFit()}});a.add({text:"Reset Zoom",Df:function(){b.resetZoom()},visible:function(){return b.canResetZoom()}});a.add({text:"Group Selection",Df:function(){b.groupSelection()},visible:function(){return b.canGroupSelection()}});a.add({text:"Ungroup Selection",Df:function(){b.ungroupSelection()},visible:function(){return b.canUngroupSelection()}});a.add({text:"Edit Text",Df:function(){b.editTextBlock()},visible:function(){return b.canEditTextBlock()}});
return a};
eh.prototype.showDefaultContextMenu=eh.prototype.uM=function(){var a=this.h;if(a!==p){this.ox===p&&(this.ox=this.initializeDefaultButtons());this.Ym!==this.Qe&&this.hideContextMenu();x.Bt.innerHTML="";x.At.addEventListener("click",this.nC,q);var b=this,c=document.createElement("ul");c.className="defaultCXul";x.Bt.appendChild(c);c.innerHTML="";for(var d=this.ox.l;d.next();){var e=d.value,g=e.text,i=e.visible;if("function"!==typeof i||i()){i=document.createElement("li");i.className="defaultCXli";var j=
document.createElement("a");j.className="defaultCXa";j.href="#";j.AF=e.Df;j.addEventListener("click",function(c){this.AF(a);b.stopTool();c.preventDefault();return q},q);j.textContent=g;i.appendChild(j);c.appendChild(i)}}x.Bt.style.display="block";x.At.style.display="block";this.Qe=this.Ym}};eh.prototype.hideDefaultContextMenu=eh.prototype.kL=function(){this.Qe!==p&&this.Qe===this.Ym&&(x.Bt.style.display="none",x.At.style.display="none",x.At.removeEventListener("click",this.nC,q),this.Qe=p)};
x.g(eh,"currentContextMenu",eh.prototype.Qe);x.defineProperty(eh,{Qe:"currentContextMenu"},t("cB"),ba("cB"));x.u(eh,{VL:"mouseDownPoint"},t("KB"));function fh(){bf.call(this);this.name="DragSelecting";this.Zm=175;this.DB=q;var a=new z;a.Kd="Tool";a.aj=q;var b=new V;b.name="SHAPE";b.xb="Rectangle";b.fill=p;b.stroke="magenta";b.position=new K(0,0);a.add(b);this.hj=a}x.S("DragSelectingTool",fh);x.Ja(fh,bf);
fh.prototype.canStart=fh.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||!a.pe)return q;var b=a.P;return!b.left||a.Ka!==this&&(!this.isBeyondDragSize()||b.timestamp-a.Bc.timestamp<this.Hv||a.ms(b.N,h)!==p)?q:h};fh.prototype.doActivate=fh.prototype.Nh=function(){var a=this.h;a!==p&&(this.aa=h,a.Mc=h,a.Ab=h,a.add(this.td),this.doMouseMove())};fh.prototype.doDeactivate=fh.prototype.Qi=function(){var a=this.h;a!==p&&(a.remove(this.td),a.Ab=q,this.aa=a.Mc=q,a.Eb())};
fh.prototype.doMouseMove=fh.prototype.ah=function(){var a=this.h;if(a!==p&&this.aa&&this.td!==p){var b=this.computeBoxBounds();this.td.Te("SHAPE").Aa=b.size;this.td.position=b.position;a.Eb()}};fh.prototype.doMouseUp=fh.prototype.ve=function(){if(this.aa){var a=this.h;a.remove(this.td);try{a.Ac="wait",this.selectInRect(this.computeBoxBounds())}finally{a.Ac=""}}this.stopTool()};fh.prototype.computeBoxBounds=fh.prototype.EG=function(){var a=this.h;return a===p?new L(0,0,0,0):new L(a.Bc.N,a.P.N)};
fh.prototype.selectInRect=fh.prototype.rM=function(a){var b=this.h;if(b!==p){var c=b.P;b.Ea("ChangingSelection");a=b.um(a,p,function(a){return a instanceof z&&a.Zk()},this.XD);if(c.bl)if(c.shift)for(a=a.l;a.next();)c=a.value,c.Va&&(c.Va=q);else for(a=a.l;a.next();)c=a.value,c.Va=!c.Va;else{if(!c.shift){for(var d=new H(z),e=b.selection.l;e.next();)c=e.value,a.contains(c)||d.add(c);for(d=d.l;d.next();)c=d.value,c.Va=q}for(a=a.l;a.next();)c=a.value,c.Va||(c.Va=h)}b.Ea("ChangedSelection")}};
x.g(fh,"delay",fh.prototype.Hv);x.defineProperty(fh,{Hv:"delay"},t("Zm"),ba("Zm"));x.g(fh,"isPartialInclusion",fh.prototype.XD);x.defineProperty(fh,{XD:"isPartialInclusion"},t("DB"),ba("DB"));x.g(fh,"box",fh.prototype.td);x.defineProperty(fh,{td:"box"},t("hj"),ba("hj"));function gh(){bf.call(this);this.name="DragZooming";var a=new z;a.Kd="Tool";a.aj=q;var b=new V;b.name="SHAPE";b.xb="Rectangle";b.fill=p;b.stroke="magenta";b.position=new K(0,0);a.add(b);this.hj=a;this.tC=p}x.S("DragZoomingTool",gh);
x.Ja(gh,bf);gh.prototype.canStart=gh.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||!a.P.left||a.Ka!==this&&!this.isBeyondDragSize()?q:h};gh.prototype.doActivate=gh.prototype.Nh=function(){var a=this.h;a!==p&&(this.aa=h,a.Mc=h,a.Ab=h,a.add(this.td),this.doMouseMove())};gh.prototype.doDeactivate=gh.prototype.Qi=function(){var a=this.h;a!==p&&(a.remove(this.td),a.Ab=q,this.aa=a.Mc=q,a.Eb())};
gh.prototype.doMouseMove=gh.prototype.ah=function(){var a=this.h;if(a!==p&&this.aa&&this.td!==p){var b=this.computeBoxBounds();this.td.Te("SHAPE").Aa=b.size;this.td.position=b.position;a.Eb()}};gh.prototype.doMouseUp=gh.prototype.ve=function(){if(this.aa){var a=this.h;a.remove(this.td);try{a.Ac="wait",this.zoomToRect(this.computeBoxBounds())}finally{a.Ac=""}}this.stopTool()};
gh.prototype.computeBoxBounds=gh.prototype.EG=function(){var a=this.h;if(a===p)return new L(0,0,0,0);var b=a.Bc.N,c=a.P.N,a=c.x-b.x,d=c.y-b.y,e=this.lt;e===p&&(e=this.h);if(e===p)return new L(b,c);e=e.fb;if(0===e.height||0===d)return new L(b,c);e=e.width/e.height;Math.abs(a/d)<e?(c=b.x+a,a=b.y+Math.ceil(Math.abs(a)/e)*(0>d?-1:1)):(c=b.x+Math.ceil(Math.abs(d)*e)*(0>a?-1:1),a=b.y+d);return new L(b,new K(c,a))};
gh.prototype.zoomToRect=gh.prototype.SI=function(a){if(!(0.1>a.width)){var b=this.lt;b===p&&(b=this.h);b!==p&&(b.scale=Math.min(b.fb.width*b.scale/a.width,b.If),b.position=new K(a.x,a.y))}};x.g(gh,"box",gh.prototype.td);x.defineProperty(gh,{td:"box"},t("hj"),ba("hj"));x.g(gh,"zoomedDiagram",gh.prototype.lt);x.defineProperty(gh,{lt:"zoomedDiagram"},t("tC"),ba("tC"));
function hh(){bf.call(this);this.name="Panning";this.hy=new K;this.ij=q;var a=this;this.bC=function(){document.removeEventListener("scroll",a.bC,q);a.stopTool()}}x.S("PanningTool",hh);x.Ja(hh,bf);hh.prototype.canStart=hh.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;return a===p||!a.Af&&!a.Bf||!a.P.left||a.Ka!==this&&!this.isBeyondDragSize()?q:h};
hh.prototype.doActivate=hh.prototype.Nh=function(){var a=this.h;a!==p&&(this.ij?(a.P.bubbles=h,document.addEventListener("scroll",this.bC,q)):(a.Ac="move",a.Mc=h,this.hy=a.position.copy()),this.aa=h)};hh.prototype.doDeactivate=hh.prototype.Qi=function(){var a=this.h;a!==p&&(a.Ac="",this.aa=a.Mc=q)};hh.prototype.doCancel=hh.prototype.Vj=function(){var a=this.h;a!==p&&(a.position=this.hy,a.Mc=q);this.stopTool()};hh.prototype.doMouseMove=hh.prototype.ah=function(){this.move()};
hh.prototype.doMouseUp=hh.prototype.ve=function(){this.move();this.stopTool()};hh.prototype.move=function(){var a=this.h;if(this.aa&&a)if(this.ij)a.P.bubbles=h;else{var b=a.position,c=a.Bc.N,d=a.P.N,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.Af||(e=b.x);a.Bf||(c=b.y);a.position=new K(e,c);a.Sh()}};x.g(hh,"bubbles",hh.prototype.bubbles);x.defineProperty(hh,{bubbles:"bubbles"},t("ij"),ba("ij"));x.g(hh,"originalPosition",hh.prototype.cI);x.u(hh,{cI:"originalPosition"},t("hy"));
function ih(){bf.call(this);this.name="TextEditing";this.px=this.eB=this.Iy=p;this.xy=jh;this.Jj=p;this.bb=kh;this.Mk=p}x.S("TextEditingTool",ih);x.Ja(ih,bf);var uh;ih.LostFocus=uh=x.s(ih,"LostFocus",0);var vh;ih.MouseDown=vh=x.s(ih,"MouseDown",1);var wh;ih.Tab=wh=x.s(ih,"Tab",2);var xh;ih.Enter=xh=x.s(ih,"Enter",3);ih.SingleClick=x.s(ih,"SingleClick",0);var jh;ih.SingleClickSelected=jh=x.s(ih,"SingleClickSelected",1);
var kh=x.s(ih,"StateNone",0),yh=x.s(ih,"StateActive",1),zh=x.s(ih,"StateEditing",2),Ah=x.s(ih,"StateEditing2",3),Bh=x.s(ih,"StateValidating",4),Ch=x.s(ih,"StateValidated",5);x.g(ih,"textBlock",ih.prototype.Dg);x.defineProperty(ih,{Dg:"textBlock"},t("Iy"),ba("Iy"));x.g(ih,"currentTextEditor",ih.prototype.$g);x.defineProperty(ih,{$g:"currentTextEditor"},t("eB"),ba("eB"));x.g(ih,"defaultTextEditor",ih.prototype.dD);x.defineProperty(ih,{dD:"defaultTextEditor"},t("px"),ba("px"));x.g(ih,"starting",ih.prototype.YE);
x.defineProperty(ih,{YE:"starting"},t("xy"),function(a){this.xy!==a&&(u&&x.ob(a,ih,ih,"starting"),this.xy=a)});ih.prototype.canStart=ih.prototype.Cf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===p||a.ib||!a.P.left||this.isBeyondDragSize())return q;a=a.vd(a.P.N,p,function(a){return a instanceof ra});if(!(a instanceof ra)||!a.Jv)return q;a=a.fa;return a===p||this.YE===jh&&!a.Va?q:h};ih.prototype.doStart=ih.prototype.sz=function(){!this.aa&&this.Dg!==p&&this.doActivate()};
ih.prototype.doActivate=ih.prototype.Nh=function(){if(!this.aa){var a=this.h;if(a!==p){var b=this.Dg;b===p&&(b=a.vd(a.P.N,function(a){return a instanceof ra?a:p}),b=b instanceof ra?b:p);if(b!==p&&(this.Dg=b,b.fa!==p)){this.aa=h;this.bb=yh;this.lc(this.name);var c=this.dD,d=q;b.zA!==p&&(c=b.zA);c!==p&&!c.QA&&(d=h);if(c===p){c=document.createElement("textarea");c.QA=h;this.px=c;var e=this.Dg.copy();c.addEventListener("input",function(){e.text=this.value;Dh(e,Infinity,Infinity);this.style.width=20+e.Da.width*
this.LI+"px";this.rows=e.Rl},q);c.addEventListener("keydown",function(a){var b=a.which,c=this.textEditingTool;if(c!==p)if(13==b)c.Py(xh);else{if(9==b)return c.Py(wh),a.preventDefault(),q;27==b&&(c.doCancel(),c.h&&c.h.focus())}},q);c.addEventListener("focus",function(){var a=this.textEditingTool;a.bb===yh?a.bb=zh:a.bb===Ch?a.bb=Ah:a.bb===Ah&&(a.bb=zh)},q)}if(c.QA){var g=b.Gb(Lb),i=a.position,j=a.scale,k=b.hl()*j,l=b.Ma.width*k;Eh(b,b.font);g=new K((g.x-i.x)*j,(g.y-i.y)*j);c.value=b.text;a.Pi.style.font=
b.font;c.style.font="inherit";c.style.fontSize=100*k+"%";c.style.lineHeight="normal";l=20+l;c.style.width=l+"px";c.style.height="";c.rows=b.Rl;a.Pi.appendChild(c);c.style.left=(g.x-l/2|0)+"px";c.style.top=(g.y-c.clientHeight/2|0)+"px";c.style.textAlign=b.textAlign}else a.Pi.appendChild(c);c.style.position="absolute";c.style.zIndex=100;c.className="start";c.textEditingTool=this;c.LI=k;if(d&&c.onActivate!==f)c.onActivate();this.$g=c;c.focus()}}}};
ih.prototype.doCancel=ih.prototype.Vj=function(){this.Mk!==p&&(this.$g.style.border=this.Mk,this.Mk=p);this.stopTool()};ih.prototype.doMouseUp=ih.prototype.ve=function(){!this.aa&&this.canStart()&&this.doActivate()};ih.prototype.doMouseDown=ih.prototype.hs=function(){this.aa&&this.Py(vh)};
ih.prototype.acceptText=ih.prototype.Py=function(a){switch(a){case vh:if(this.bb===Ch||this.bb===Ah)this.$g.focus();else if(this.bb===yh||this.bb===zh)this.bb=Bh,Fh(this);break;case uh:case xh:case wh:if(xh===a&&this.Iy.$v===h)break;if(this.bb===yh||this.bb===zh)this.bb=Bh,Fh(this)}};
function Fh(a){if(a.Dg!==p&&a.$g!==p){var b=a.Dg,c=a.Dg.text,d=a.$g.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.Dg,c,e)){a.bb=zh;b.js!==p&&b.js(a,c,e);a.Mk===p&&(a.Mk=a.$g.style.border,a.$g.style.border="3px solid red");a.$g.focus();return}a.bb=Ch;c!==e&&(a.Dg.text=e);a.ff=a.name;b=a.h;b!==p&&b.Ea("TextEdited",a.Dg,c);a.stopTool();b!==p&&b.focus()}a.Mk!==p&&(a.$g.style.border=a.Mk,a.Mk=p)}
ih.prototype.doDeactivate=ih.prototype.Qi=function(){var a=this.h;if(a!==p){this.aa&&this.bk();this.bb=kh;this.Dg=p;if(this.$g!==p){var b=this.$g;if(b.onDeactivate!==f)b.onDeactivate();b!==p&&a.Pi.removeChild(b)}this.aa=q}};ih.prototype.isValidText=ih.prototype.EL=function(a,b,c){x.i(a,ra,ih,"isValidText:textblock");var d=this.et;if(d!==p&&!d(a,b,c))return q;d=a.et;return d!==p&&!d(a,b,c)?q:h};x.g(ih,"textValidation",ih.prototype.et);
x.defineProperty(ih,{et:"textValidation"},t("Jj"),function(a){this.Jj!==a&&(this.Jj=a)});function Ue(){bf.call(this);this.name="ToolManager";this.LB=new H(bf);this.MB=new H(bf);this.NB=new H(bf);this.wB=this.xB=1E3;this.It=this.mx=p;this.OB=ef}x.S("ToolManager",Ue);x.Ja(Ue,bf);var ef;Ue.WheelScroll=ef=x.s(Ue,"WheelScroll",0);var df;Ue.WheelZoom=df=x.s(Ue,"WheelZoom",1);x.g(Ue,"mouseWheelBehavior",Ue.prototype.Em);x.defineProperty(Ue,{Em:"mouseWheelBehavior"},t("OB"),ba("OB"));
Ue.prototype.initializeStandardTools=Ue.prototype.qL=function(){this.uC=new dh;this.BE=new Lg;this.dE=new Og;this.JE=new Tg;this.ME=new ah;this.Pz=new ya;this.we=new hf;this.iD=new fh;this.is=new gh;this.is.isEnabled=q;this.vE=new hh;this.RC=new eh;this.ww=new ih;this.MC=new za;this.NC=new ch};
Ue.prototype.doMouseDown=Ue.prototype.hs=function(){var a=this.h;if(a!==p){var b=a.xa;b.bz&&0!==b.tl&&x.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.$e.length,c=0;c<b;c++){var d=this.$e.ia(c);d.h===p&&d.je(this.h);if(d.canStart()){a.Ka=d;a.Ka===d&&(d.aa||d.doActivate(),d.doMouseDown());return}}1===a.P.button&&(this.Em===ef?this.Em=df:this.Em===df&&(this.Em=ef));this.doActivate();this.standardWaitAfter(this.Fz)}};
Ue.prototype.doMouseMove=Ue.prototype.ah=function(){var a=this.h;if(a!==p){if(this.aa)for(var b=this.qg.length,c=0;c<b;c++){var d=this.qg.ia(c);d.h===p&&d.je(this.h);if(d.canStart()){a.Ka=d;a.Ka===d&&(d.aa||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.aa?this.Fz:this.LD)}};Ue.prototype.doCurrentObjectChanged=Ue.prototype.OG=function(a,b){var c=this.cl;c!==p&&!(b!==p&&(b===c||b.Wi(c)))&&this.hideToolTip()};
Ue.prototype.doWaitAfter=Ue.prototype.QG=function(){this.h&&this.h.wa&&(this.doMouseHover(),this.aa||this.doToolTip())};Ue.prototype.doMouseHover=Ue.prototype.tK=function(){var a=this.h;if(a!==p){var b=a.P;b.Ld===p&&(b.Ld=a.vd(b.N,p,p));var c=b.Ld;if(c!==p)for(;c!==p;){a=this.aa?c.Ls:c.Ms;if(a!==p&&(a(b,c),b.fe))break;c=c.ea}else a=this.aa?a.Ls:a.Ms,a!==p&&a(b)}};
Ue.prototype.doToolTip=Ue.prototype.yK=function(){var a=this.h;if(a!==p){var b=a.P;b.Ld===p&&(b.Ld=a.vd(b.N,p,p));b=b.Ld;if(b!==p){if(!(b===this.cl||b.Wi(this.cl))){for(;b!==p;){a=b.ht;if(a!==p){this.showToolTip(a,b);return}b=b.ea}this.hideToolTip()}}else a=a.ht,a!==p?this.showToolTip(a,p):this.hideToolTip()}};
Ue.prototype.showToolTip=Ue.prototype.vM=function(a,b){x.i(a,We,Ue,"showToolTip:tooltip");b!==p&&x.i(b,U,Ue,"showToolTip:obj");var c=this.h;if(c!==p){a!==this.cl&&this.hideToolTip();a.Kd="Tool";a.aj=q;a.scale=1/c.scale;c.add(a);if(b!==p&&b!==this.It){var d=p,e=b.fa;e!==p&&(d=e.data);a.Ic=b;a.data=d}else b===p&&(a.data=c.Y);if(b===p||b!==this.It)a.Ri(),this.positionToolTip(a,b);this.mx=a;this.It=b;c.Eb()}};
Ue.prototype.positionToolTip=Ue.prototype.dM=function(a){var b=this.h;if(b!==p){var c=b.P.N.copy(),d=a.Da,b=b.fb;c.x+d.width>b.right&&(c.x-=d.width+5);c.y=c.y+20+d.height>b.bottom?c.y-(d.height+5):c.y+20;a.position=c}};Ue.prototype.hideToolTip=Ue.prototype.lL=function(){if(this.cl!==p){var a=this.h;a!==p&&(this.cl.data=p,this.cl.Ic=p,a.remove(this.cl),this.It=this.mx=p,a.Eb())}};x.u(Ue,{cl:"currentToolTip"},t("mx"));
Ue.prototype.doMouseUp=Ue.prototype.ve=function(){this.cancelWaitAfter();if(this.aa){var a=this.h;if(a===p)return;for(var b=this.fh.length,c=0;c<b;c++){var d=this.fh.ia(c);d.h===p&&d.je(this.h);if(d.canStart()){a.Ka=d;a.Ka===d&&(d.aa||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};Ue.prototype.doMouseWheel=Ue.prototype.PG=function(){this.standardMouseWheel()};Ue.prototype.doKeyDown=Ue.prototype.qz=function(){var a=this.h;a!==p&&a.ig.doKeyDown()};
Ue.prototype.doKeyUp=Ue.prototype.rz=function(){var a=this.h;a!==p&&a.ig.doKeyUp()};Ue.prototype.doCancel=Ue.prototype.Vj=function(){lf!==p&&lf.doCancel();bf.prototype.Vj.call(this)};Ue.prototype.findTool=Ue.prototype.Ue=function(a){x.k(a,"string",Ue,"findTool:name");for(var b=this.$e.length,c=0;c<b;c++){var d=this.$e.ia(c);if(d.name===a)return d}b=this.qg.length;for(c=0;c<b;c++)if(d=this.qg.ia(c),d.name===a)return d;b=this.fh.length;for(c=0;c<b;c++)if(d=this.fh.ia(c),d.name===a)return d;return p};
Ue.prototype.replaceTool=Ue.prototype.pI=function(a,b){x.k(a,"string",Ue,"replaceTool:name");b!==p&&(x.i(b,bf,Ue,"replaceTool:newtool"),b.h&&b.h!==this.h&&x.m("Cannot share tools between Diagrams: "+b.toString()),b.je(this.h));for(var c=this.$e.length,d=0;d<c;d++){var e=this.$e.ia(d);if(e.name===a)return b!==p?this.$e.qw(d,b):this.$e.bf(d),e}c=this.qg.length;for(d=0;d<c;d++)if(e=this.qg.ia(d),e.name===a)return b!==p?this.qg.qw(d,b):this.qg.bf(d),e;c=this.fh.length;for(d=0;d<c;d++)if(e=this.fh.ia(d),
e.name===a)return b!==p?this.fh.qw(d,b):this.fh.bf(d),e;return p};function Gh(a,b,c,d){x.k(b,"string",Ue,"replaceStandardTool:name");x.i(d,H,Ue,"replaceStandardTool:list");c!==p&&(x.i(c,bf,Ue,"replaceStandardTool:newtool"),c.h&&c.h!==a.h&&x.m("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.je(a.h));a.Ue(b)?a.pI(b,c):c!==p&&d.add(c)}x.u(Ue,{$e:"mouseDownTools"},t("LB"));x.u(Ue,{qg:"mouseMoveTools"},t("MB"));x.u(Ue,{fh:"mouseUpTools"},t("NB"));x.g(Ue,"hoverDelay",Ue.prototype.LD);
x.defineProperty(Ue,{LD:"hoverDelay"},t("xB"),ba("xB"));x.g(Ue,"holdDelay",Ue.prototype.Fz);x.defineProperty(Ue,{Fz:"holdDelay"},t("wB"),ba("wB"));x.g(Ue,"actionTool",Ue.prototype.uC);x.defineProperty(Ue,{uC:"actionTool"},function(){return this.Ue("Action")},function(a){Gh(this,"Action",a,this.$e)});x.g(Ue,"relinkingTool",Ue.prototype.BE);x.defineProperty(Ue,{BE:"relinkingTool"},function(){return this.Ue("Relinking")},function(a){Gh(this,"Relinking",a,this.$e)});x.g(Ue,"linkReshapingTool",Ue.prototype.dE);
x.defineProperty(Ue,{dE:"linkReshapingTool"},function(){return this.Ue("LinkReshaping")},function(a){Gh(this,"LinkReshaping",a,this.$e)});x.g(Ue,"resizingTool",Ue.prototype.JE);x.defineProperty(Ue,{JE:"resizingTool"},function(){return this.Ue("Resizing")},function(a){Gh(this,"Resizing",a,this.$e)});x.g(Ue,"rotatingTool",Ue.prototype.ME);x.defineProperty(Ue,{ME:"rotatingTool"},function(){return this.Ue("Rotating")},function(a){Gh(this,"Rotating",a,this.$e)});x.g(Ue,"linkingTool",Ue.prototype.Pz);
x.defineProperty(Ue,{Pz:"linkingTool"},function(){return this.Ue("Linking")},function(a){Gh(this,"Linking",a,this.qg)});x.g(Ue,"draggingTool",Ue.prototype.we);x.defineProperty(Ue,{we:"draggingTool"},function(){return this.Ue("Dragging")},function(a){Gh(this,"Dragging",a,this.qg)});x.g(Ue,"dragSelectingTool",Ue.prototype.iD);x.defineProperty(Ue,{iD:"dragSelectingTool"},function(){return this.Ue("DragSelecting")},function(a){Gh(this,"DragSelecting",a,this.qg)});x.g(Ue,"panningTool",Ue.prototype.vE);
x.defineProperty(Ue,{vE:"panningTool"},function(){return this.Ue("Panning")},function(a){Gh(this,"Panning",a,this.qg)});x.g(Ue,"dragZoomingTool",Ue.prototype.is);x.defineProperty(Ue,{is:"dragZoomingTool"},function(){return this.Ue("DragZooming")},function(a){Gh(this,"DragZooming",a,this.qg)});x.g(Ue,"contextMenuTool",Ue.prototype.RC);x.defineProperty(Ue,{RC:"contextMenuTool"},function(){return this.Ue("ContextMenu")},function(a){Gh(this,"ContextMenu",a,this.fh)});x.g(Ue,"textEditingTool",Ue.prototype.ww);
x.defineProperty(Ue,{ww:"textEditingTool"},function(){return this.Ue("TextEditing")},function(a){Gh(this,"TextEditing",a,this.fh)});x.g(Ue,"clickCreatingTool",Ue.prototype.MC);x.defineProperty(Ue,{MC:"clickCreatingTool"},function(){return this.Ue("ClickCreating")},function(a){Gh(this,"ClickCreating",a,this.fh)});x.g(Ue,"clickSelectingTool",Ue.prototype.NC);x.defineProperty(Ue,{NC:"clickSelectingTool"},function(){return this.Ue("ClickSelecting")},function(a){Gh(this,"ClickSelecting",a,this.fh)});
function Ie(){x.nc(this);this.da=p;this.mb=new H(z);this.Hb="";this.zi=1;this.Ox=q;this.Zg=this.nk=this.mk=this.lk=this.kk=this.ik=this.hk=this.jk=this.gk=this.pk=this.fk=this.ok=this.ek=this.dk=h;this.VB=[]}x.S("Layer",Ie);Ie.prototype.je=ba("da");
Ie.prototype.toString=function(a){a===f&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,i=0,j=this.mb.l;j.next();){var k=j.value;k instanceof B?e++:k instanceof A?d++:k instanceof F?g++:k instanceof We?i++:c++}j="";0<c&&(j+=c+" Parts ");0<d&&(j+=d+" Nodes ");0<e&&(j+=e+" Groups ");0<g&&(j+=g+" Links ");0<i&&(j+=i+" Adornments ");if(1<a)for(c=this.mb.l;c.next();)d=c.value,j+="\n    "+d.toString(a-1),(e=d.data)&&x.ic(e)&&(j+=" #"+x.ic(e)),d instanceof A?j+=" "+Wd(e):d instanceof
F&&(j+=" "+Wd(d.ja)+" "+Wd(d.na));return b+" "+this.mb.count+": "+j};Ie.prototype.findObjectAt=Ie.prototype.vd=function(a,b,c){b===f&&(b=p);c===f&&(c=p);var d=this.mb,e=q;this.h.fb.Ca(a)&&(e=h);for(var g=new K,i=d.length;i--;){var j=d.ia(i);if(!(e===h&&j.me===q)&&j.sb()&&($a(g.set(a),j.oe),j=j.vd(g,b,c),j!==p&&(b!==p&&(j=b(j)),j&&(c===p||c(j)))))return j}return p};
Ie.prototype.findObjectsAt=Ie.prototype.po=function(a,b,c,d){b===f&&(b=p);c===f&&(c=p);!(d instanceof H)&&!(d instanceof qa)&&(d=new qa(U));var e=this.mb,g=q;this.h.fb.Ca(a)&&(g=h);for(var i=new K,j=e.length;j--;){var k=e.ia(j);!(g===h&&k.me===q)&&k.sb()&&($a(i.set(a),k.oe),k.po(i,b,c,d)&&(b!==p&&(k=b(k)),k&&(c===p||c(k))&&d.add(k)))}return d};
Ie.prototype.findObjectsIn=Ie.prototype.um=function(a,b,c,d,e){b===f&&(b=p);c===f&&(c=p);d===f&&(d=q);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));var g=this.mb,i=q;this.h.fb.mm(a)&&(i=h);for(var j=g.length;j--;){var k=g.ia(j);!(i===h&&k.me===q)&&(k.sb()&&k.um(a,b,c,d,e))&&(b!==p&&(k=b(k)),k&&(c===p||c(k))&&e.add(k))}return e};
Ie.prototype.findObjectsNear=Ie.prototype.qo=function(a,b,c,d,e){c===f&&(c=p);d===f&&(d=p);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));var g=this.mb,i=q;this.h.fb.Ca(a)&&(i=h);for(var j=new K,k=g.length;k--;){var l=g.o[k];if(!(i===h&&l.me===q)&&l.sb()){$a(j.set(a),l.oe);var m=new K(a.x+b,a.y);$a(m,l.oe);l.qo(j,m,c,d,e)&&(c!==p&&(l=c(l)),l&&(d===p||d(l))&&e.add(l))}}return e};da=Ie.prototype;
da.Re=function(a,b,c){if(this.visible){a.globalAlpha=this.zi;var d=this.mb,c=c?c:b.fb,e=[],g=b.scale;if(b.Gk)for(var i=d.length,j=0;j<i;j++){var k=d.o[j];k.FB=j;if(k instanceof F&&(k.jc&&e.push(k),k.Ii===q))continue;var l=k.za;l.We(c)?(1<l.width*g||1<l.height*g?k.Re(a,b):Hh(k,a),k.me=h):k.me=q}else{i=d.length;for(j=0;j<i;j++)if(k=d.o[j],k.me){if(k instanceof F&&(k.jc&&e.push(k),k.Ii===q))continue;l=k.za;1<l.width*g||1<l.height*g?k.Re(a,b):Hh(k,a)}}this.VB=e;a.globalAlpha=1}};
da.j=function(a,b,c,d,e){var g=this.h;g!==p&&g.Yc(Gd,a,this,b,c,d,e)};da.zm=function(a,b,c){var d=this.mb;b.J=this;if(a>=d.count)a=d.count;else if(d.ia(a)===b)return-1;d.Cc(a,b);b.ws();d=this.h;d!==p&&(c?Ih(d):d.zm(b));b instanceof B&&this.tw(b);return a};da.xe=function(a,b,c){var d=this.mb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.ia(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.xs();d.bf(a);d=this.h;d!==p&&(c?Ih(d):d.xe(b));b.J=p;return a};
da.tw=function(a){for(;a!==p;){if(a.Pa===this){var b=a;if(b.Ec.next()){for(var c=-1,d=-1,e=this.mb.o,g=e.length,i=0;i<g;i++){var j=e[i];if(j===b&&(c=i,0<=d))break;if(0>d&&j.Za===b&&(d=i,0<=c))break}!(0>d)&&d<c&&(e=this.mb,e.bf(c),e.Cc(d,b))}}a=a.Za}};da.clear=function(){for(var a=this.mb.Eg(),b=a.length,c=0;c<b;c++)a[c].me=q,this.xe(-1,a[c])};x.u(Ie,{$i:"parts"},function(){return this.mb.l});x.u(Ie,{ZL:"partsBackwards"},function(){return this.mb.yo});x.u(Ie,{h:"diagram"},t("da"));x.g(Ie,"name",Ie.prototype.name);
x.defineProperty(Ie,{name:"name"},t("Hb"),function(a){x.k(a,"string",Ie,"name");var b=this.Hb;if(b!==a){var c=this.h;if(c!==p){""===b&&x.m("Cannot rename default Layer to: "+a);for(c=c.Bm;c.next();)c.value.name===a&&x.m("Layer.name is already present in this diagram: "+a)}this.Hb=a;this.j("name",b,a);for(a=this.mb.l;a.next();)a.value.Kd=this.Hb}});x.g(Ie,"opacity",Ie.prototype.opacity);
x.defineProperty(Ie,{opacity:"opacity"},t("zi"),function(a){var b=this.zi;b!==a&&(x.k(a,"number",Ie,"opacity"),(0>a||1<a)&&x.ta(a,"0 <= val <= 1",Ie,"opacity"),this.zi=a,this.j("opacity",b,a),a=this.h,a!==p&&Ih(a))});x.g(Ie,"isTemporary",Ie.prototype.Dc);x.defineProperty(Ie,{Dc:"isTemporary"},t("Ox"),function(a){var b=this.Ox;b!==a&&(x.k(a,"boolean",Ie,"isTemporary"),this.Ox=a,this.j("isTemporary",b,a))});x.g(Ie,"visible",Ie.prototype.visible);
x.defineProperty(Ie,{visible:"visible"},t("Zg"),function(a){var b=this.Zg;if(b!==a){x.k(a,"boolean",Ie,"visible");this.Zg=a;this.j("visible",b,a);for(a=this.mb.l;a.next();)a.value.updateAdornments();a=this.h;a!==p&&Ih(a)}});x.g(Ie,"allowCopy",Ie.prototype.Lj);x.defineProperty(Ie,{Lj:"allowCopy"},t("dk"),function(a){var b=this.dk;b!==a&&(x.k(a,"boolean",Ie,"allowCopy"),this.dk=a,this.j("allowCopy",b,a))});x.g(Ie,"allowDelete",Ie.prototype.Wk);
x.defineProperty(Ie,{Wk:"allowDelete"},t("ek"),function(a){var b=this.ek;b!==a&&(x.k(a,"boolean",Ie,"allowDelete"),this.ek=a,this.j("allowDelete",b,a))});x.g(Ie,"allowTextEdit",Ie.prototype.$n);x.defineProperty(Ie,{$n:"allowTextEdit"},t("ok"),function(a){var b=this.ok;b!==a&&(x.k(a,"boolean",Ie,"allowTextEdit"),this.ok=a,this.j("allowTextEdit",b,a))});x.g(Ie,"allowGroup",Ie.prototype.Vn);
x.defineProperty(Ie,{Vn:"allowGroup"},t("fk"),function(a){var b=this.fk;b!==a&&(x.k(a,"boolean",Ie,"allowGroup"),this.fk=a,this.j("allowGroup",b,a))});x.g(Ie,"allowUngroup",Ie.prototype.ao);x.defineProperty(Ie,{ao:"allowUngroup"},t("pk"),function(a){var b=this.pk;b!==a&&(x.k(a,"boolean",Ie,"allowUngroup"),this.pk=a,this.j("allowUngroup",b,a))});x.g(Ie,"allowLink",Ie.prototype.hm);
x.defineProperty(Ie,{hm:"allowLink"},t("gk"),function(a){var b=this.gk;b!==a&&(x.k(a,"boolean",Ie,"allowLink"),this.gk=a,this.j("allowLink",b,a))});x.g(Ie,"allowRelink",Ie.prototype.Mj);x.defineProperty(Ie,{Mj:"allowRelink"},t("jk"),function(a){var b=this.jk;b!==a&&(x.k(a,"boolean",Ie,"allowRelink"),this.jk=a,this.j("allowRelink",b,a))});x.g(Ie,"allowMove",Ie.prototype.Xk);
x.defineProperty(Ie,{Xk:"allowMove"},t("hk"),function(a){var b=this.hk;b!==a&&(x.k(a,"boolean",Ie,"allowMove"),this.hk=a,this.j("allowMove",b,a))});x.g(Ie,"allowPrint",Ie.prototype.Zr);x.defineProperty(Ie,{Zr:"allowPrint"},t("ik"),function(a){var b=this.ik;b!==a&&(x.k(a,"boolean",Ie,"allowPrint"),this.ik=a,this.j("allowPrint",b,a))});x.g(Ie,"allowReshape",Ie.prototype.Xn);
x.defineProperty(Ie,{Xn:"allowReshape"},t("kk"),function(a){var b=this.kk;b!==a&&(x.k(a,"boolean",Ie,"allowReshape"),this.kk=a,this.j("allowReshape",b,a))});x.g(Ie,"allowResize",Ie.prototype.Yn);x.defineProperty(Ie,{Yn:"allowResize"},t("lk"),function(a){var b=this.lk;b!==a&&(x.k(a,"boolean",Ie,"allowResize"),this.lk=a,this.j("allowResize",b,a))});x.g(Ie,"allowRotate",Ie.prototype.Zn);
x.defineProperty(Ie,{Zn:"allowRotate"},t("mk"),function(a){var b=this.mk;b!==a&&(x.k(a,"boolean",Ie,"allowRotate"),this.mk=a,this.j("allowRotate",b,a))});x.g(Ie,"allowSelect",Ie.prototype.pe);x.defineProperty(Ie,{pe:"allowSelect"},t("nk"),function(a){var b=this.nk;b!==a&&(x.k(a,"boolean",Ie,"allowSelect"),this.nk=a,this.j("allowSelect",b,a))});
function w(a){function b(a){var b=a.toLowerCase(),c=new H("function");e.add(a,c);e.add(b,c);g.add(a,a);g.add(b,a)}function c(){document.removeEventListener("DOMContentLoaded",c,q);Jh(d)}1<arguments.length&&x.m("Diagram constructor can only take one optional argument, the DIV HTML element or its id.");x.nc(this);x.kB=[];this.yc=h;this.Oe=17;var d=this;document.body!==p?Jh(this):document.addEventListener("DOMContentLoaded",c,q);this.jb=new H(Ie);this.dC=this.cC=this.fC=this.eC=this.Rb=this.Kg=this.wa=
p;this.nb=(new K(NaN,NaN)).freeze();this.Yb=1;this.Ix=(new K(NaN,NaN)).freeze();this.Jx=NaN;this.su=1E-4;this.pu=100;this.qd=new Ya;this.nv=(new K(NaN,NaN)).freeze();this.Rt=(new L(NaN,NaN,NaN,NaN)).freeze();this.xl=$e;this.Cl=Db;this.Dk=$e;this.hn=Db;this.au=this.$t=Eb;this.sh=new qa(U);this.rh=h;this.mj=new pa(F,L);this.Ot=h;this.yF=250;this.xF=1E3;this.ih=p;this.vt=(new hb(16,16,16,16)).freeze();this.lB=h;this.Nn=this.zf=q;this.Pp=h;this.My=q;this.Ng=new Ad;this.Uc=new Ad;this.bc=new Ad;this.kj=
p;this.cv=-1;this.zy=q;this.tx=new pa("string",H);this.sx=new pa("string","string");var e=new pa("string",H),g=new pa("string","string");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");
b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");this.tx=e;this.sx=g;this.Cu=new qa(A);this.cm=new qa(B);this.ku=new qa(F);this.mb=new qa(z);this.gu=h;this.zB=q;this.kv=gg;this.lx=this.qx=this.iv=p;this.Ht="";this.Cp=
"auto";this.fi=this.Hi=this.ti=this.vu=this.ui=this.vi=this.wi=this.ei=this.hi=this.di=p;this.li=h;this.$w=q;this.ix=p;this.Il=this.Di=this.TA=q;this.Ra=h;this.Qd=p;var i=this;this.IB=function(a){if(a.Y===i.Y&&i.Ra){i.Ra=q;try{var b=a.ud;""===a.Ze&&b===Gd&&Kh(i,a.object,a.propertyName)}finally{i.Ra=h}}};this.JB=function(a){if(a.Y===i.Y&&i.Ra){i.Ra=q;try{var b=a.ud,c=a.Ze;if(""!==c)if(b===Gd)if("linkFromKey"===c){var d=a.object,e=i.Gf(d);if(e!==p){var g=a.newValue,s=i.kg(g);e.ja=s}}else if("linkToKey"===
c)d=a.object,e=i.Gf(d),e!==p&&(g=a.newValue,s=i.kg(g),e.na=s);else if("linkFromPortId"===c){if(d=a.object,e=i.Gf(d),e!==p){var v=a.newValue;"string"===typeof v&&(e.Oh=v)}}else if("linkToPortId"===c)d=a.object,e=i.Gf(d),e!==p&&(v=a.newValue,"string"===typeof v&&(e.bj=v));else if("nodeGroupKey"===c){var d=a.object,y=i.Yj(d);if(y!==p){var C=a.newValue;if(C!==f){var D=i.kg(C);y.Za=D instanceof B?D:p}else y.Za=p}}else if("linkLabelKeys"===c){if(d=a.object,e=i.Gf(d),e!==p){var I=a.oldValue,E=a.newValue;
if(x.isArray(I))for(var M=x.Zb(I),O=0;O<M;O++){var X=x.Kb(I,O),s=i.kg(X);s!==p&&(s.fd=p)}if(x.isArray(E)){M=x.Zb(E);for(O=0;O<M;O++)X=x.Kb(E,O),s=i.kg(X),s!==p&&(s.fd=e)}}}else if("nodeParentKey"===c){var sa=a.object,ka=i.kg(a.newValue),va=i.ls(sa);if(va!==p){var Fa=va.Rv();Fa!==p?ka===p?i.remove(Fa):i.ed?Fa.ja=ka:Fa.na=ka:Lh(i,ka,va)}}else if("parentLinkCategory"===c){var sa=a.object,va=i.ls(sa),Ga=a.newValue;va!==p&&"string"===typeof Ga&&(Fa=va.Rv(),Fa!==p&&(Fa.Vc=Ga))}else if("nodeCategory"===
c){var d=a.object,Za=i.Yj(d),Ga=a.newValue;Za!==p&&"string"===typeof Ga&&(Za.Vc=Ga)}else if("linkCategory"===c){var d=a.object,qb=i.Gf(d),Ga=a.newValue;qb!==p&&"string"===typeof Ga&&(qb.Vc=Ga)}else if("nodeDataArray"===c){var Wa=a.oldValue;Mh(i,Wa);var Ia=a.newValue;Nh(i,Ia)}else"linkDataArray"===c&&(Wa=a.oldValue,Mh(i,Wa),Ia=a.newValue,Oh(i,Ia));else if(b===Ud)Ia=a.newValue,"nodeDataArray"===c&&x.rb(Ia)?Ph(i,Ia):"linkDataArray"===c&&x.rb(Ia)?Qh(i,Ia):"linkLabelKeys"===c&&ye(Ia)&&(e=i.Gf(a.object),
s=i.kg(Ia),e!==p&&s!==p&&(s.fd=e));else if(b===Vd)Wa=a.oldValue,"nodeDataArray"===c&&x.rb(Wa)?Rh(i,Wa):"linkDataArray"===c&&x.rb(Wa)?Rh(i,Wa):"linkLabelKeys"===c&&ye(Wa)&&(s=i.kg(Wa),s!==p&&(s.fd=p));else{if(b===Dd&&"SourceChanged"===c){var y=i.Yj(a.object),eb=a.propertyName;y!==p&&"string"===typeof eb&&(y.Bb(eb),i.Y instanceof $d&&(e=i.Gf(a.object),e!==p&&e.Bb(eb)))}}else if(b===Gd){var Va=a.propertyName,d=a.object;if(d===i.Y){if("nodeKeyProperty"===Va||"nodeCategoryProperty"===Va||"linkFromKeyProperty"===
Va||"linkToKeyProperty"===Va||"linkFromPortIdProperty"===Va||"linkToPortIdProperty"===Va||"nodeIsLinkLabelProperty"===Va||"linkLabelKeysProperty"===Va||"nodeIsGroupProperty"===Va||"nodeGroupKeyProperty"===Va||"nodeParentKeyProperty"===Va||"linkCategoryProperty"===Va)i.xa.zb||i.Gm()}else Kh(i,d,Va)}else if(b===Ud||b===Vd){var mb=a.ud===Ud,Ed=mb?a.Jf:a.Kf,ff=mb?a.newValue:a.oldValue,ce=i.Ol.va(a.object);if(Array.isArray(ce))for(a=0;a<ce.length;a++){var cc=ce[a];"number"===typeof Ed&&((cc.type===Vg||
cc.type===Sh)&&Ed++,mb?x.rb(ff)&&(Th(cc,ff,Ed),Uh(cc,cc)):(cc.xe(Ed),Uh(cc,cc)))}}else if(b===Dd){var Fd=a.propertyName;if("S"!==Fd[0]){if("CommittingTransaction"!==Fd){if("FinishedUndo"===Fd||"FinishedRedo"===Fd)i.xa.pi=h,Vh(i),i.xa.pi=q;i.Og&&i.Ka.standardMouseOver();for(var gf=i.selection.l;gf.next();)gf.value.updateAdornments()}i.Nn=h;i.Sh();$g(i)}else"StartingFirstTransaction"===Fd&&(!i.Xd&&!i.Og)&&(i.Nn=h,i.Pp&&(i.zf=h))}}finally{i.Ra=h}}};this.gi=new pa(Object,z);this.vk=new pa(Object,F);this.Ol=
new pa(Object,Array);this.Hk=q;this.ek=this.dk=this.mt=this.oi=h;this.ot=this.nt=q;this.tt=this.rt=this.nk=this.mk=this.lk=this.kk=this.ik=this.hk=this.jk=this.gk=this.qt=this.pk=this.fk=this.ok=h;this.CB=q;this.st=this.pt=this.Wt=this.Vt=h;this.Ru=this.Qu=16;this.py=this.Pu=q;this.sy=this.qy=this.Hj=this.Gj=p;this.ne=(new hb(5)).freeze();this.Uu=(new qa(z)).freeze();this.qu=999999999;this.Gk=this.Fk=this.mi=h;this.Gl=this.Fl=q;this.Zt=this.Yt=0;this.Bd=p;this.ut=h;this.Og=q;this.Ed=p;this.Hu=1;this.Cx=
q;this.aC=0;this.qC=(new L(NaN,NaN,NaN,NaN)).freeze();this.Mt=(new L(NaN,NaN,NaN,NaN)).freeze();this.Xd=q;this.Ju=new qa;Wh(this);this.ju=this.Tt=this.Bu=this.hB=this.gB=this.iB=this.tj=this.Ak=this.xi=p;Xh(this);this.Pc=p;this.St=q;this.Vm=this.my=p;this.Wb=new Ue;this.Wb.initializeStandardTools();this.Ka=this.Gv=this.Wb;this.ig=new xa;this.Y=new T;this.Di=h;this.Nb=new Yh;this.Di=q;a===f&&(a=document.createElement("div"));this.Xt=new Zh;$h(this,a);this.wr=p;this.rj=1;this.nn=0;this.iu=new K;this.Jy=
500;this.PB=q;window.navigator&&0<window.navigator.userAgent.indexOf("534.30")&&(this.PB=h);this.yc=q}x.S("Diagram",w);
function Xh(a){a.xi=new pa("string",z);var b=new A,c=new ra;c.bind(new De("text","",Wd));b.add(c);a.iB=b;a.xi.add("",b);b=new A;c=new ra;c.stroke="brown";c.bind(new De("text","",Wd));b.add(c);a.xi.add("Comment",b);b=new A;b.aj=q;b.Zy=q;c=new V;c.xb="Ellipse";c.fill="black";c.stroke=p;c.Aa=new cb(3,3);b.add(c);a.xi.add("LinkLabel",b);a.Ak=new pa("string",B);b=new B;b.Vo="GROUPPANEL";b.type=ai;c=new ra;c.font="bold 12pt sans-serif";c.bind(new De("text","",Wd));b.add(c);c=new G(Sh);c.name="GROUPPANEL";
var d=new V;d.xb="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new Wg;d.padding=new hb(5,5,5,5);c.add(d);b.add(c);a.gB=b;a.Ak.add("",b);a.tj=new pa("string",F);b=new F;c=new V;c.Qh=h;b.add(c);c=new V;c.Mm="Standard";c.fill="black";c.stroke=p;c.eb=0;b.add(c);a.hB=b;a.tj.add("",b);b=new F;c=new V;c.Qh=h;c.stroke="brown";b.add(c);a.tj.add("Comment",b);b=new We;b.type=Sh;c=new V;c.fill=p;c.stroke="magenta";c.eb=2;b.add(c);c=new Wg;c.margin=new hb(1,1,1,1);b.add(c);a.Bu=b;a.Tt=
b;b=new We;b.type=Mg;c=new V;c.Qh=h;c.fill=p;c.stroke="magenta";c.eb=0;b.add(c);a.ju=b}
function Jh(a){var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);document.body.removeChild(c);a.Oe=d-b}
w.prototype.toString=function(a){a===f&&(a=0);var b="";this.id&&(b=this.id);this.Pi&&this.Pi.id&&(b=this.Pi.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.jb.l;c.next();)b+="\n  "+c.value.toString(a-1);return b};w.prototype.checkProperties=w.prototype.QJ=function(){return x.yG(this)};w.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.da instanceof w?b.da:p};x.g(w,"div",w.prototype.Pi);
x.defineProperty(w,{Pi:"div"},t("Rb"),function(a){a!==p&&x.i(a,HTMLDivElement,w,"div");if(this.Rb!==a){var b=this.Rb;if(b!==p){delete b.da;b.innerHTML="";this.wa!==p&&(this.wa.da=p,this.wa.removeEventListener("touchstart",this.gF,q),this.wa.removeEventListener("touchmove",this.fF,q),this.wa.removeEventListener("touchend",this.eF,q));b=this.iv;if(b!==p){for(var c=b.LB,d=c.length,e=0;e<d;e++)c.o[e].cancelWaitAfter();c=b.MB;d=c.length;for(e=0;e<d;e++)c.o[e].cancelWaitAfter();c=b.NB;d=c.length;for(e=
0;e<d;e++)c.o[e].cancelWaitAfter()}b.cancelWaitAfter();this.Kg=this.wa=p;window.removeEventListener("resize",this.Sz,q);window.removeEventListener("mousemove",this.Io,h);window.removeEventListener("mousedown",this.Ho,h);window.removeEventListener("mouseup",this.Ko,h);window.removeEventListener("mousewheel",this.gh,h);window.removeEventListener("DOMMouseScroll",this.gh,h);window.removeEventListener("mouseout",this.Jo,h)}this.Rb=p;if(a!==p){if(b=a.da)b.Pi=p;$h(this,a)}}});
function Zh(){this.hC=h;this.UI=q;this.XI=212;this.OF="63ad05bbe23a1786468a4c741b6d2e";if(this.OF===this._tk)this.nj=h;else{var a="p",b=window[x.Ta("76a715b2f73f148a")][x.Ta("72ba13b5")];if(x.Ta("77bb5bb2f32603de")===window[x.Ta("76a715b2f73f148a")][x.Ta("6aba19a7ec351488")])try{this.nj=!window[x.Ta("4da118b7ec2108")][x.Ta("5bb806bfea351a904a84515e1b6d38b6")][x.Ta("49bc19a1e6")][x.Ta("59bd04a1e6380fa5539b")][x.Ta("7bb8069ae7")]===x.Ta(x.Vy);if(this.nj===q)return;this.nj=!window[x.Ta("4da118b7ec2108")][x.Ta("5bb806bfea351a904a84515e1b6d38b6")][x.Ta("49bc19a1e6")][x.Ta("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")][x.Ta("7bb8069ae7")]===
x.Ta(x.Vy);if(this.nj===q)return}catch(c){}for(var d=b[x.Ta("76ad18b4f73e")],e=b[x.Ta("73a612b6fb191d")](x.Ta("35e7"))+2;e<d;e++)a+=b[e];d=a[x.Ta("73a612b6fb191d")](x.Ta(x.Vy));if(this.nj=!(0<d&&d<a[x.Ta("73a612b6fb191d")](x.Ta("35")))){a=document[x.Ta("69bc0fbfe6051381469f4c")];d=a.length;for(e=0;e<d;e++)if(b=a[e][x.Ta("79bb0581f63a1e97")],b!==p){for(var g=b.length,i=0;i<g;i++)if(b[i][x.Ta("69ad1ab6e0221496778e4767")]==x.Ta("02cncncn")){var j=b[i][x.Ta("69bc0fbfe6")][x.Ta("78a704b7e6242f8b53a8507f1b7b")];
if(!j)return;if(-1!==j.indexOf(x.Ta(x.zG))&&-1!==j.indexOf(x.Ta(x.AG))){this.nj=q;break}}if(this.nj===q)break}}this.YI=new K(NaN,NaN)}}Zh.prototype.jt=function(a){a.wF();return 0<this.nj&&this!==this.hC?h:q};Zh.prototype.t=Zh.prototype.GM=function(){this.hC=p};
function $h(a,b){(b===f||b===p)&&x.m("Diagram setup requires an argument DIV.");a.Rb!==p&&x.m("Diagram has already completed setup.");"string"===typeof b?a.Rb=document.getElementById(b):b instanceof HTMLDivElement?a.Rb=b:x.m("No DIV or DIV id supplied: "+b);a.Rb===p&&x.m("Invalid DIV id; could not get element with id: "+b);a.Rb.da!==f&&x.m("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Rb,p).position&&(a.Rb.style.position="relative");a.Rb.style["-webkit-tap-highlight-color"]=
"rgba(255, 255, 255, 0)";a.Rb.innerHTML="";a.Rb.da=a;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))a.Rb.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";else{c.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";c.style!==f&&(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.zIndex="2",c.style.MM="none",c.style.webkitUserSelect="none",c.style.MozUserSelect="none");
c.width=a.Rb.clientWidth||1;c.height=a.Rb.clientHeight||1;c.style!==f&&(document.defaultView&&document.defaultView.getComputedStyle)&&(a.eC=parseInt(document.defaultView.getComputedStyle(c,p).paddingLeft,10)||0,a.fC=parseInt(document.defaultView.getComputedStyle(c,p).paddingTop,10)||0,a.cC=parseInt(document.defaultView.getComputedStyle(c,p).borderLeftWidth,10)||0,a.dC=parseInt(document.defaultView.getComputedStyle(c,p).borderTopWidth,10)||0);a.Zt=0;a.Yt=0;if(document.body){var d=document.body.parentNode;
a.Zt=d.offsetTop||0;a.Yt=d.offsetLeft||0}else document.addEventListener("load",function(){if(document.body){var b=document.body.parentNode;a.Zt=b.offsetTop||0;a.Yt=b.offsetLeft||0}},q);c.da=a;a.wa=c;a.Kg=c.getContext("2d");d=a.Kg;a.wF=d[x.Ta("69ad0287f137159745844d7e")][x.Ta("78a118b7")](d,1,0,0,1,0,0);a.RA=d[x.Ta("7eba17a4ca3b1a8346")][x.Ta("78a118b7")](d,x.jt,4,4);a.Rb.insertBefore(c,a.Rb.firstChild);if(a.lB!==p){var d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),
i=document.createElement("div");d.style.position="absolute";d.style.overflow="auto";d.style.width=a.wa.width+"px";d.style.height=a.wa.height+"px";d.style.zIndex="1";e.style.position="absolute";e.style.overflow="auto";e.style.width=a.wa.width+"px";e.style.height=a.wa.height+"px";e.style.zIndex="1";g.style.position="absolute";g.style.width="1px";g.style.height="1px";i.style.position="absolute";i.style.width="1px";i.style.height="1px";a.Rb.appendChild(d);a.Rb.appendChild(e);d.appendChild(g);e.appendChild(i);
d.onscroll=a.RB;d.onmousedown=a.SB;d.da=a;d.YB=h;e.onscroll=a.RB;e.onmousedown=a.SB;e.da=a;e.ZB=h;a.Gj=d;a.Hj=e;a.qy=g;a.sy=i}a.preventDefault=function(a){a.preventDefault();return q};a.Io=function(b){if(a.isEnabled){var c=a.Uc;window.TouchEvent&&c.oj!==p&&c.oj instanceof window.TouchEvent?(b.preventDefault(),b.simulated=h,a.wr=b):(a.Uc=a.bc,a.bc=c,bi(a,b,c,h),ci(b,new K,b.target.da)||(a.Ka.doMouseMove(),a.Ka.isBeyondDragSize()&&di(a)))}};a.Ho=function(b){if(a.isEnabled){var c=a.Uc;if(a.wr!==p)a.wr=
b,b.preventDefault();else if(a.Uc=a.bc,a.bc=c,bi(a,b,c,h),c.Wj=h,c.Td=b.detail,a.Ng=c.copy(),c.oj.simulated===h)b.preventDefault(),b.simulated=h;else if(u&&u.rE&&(window.rE=a.po(c.N)),lf=p,a.Ka.doMouseDown(),1===b.button)return b.preventDefault(),q}};a.Ko=function(b){if(a.isEnabled){var c=a.Uc;a.wr!==p?(a.wr=p,b.preventDefault()):(a.Uc=a.bc,a.bc=c,bi(a,b,c,h),c.dj=h,c.Td=b.detail,a.WI&&(b.timeStamp-a.nn<a.Jy&&!a.Ka.wH()?a.rj++:a.rj=1,a.nn=b.timeStamp,c.Td=a.rj),c.bubbles=b.bubbles,b.target.da&&(c.Bg=
b.target.da),ri(a,b,new K,c.Bg)||(a.Ka.doMouseUp(),of(a),ja(a,c,b)))}};a.gh=function(b){if(a.isEnabled){var c=a.Uc;a.Uc=a.bc;a.bc=c;bi(a,b,c,h);c.bubbles=h;c.Uj=b.wheelDelta!==f?b.wheelDelta:-40*b.detail;a.Ka.doMouseWheel();ja(a,c,b)}};a.Jo=function(){if(a.isEnabled){var b=a.Ka;b.cancelWaitAfter();b instanceof Ue&&b.hideToolTip()}};a.Sz=function(){var b=a.wa;if(b!==p){var c=a.Rb,d=0;a.Gl&&(d=a.Oe);var e=0;a.Fl&&(e=a.Oe);(0===c.clientWidth||0===c.clientHeight)&&x.trace("Diagram div has a width or height of zero");
if(c.clientWidth!==b.width+d||c.clientHeight!==b.height+e)a.Fk=h,a.rh=h,b=a.Nb,b!==p&&b.Es&&b.I(),a.Eb()}};a.gF=function(b){if(a.isEnabled){a.zy=q;if(1<b.touches.length){a.Ka.doCancel();if(a.li&&x.gC)return b.preventDefault(),b.cancelBubble=h,q;if(a.li){a.Cx=h;a.Hu=a.scale;var c=a.wa,d=c.getBoundingClientRect(),e=b.targetTouches[0],g=new K(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),e=b.targetTouches[1],d=new K(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/
d.height)),c=d.x-g.x,g=d.y-g.y;a.aC=Math.sqrt(c*c+g*g);b.preventDefault();b.cancelBubble=h;return q}di(a);b.cancelBubble=q;return h}g=a.Uc;a.Uc=a.bc;a.bc=g;g.h=a;c=a.qh(b.targetTouches[0]);g.Gc=a.$o(c);g.N=c;g.Th=0;g.button=0;g.Wj=h;g.dj=q;g.Td=1;g.Uj=0;g.fe=q;g.bubbles=q;g.event=b;g.timestamp=Date.now();g.Bg=b.target.da?b.target.da:p;g.Ld=p;a.Ng=g.copy();lf=p;a.Ka.doMouseDown();var i=g.copy();a.cv=setTimeout(function(){i.button=2;a.P=i;a.zy=h;a.Ka.doMouseUp()},850);ja(a,g,b)}};a.fF=function(b){if(a.isEnabled){if(1<
b.touches.length){a.Ka.doCancel();di(a);if(a.li&&x.gC)return b.preventDefault(),b.cancelBubble=h,q;if(a.li&&a.Cx&&1<b.targetTouches.length){var c=a.wa,d=c.getBoundingClientRect(),e=b.targetTouches[0],g=new K(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),e=b.targetTouches[1],e=new K(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),c=e.x-g.x,d=e.y-g.y,c=Math.sqrt(c*c+d*d)/a.aC,e=new K(Math.min(e.x,g.x)+Math.max(e.x,g.x)/2,Math.min(e.y,g.y)+Math.max(e.y,
g.y)/2),g=a.bi;a.bi=e;a.scale=a.Hu*c;a.bi=g;b.preventDefault();b.cancelBubble=h;return q}b.cancelBubble=q;return h}g=a.Uc;a.Uc=a.bc;a.bc=g;e=c=p;0<b.changedTouches.length?e=b.changedTouches[0]:0<b.targetTouches.length&&(e=b.targetTouches[0]);g.h=a;g.Td=1;if(e){var c=document.elementFromPoint(e.clientX,e.clientY),i;c&&c.da?(d=c.da.qh(e),i=c.da):(d=a.qh(b.changedTouches[0]),i=a);g.N=d;g.Gc=i.$o(d);d=new K(e.screenX,e.screenY);i=a.iu;b.timeStamp-a.nn<a.Jy&&!(25<Math.abs(i.x-d.x)||25<Math.abs(i.y-d.y))?
a.rj++:a.rj=1;g.Td=a.rj;a.nn=b.timeStamp;a.iu=d}else a.Uc!==p?(g.N=a.Uc.N,g.Gc=a.Uc.Gc,c=a.Uc.Bg):a.Ng!==p&&(g.N=a.Ng.N,g.Gc=a.Ng.Gc,c=a.Ng.Bg);g.Th=0;g.button=0;g.Wj=q;g.dj=q;g.Uj=0;g.fe=q;g.bubbles=q;g.event=b;g.timestamp=Date.now();g.Bg=c===p?b.target.da:c.da?c.da:p;g.Ld=p;a.Ka.isBeyondDragSize()&&di(a);if(!ci(e?e:b,new K,g.Bg))a.Ka.doMouseMove(),ja(a,g,b)}};a.eF=function(b){if(a.isEnabled){di(a);if(a.zy)return b.preventDefault(),q;var c=a.Uc;a.Uc=a.bc;a.bc=c;if(1<b.touches.length)a.li&&(a.Cx=
q);else{var d=p,e,g=p;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.h=a;c.Td=1;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.da?(e=d.da.qh(g),i=d.da):(e=a.qh(b.changedTouches[0]),i=a);c.N=e;c.Gc=i.$o(e);e=new K(g.screenX,g.screenY);i=a.iu;b.timeStamp-a.nn<a.Jy&&!(25<Math.abs(i.x-e.x)||25<Math.abs(i.y-e.y))?a.rj++:a.rj=1;c.Td=a.rj;a.nn=b.timeStamp;a.iu=e}else a.Uc!==p?(c.N=a.Uc.N,c.Gc=a.Uc.Gc,d=a.Uc.Bg):a.Ng!==p&&(c.N=a.Ng.N,
c.Gc=a.Ng.Gc,d=a.Ng.Bg);c.Th=0;c.button=0;c.Wj=q;c.dj=h;c.Uj=0;c.fe=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.Bg=d===p?b.target.da:d.da?d.da:p;c.Ld=p;if(!ri(a,g?g:b,new K,c.Bg))a.Ka.doMouseUp(),ja(a,c,b)}}};c.addEventListener("touchstart",a.gF,q);c.addEventListener("touchmove",a.fF,q);c.addEventListener("touchend",a.eF,q);c.addEventListener("gesturestart",function(){a.li!==q&&(a.Hu=a.scale,a.Ka.doCancel())},q);c.addEventListener("gesturechange",function(b){if(a.li!==q){var c=a.wa,d=c.getBoundingClientRect(),
c=new K(b.pageX-window.scrollX-d.left*(c.width/d.width),b.pageY-window.scrollY-d.top*(c.height/d.height)),d=a.bi;a.bi=c;a.scale=a.Hu*b.scale;a.bi=d}},q);c.addEventListener("mousemove",a.Io,q);c.addEventListener("mousedown",a.Ho,q);c.addEventListener("mouseup",a.Ko,q);c.addEventListener("mousewheel",a.gh,q);c.addEventListener("DOMMouseScroll",a.gh,q);c.addEventListener("mouseout",a.Jo,q);c.addEventListener("keydown",a.HH,q);c.addEventListener("keyup",a.IH,q);c.addEventListener("selectstart",function(a){a.preventDefault();
return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},q);window.addEventListener("resize",a.Sz,q);c.tabIndex=0;si(a)}}w.prototype.focus=w.prototype.focus=function(){this.wa&&this.wa.focus()};function si(a,b){b===f&&(b=a.Kg);b.Yw="";b.Nm="";b.vl=""}
function Wh(a){var b=new Ie;b.name="Background";a.Vr(b);b=new Ie;b.name="";a.Vr(b);b=new Ie;b.name="Foreground";a.Vr(b);b=new Ie;b.name="Adornment";b.Dc=h;a.Vr(b);b=new Ie;b.name="Tool";b.Dc=h;a.Vr(b);b=new Ie;b.name="Grid";b.pe=q;b.Dc=h;a.$F(b,a.el("Background"))}
function ti(a){a.Pc=new G(ui);a.Pc.name="GRID";var b=new V;b.xb="LineH";b.stroke="lightgray";b.eb=0.5;b.Ti=1;a.Pc.add(b);b=new V;b.xb="LineH";b.stroke="gray";b.eb=0.5;b.Ti=5;a.Pc.add(b);b=new V;b.xb="LineH";b.stroke="gray";b.eb=1;b.Ti=10;a.Pc.add(b);b=new V;b.xb="LineV";b.stroke="lightgray";b.eb=0.5;b.Ti=1;a.Pc.add(b);b=new V;b.xb="LineV";b.stroke="gray";b.eb=0.5;b.Ti=5;a.Pc.add(b);b=new V;b.xb="LineV";b.stroke="gray";b.eb=1;b.Ti=10;a.Pc.add(b);b=new z;b.add(a.Pc);b.Kd="Grid";b.As=q;b.bA=q;b.Hs="GRID";
a.add(b);a.mb.remove(b);a.Pc.visible=q}
w.prototype.RB=function(){var a=this.da;if(a.py){var b=a.wa;if(b!==p){a.Pu=h;var c=a.qc,d=a.fb,e=c.width,g=d.width,i=c.height,j=d.height,k=c.right,l=d.right,m=c.bottom,n=d.bottom,r=c.x,s=d.x,c=c.y,d=d.y,v=a.scale;g<e||j<i?(this.YB&&a.Af?a.position=new K(this.scrollLeft/v+r,a.position.y):this.ZB&&a.Bf&&(a.position=new K(a.position.x,this.scrollTop/v+c)),vi(a),Ih(a),a.Pu=q,a.Fk=q):(this.YB&&a.Af&&(r<s&&(a.position=new K(this.scrollLeft+r,a.position.y)),k>l&&(a.position=new K(-(a.Gj.scrollWidth-b.width)+
this.scrollLeft-b.width/v+a.qc.right,a.position.y))),this.ZB&&a.Bf&&(c<d&&(a.position=new K(a.position.x,this.scrollTop+c)),m>n&&(a.position=new K(a.position.x,-(a.Hj.scrollHeight-b.height)+this.scrollTop-b.height/v+a.qc.bottom))),vi(a),a.Pu=q,a.Fk=q,Ih(a),c=a.qc,d=a.fb,k=c.right,l=d.right,m=c.bottom,n=d.bottom,r=c.x,s=d.x,c=c.y,d=d.y,g>=e&&(r>=s&&k<=l)&&(a.qy.style.width="1px"),j>=i&&(c>=d&&m<=n)&&(a.sy.style.height="1px"))}}};w.prototype.SB=function(){this.da.py=h};
w.prototype.computeBounds=w.prototype.te=function(){0<this.sh.count&&Vh(this);if(this.ps.R()){var a=this.ps.copy();a.Sn(this.padding);return a}for(var b=h,c=this.jb,d=c.length,e=0;e<d;e++){var g=c.o[e];if(g.visible&&!g.Dc)for(var g=g.mb,i=g.length,j=0;j<i;j++){var k=g.o[j];k.As&&k.sb()&&(k=k.za,k.R()&&(b?(b=q,a=k.copy()):a.cj(k)))}}b&&(a=new L(0,0,0,0));a.Sn(this.padding);return a};
w.prototype.computePartsBounds=w.prototype.XJ=function(a){for(var b=p,a=a.l;a.next();){var c=a.value;c instanceof F||(c.Ri(),b===p?b=c.za.copy():b.cj(c.za))}return b===p?new L(NaN,NaN,0,0):b};function wi(a,b){if((b||a.Og)&&!a.yc&&a.qc.R()&&a.wa!==p){a.yc=h;var c=a.xl;b&&a.Dk!==$e&&(c=a.Dk);var d=c!==$e?xi(a,c):a.scale,c=a.fb.copy(),e=a.wa.width/d,g=a.wa.height/d;a.position.Na();var i=a.Cl;b&&wb(a.hn)&&(i=a.hn);yi(a,a.nb,a.qc,e,g,i);a.position.freeze();a.scale=d;a.yc=q;d=a.fb;d.Si(c)||a.Rs(c,d)}}
function xi(a,b){if(a.wa!==p){a.mi&&zi(a,a.te());var c=a.qc;if(!c.R())return 1;var d=c.width,c=c.height,e=a.wa.width,g=a.wa.height,i=e/d,j=g/c,k=1;return b===Ai?(k=Math.min(j,i),1<k&&(k=1),k<a.og&&(k=a.og),k>a.If&&(k=a.If),k):b===Bi?(k=j>i?(g-a.Oe)/c:(e-a.Oe)/d,1<k&&(k=1),k<a.og&&(k=a.og),k>a.If&&(k=a.If),k):a.scale}}w.prototype.zoomToFit=w.prototype.tF=function(){this.scale=xi(this,Ai);this.Eb()};
w.prototype.zoomToRect=w.prototype.SI=function(a,b){b===f&&(b=Ai);var c=a.width,d=a.height;if(!(0===c||0===d||isNaN(c)&&isNaN(d))){var e=1;if(b===Ai||b===Bi)if(isNaN(c))e=this.fb.height*this.scale/d;else if(isNaN(d))e=this.fb.width*this.scale/c;else var e=this.wa.width,g=this.wa.height,e=b===Bi?g/d>e/c?(g-(this.Fl?this.Oe:0))/d:(e-(this.Gl?this.Oe:0))/c:Math.min(g/d,e/c);this.scale=e;this.position=new K(a.x,a.y)}};
w.prototype.alignDocument=w.prototype.gJ=function(a,b){this.mi&&zi(this,this.te());var c=this.qc,d=this.fb,e=this.yc;this.yc=h;this.position=new K(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.yc=e;Ih(this);this.Xd||this.Eb()};
function yi(a,b,c,d,e,g){wb(g)&&(d>c.width&&(b.x=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(b.y=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY)));d<c.width?(g=b.x+d/2,g=Math.min(g,c.right-d/2),g=Math.max(g,c.left+d/2),b.x=g-d/2):b.x>c.left?b.x=c.left:b.x<c.right-d&&(b.x=c.right-d);e<c.height?(d=b.y+e/2,d=Math.min(d,c.bottom-e/2),d=Math.max(d,c.top+e/2),b.y=d-e/2):b.y>c.top?b.y=c.top:b.y<c.bottom-e&&(b.y=c.bottom-e);isFinite(b.x)||(b.x=-a.padding.left);isFinite(b.y)||(b.y=-a.padding.top)}
w.prototype.findPartAt=w.prototype.ms=function(a,b){var c=b?Kf(this,a,function(a){return a.fa},function(a){return a.Zk()}):this.vd(a,function(a){return a.fa});return c instanceof z?c:p};w.prototype.findObjectAt=w.prototype.vd=function(a,b,c){b===f&&(b=p);c===f&&(c=p);var d=this.jb.yo;for(Vh(this);d.next();){var e=d.value;if(e.visible&&(e=e.vd(a,b,c),e!==p))return e}return p};
function Kf(a,b,c,d){c===f&&(c=p);d===f&&(d=p);var e=a.jb.yo;for(Vh(a);e.next();)if(a=e.value,a.visible&&!a.Dc&&(a=a.vd(b,c,d),a!==p))return a;return p}w.prototype.findObjectsAt=w.prototype.po=function(a,b,c,d){b===f&&(b=p);c===f&&(c=p);!(d instanceof H)&&!(d instanceof qa)&&(d=new qa(U));Vh(this);for(var e=this.jb.yo;e.next();){var g=e.value;g.visible&&g.po(a,b,c,d)}return d};
w.prototype.findObjectsIn=w.prototype.um=function(a,b,c,d,e){b===f&&(b=p);c===f&&(c=p);d===f&&(d=q);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));Vh(this);for(var g=this.jb.yo;g.next();){var i=g.value;i.visible&&i.um(a,b,c,d,e)}return e};w.prototype.findObjectsNear=w.prototype.qo=function(a,b,c,d,e){c===f&&(c=p);d===f&&(d=p);!(e instanceof H)&&!(e instanceof qa)&&(e=new qa(U));Vh(this);for(var g=this.jb.yo;g.next();){var i=g.value;i.visible&&i.qo(a,b,c,d,e)}return e};
function di(a){-1!==a.cv&&(clearTimeout(a.cv),a.cv=-1)}function bi(a,b,c,d){c.h=a;d?(d=a.qh(b),c.Gc=a.$o(d),c.N=d):(c.Gc=a.bc.Gc,c.N=a.bc.N);a=0;b.ctrlKey&&(a+=1);b.altKey&&(a+=2);b.shiftKey&&(a+=4);c.Th=a;c.button=b.button;c.Wj=q;c.dj=q;c.Td=1;c.Uj=0;c.fe=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.Bg=b.target.da?b.target.da:p;c.Ld=p}
function ja(a,b,c){if(b.bubbles)return u&&(u.trace&&u.HD)&&u.trace("NOT handled "+c.type+" "+b.toString()),h;u&&(u.trace&&u.HD)&&u.trace("handled "+c.type+" "+a.Ka.name+" "+b.toString());c.stopPropagation!==f&&c.stopPropagation();c.preventDefault!==f&&c.preventDefault();c.cancelBubble=h;return q}
w.prototype.HH=function(a){if(this.da.isEnabled){var b=this.da.bc;bi(this.da,a,b,q);b.key=String.fromCharCode(a.which);b.Wj=h;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:b.key="Add";break;case 189:b.key="Subtract";break;case 107:b.key=
"Add";break;case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.da.Ka.doKeyDown();return(187===a.which||189===a.which||48===a.which||107===a.which||109===a.which)&&a.ctrlKey===h?(a.cancelBubble=h,a.preventDefault!==f?a.preventDefault():a.returnValue=q,Event.stop&&(x.m("Event.stop can fire for this browser"),Event.stop(a)),a.stopPropagation!==f&&a.stopPropagation(),q):ja(this.da,b,a)}};
w.prototype.IH=function(a){if(this.da.isEnabled){var b=this.da.bc;bi(this.da,a,b,q);b.key=String.fromCharCode(a.which);b.dj=h;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del"}this.da.Ka.doKeyUp();return ja(this.da,b,a)}};
w.prototype.qh=function(a){if(this.$w){var b=this.wa,c=0,d=0;if(b.offsetParent!==f){do c+=b.offsetLeft+b.clientLeft,d+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c+=this.eC+this.cC+this.Yt;d+=this.fC+this.dC+this.Zt;b=a.pageX-c;a=a.pageY-d;this.qd!==p&&(a=new K(b,a),$a(a,this.qd),b=a.x,a=a.y);return new K(b,a)}b=this.wa;b===p&&new K(0,0);c=b.getBoundingClientRect();d=a.clientX-c.left*(b.width/c.width);a=a.clientY-c.top*(b.height/c.height);this.qd!==p&&(a=new K(d,a),$a(a,this.qd),d=a.x,a=a.y);
return new K(d,a)};x.g(w,"alternateCoordinates",w.prototype.kG);x.defineProperty(w,{kG:p},t("$w"),function(a){x.k(a,"boolean",w,"alternateCoordinates");this.$w=a});w.prototype.invalidateDocumentBounds=w.prototype.Ui=function(){if(!this.Xd&&(Ci(this),this.My===q)){this.My=h;var a=this;requestAnimationFrame(function(){a.wa===p||a.zf===h||($g(a),a.My=q)})}};function $g(a){a.Xd||Vh(a);a.mi&&zi(a,a.te());wi(a);!a.yc&&a.Fk&&Di(a);for(a=a.Ju.l;a.next();)$g(a.value)}
w.prototype.redraw=w.prototype.fM=function(){!this.yc&&!this.Xd&&(Ih(this),Ei(this),vi(this),Ci(this),this.Sh())};w.prototype.isUpdateRequested=w.prototype.AL=t("zf");w.prototype.delayInitialization=w.prototype.lK=function(a){this.update();this.Og=q;a&&setTimeout(a,1)};w.prototype.requestUpdate=w.prototype.Eb=function(a){a===f&&(a=q);if(!(this.yc||a===q&&this.Xd)&&this.zf===q){this.zf=h;var b=this;requestAnimationFrame(function(){b.zf&&b.Sh()})}};
w.prototype.maybeUpdate=w.prototype.Sh=function(){if(!this.Pp||this.zf)this.Pp&&(this.Pp=q),this.update()};
w.prototype.update=w.prototype.update=function(){if(!(this.Rb===p||this.Xd)){this.Xd=h;this.Sz();this.Pc!==p&&(this.Pc.visible&&!this.St&&(Fi(this),this.St=h),!this.Pc.visible&&this.St&&(this.St=q));this.zf=q;Vh(this);var a=q;if(!this.Og||this.Nn&&this.ut)Gi(this),this.Nn=q,a=h;Vh(this);this.qc.R()||zi(this,this.te());if(a){if(!this.Og){if(this.Dk!==$e)this.scale=xi(this,this.Dk);else if(this.xl!==$e)this.scale=xi(this,this.xl);else{var b=this.OD;isFinite(b)&&0<b&&(this.scale=b)}this.mi&&zi(this,
this.te());b=this.ND;if(b.R())this.position=b;else{b=new K;b.Wo(this.qc,this.MD);var c=this.fb,c=new L(0,0,c.width,c.height),d=new K;d.Wo(c,this.PD);this.position=new K(b.x-d.x,b.y-d.y);wi(this,h)}this.Ea("InitialLayoutCompleted");b=this.xa;b!==p&&b.clear();Fi(this)}this.Ea("LayoutCompleted")}Vh(this);!this.yc&&this.Fk&&!Di(this)&&(Di(this),Vh(this));a&&!this.Og&&(this.Og=h);this.Re();this.Xd=q}};
function Vh(a){for(var b=0;23>b;b++){var c=a.sh.l;if(c===p||0===a.sh.count)break;a.sh=new qa(U);var d=a,e=a.sh;for(c.reset();c.next();){var g=c.value;g.ge()&&!(g instanceof B)&&(g.jl()?(Dh(g,Infinity,Infinity),g.Jc()):e.add(g))}for(c.reset();c.next();)g=c.value,g instanceof B&&Hi(d,g);for(c.reset();c.next();)d=c.value,d instanceof F&&(d.jl()?(Dh(d,Infinity,Infinity),d.Jc(),d.bw()):e.add(d));for(c.reset();c.next();)d=c.value,d instanceof We&&(d.jl()?(Dh(d,Infinity,Infinity),d.Jc()):e.add(d))}}
function Hi(a,b){for(var c=b.Ec,d=[];c.next();){var e=c.value;e instanceof B?(e.fc||e.Qc||e.qj)&&Hi(a,e):e instanceof F?d.push(e):(Dh(e,Infinity,Infinity),e.Jc())}c=d.length;for(e=0;e<c;e++){var g=d[e];Dh(g,Infinity,Infinity);g.Jc()}Dh(b,Infinity,Infinity);b.Jc()}
w.prototype.Re=function(a){this.Rb===p&&x.m("No div specified");var b=this.wa;b===p&&x.m("No canvas specified");a||(a=this.Kg);var c=a!==this.Kg;if(c)si(this),vi(this);else if(!this.rh)return;if(0<this.mj.count){for(var d=this.mj.l;d.next();)Ng(d.key,d.value);this.mj.clear()}this.PB?(b.width=b.width,si(this)):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,b.width,b.height));b=this.qd;b.reset();1!==this.Yb&&b.scale(this.Yb);d=this.nb;(0!==d.x||0!==d.y)&&b.translate(-d.x,-d.y);a.setTransform(b.m11,b.m12,
b.m21,b.m22,b.dx,b.dy);u&&u.eo&&(a.fillStyle="red",a.fillRect(0,0,8,8),a.lineWidth=8,a.strokeStyle="rgba(255,255,0,.6)",b=this.fb,a.strokeRect(b.x,b.y,b.width,b.height),a.fillStyle="rgba(0,255,0,.2)",a.fillRect(this.qc.x,this.qc.y,this.qc.width,this.qc.height));b=this.jb.length;for(d=0;d<b;d++)this.jb.o[d].Re(a,this);u&&(u.oD||u.eo)&&u.mD(a,this);this.Xt?this.Xt.jt(this)&&this.RA():this.qh=aa();c?(si(this),vi(this)):this.rh=this.Gk=q};
function Ii(a,b,c,d,e,g,i,j,k){a.Rb===p&&x.m("No div specified");a.wa===p&&x.m("No canvas specified");si(a);vi(a);var l=f;g&&(d&&e)&&(l=new L(g.x,g.y,d.width/e,d.height/e));var m=l.copy();m.Sn(c);Fi(a,m);Vh(a);if(0<a.mj.count){for(m=a.mj.l;m.next();)Ng(m.key,m.value);a.mj.clear()}b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,d.width,d.height);j&&(b.fillStyle=j,b.fillRect(0,0,d.width,d.height));d=new Ya;d.translate(c.left,c.top);d.scale(e);(0!==g.x||0!==g.y)&&d.translate(-g.x,-g.y);b.setTransform(d.m11,
d.m12,d.m21,d.m22,d.dx,d.dy);if(i){k=i.l;for(k.reset();k.next();)l=k.value,l instanceof z&&l.Re(b,a)}else{c=a.jb.length;for(e=0;e<c;e++)if(k){if(g=a.jb.o[e],i=b,d=a,g.visible&&!g.Dc){var j=g.mb,m=f,m=l?l:d.fb,n=[];if(d.Gk)for(var r=j.length,s=0;s<r;s++){var v=j.o[s];v.FB=s;if(v instanceof F&&(v.jc&&n.push(v),v.Ii===q))continue;v.za.We(m)?(v.Re(i,d),v.me=h):v.me=q}else{r=j.length;for(s=0;s<r;s++)if(v=j.o[s],v.me){if(v instanceof F&&(v.jc&&n.push(v),v.Ii===q))continue;v.Re(i,d)}}g.VB=n}}else a.jb.o[e].Re(b,
a,l)}a.Xt?a.Xt.jt(a)&&a.RA():a.qh=aa();si(a);vi(a);Fi(a)}function Ci(a){if(a.mi===q||a.zf===q)a.mi=h,a.Eb()}
function Ih(a,b,c){if(a.rh===q&&(b===f||a.fb.We(b)))a.rh=h,c&&a instanceof Ji?!a.yc&&!a.Xd&&a.zf===q&&(a.zf=h,requestAnimationFrame(function(){if(a.zf&&!(a.Rb===p||a.Xd)){a.Xd=h;a.zf=q;Vh(a);a.qc.R()||zi(a,a.te());a.Rb===p&&x.m("No div specified");a.wa===p&&x.m("No canvas specified");if(a.rh&&a.yi!==p){var b=a.Kg,c=a.Cy;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.wa.width,a.wa.height);b.drawImage(c,0,0);c=a.qd;c.reset();1!==a.Yb&&c.scale(a.scale);(0!==a.position.x||0!==a.position.y)&&c.translate(-a.nb.x,
-a.nb.y);b.setTransform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy);for(var c=a.jb.length,d=0;d<c;d++)a.jb.o[d].Re(b,a);a.Gk=q;a.rh=q}a.Xd=q}})):a.Eb();for(var d=a.Ju.l;d.next();)Ih(d.value,b,c)}function Ei(a){a.Fk===q&&(a.Fk=h)}function vi(a){a.Gk===q&&(a.Gk=h)}
function Di(a){var b=a.wa;if(b!==p){var c=a.Rb,d=b.width,e=b.height,g=a.qC.copy(),i=q,j=0,k=0;a.Gl&&(j=a.Oe);a.Fl&&(k=a.Oe);var l=c.clientWidth,c=c.clientHeight;if(l!==b.width+j||c!==b.height+k)a.Gl=q,a.Fl=q,b.width=l,b.height=c,i=h;a.Fk=q;if(!a.lB||a.Pu)(d!==b.width||e!==b.height)&&a.Sh();else{var m=a.fb,n=a.qc,j=n.width,k=n.height,r=m.width,s=m.height,v=n.x,y=m.x,C=n.right,D=m.right,I=n.y,E=m.y,M=n.bottom,O=m.bottom,n=m="1px",X=a.scale;l/X>j&&c/X>k||(a.JD&&a.Af&&(r+1<j?(m=(j-r)*X+b.width+"px",a.Gj.scrollLeft=
(a.position.x-v)*X):v+1<y?(m=(y-v)*X+b.width+"px",a.Gj.scrollLeft=a.Gj.scrollWidth-a.Gj.clientWidth):C>D+1&&(m=(C-D)*X+b.width+"px",a.Gj.scrollLeft=a.position.x*X)),a.KD&&a.Bf&&(s+1<k?(n=(k-s)*X+b.height+"px",a.Hj.scrollTop=(a.position.y-I)*X):I+1<E?(n=(E-I)*X+b.height+"px",a.Hj.scrollTop=a.Hj.scrollHeight-a.Hj.clientHeight):M>O+1&&(n=(M-O)*X+b.height+"px",a.Hj.scrollTop=a.position.y*X)));l="1px"!==m;c="1px"!==n;l!==a.Fl&&(b.height="1px"===m?b.height+a.Oe:b.height-a.Oe,i=h);a.Fl=l;a.qy.style.width=
m;c!==a.Gl&&(b.width="1px"===n?b.width+a.Oe:b.width-a.Oe,i=h);a.Gl=c;a.sy.style.height=n;i&&si(a);l=b.width;c=b.height;a.Hj.style.height=c+"px";a.Hj.style.width=a.Gl?l+a.Oe+"px":l+"px";a.Gj.style.width=l+"px";a.Gj.style.height=a.Fl?c+a.Oe+"px":c+"px";a.py=q;return d!==b.width||e!==b.height?(m=a.fb,a.Rs(g,m,i?h:f),a.Sh(),q):h}}}
function Ki(a,b){for(var c=a.jb,d=c.count,e=0;e<d;e++)c.ia(e).name===b&&x.m("Cannot add layer with the name '"+b+"', a layer of the same name is already present in this diagram.")}x.g(w,"addsToTemporaryLayer",w.prototype.Yr);x.defineProperty(w,{Yr:p},t("TA"),function(a){x.k(a,"boolean",w,"addsToTemporaryLayer");this.TA=a});
w.prototype.add=w.prototype.add=function(a){x.i(a,z,w,"add:part");var b=a.h;if(b!==this){b!==p&&x.m("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());var c=this.Yr?"Tool":a.Kd,b=this.el(c);b===p&&(b=this.el(""));b===p&&x.m('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.Pa!==b&&(c=a.h===this?b.zm(99999999,a,h):b.zm(99999999,a),0<=c&&this.Yc(Ud,"parts",b,p,a,p,c),b.Dc||this.Ui(),a.I(Li),c=a.zo,c!==p&&c(a,p,
b))}};w.prototype.zm=function(a){if(a instanceof A){if(this.Cu.add(a),a instanceof B){var b=a.Za;b===p?this.cm.add(a):b.Wl.add(a);b=a.Nb;b!==p&&(b.h=this)}}else a instanceof F?this.ku.add(a):a instanceof We||this.mb.add(a);if(b=a.data){a instanceof We||(a instanceof F?this.vk.add(b,a):this.gi.add(b,a));var c=this;Mi(a,a,function(a){Ni(c,a)})}(a.Qc===h||a.qj===h)&&this.sh.add(a);Oi(a,h);a.sb()&&(Ih(this),Ci(this))};
w.prototype.xe=function(a){if(a instanceof A){if(this.Cu.remove(a),a instanceof B){var b=a.Za;b===p?this.cm.remove(a):b.Wl.remove(a);b=a.Nb;b!==p&&(b.h=p)}}else a instanceof F?this.ku.remove(a):a instanceof We||this.mb.remove(a);if(b=a.data){a instanceof We||(a instanceof F?this.vk.remove(b):this.gi.remove(b));var c=this;Mi(a,a,function(a){Pi(c,a)})}this.sh.remove(a);a.sb()&&(Ih(this),Ci(this))};
w.prototype.remove=w.prototype.remove=function(a){x.i(a,z,w,"remove:part");a.Va=q;var b=a.Pa;if(b!==p&&b.h===this){a.I(Qi);a.pm();var c=b.xe(-1,a);0<=c&&this.Yc(Vd,"parts",b,a,p,c,p);c=a.zo;c!==p&&c(a,b,p);b.Dc||this.Ui();this.Ka.standardMouseOver()}};w.prototype.removeParts=w.prototype.hA=function(a,b){for(var c=a.l;c.next();){var d=c.value;d.h===this&&(!b||d.canDelete())&&this.remove(d)}};w.prototype.copyParts=w.prototype.io=function(a,b,c){return this.ig.copyParts(a,b,c)};
w.prototype.moveParts=w.prototype.TH=function(a,b,c){var d=this.Wb;if(d!==p&&(d=d.we,d!==p)){for(var e=new pa(z,Object),a=a.l;a.next();){var g=a.value;g instanceof F?e.add(g,nf()):e.add(g,nf(g.location))}d.moveParts(e,b,c)}};w.prototype.addLayer=w.prototype.Vr=function(a){x.i(a,Ie,w,"addLayer:layer");Ki(this,a.name);a.je(this);var b=this.jb,c=b.count-1;if(!a.Dc)for(;0<=c&&b.ia(c).Dc;)c--;b.Cc(c+1,a);this.Qd!==p&&this.Yc(Ud,"layers",this,p,a,p,c+1);Ci(this)};
w.prototype.addLayerBefore=w.prototype.$F=function(a,b){x.i(a,Ie,w,"addLayer:layer");x.i(b,Ie,w,"addLayerBefore:existingLayer");Ki(this,a.name);a.je(this);for(var c=q,d=this.jb.count,e=0;e<d;e++)if(this.jb.ia(e)===b){this.jb.Cc(e,a);c=h;break}c||x.m("addLayerBefore: Existing layer "+b.toString()+" not found.");this.Qd!==p&&this.Yc(Ud,"layers",this,p,a,p,e);Ci(this)};
w.prototype.addLayerAfter=w.prototype.cJ=function(a,b){x.i(a,Ie,w,"addLayer:layer");x.i(b,Ie,w,"addLayerAfter:existingLayer");Ki(this,a.name);a.je(this);for(var c=q,d=this.jb.count,e=0;e<d;e++)if(this.jb.ia(e)===b){this.jb.Cc(e+1,a);c=h;break}c||x.m("addLayerAfter: Existing layer "+b.toString()+" not found.");this.Qd!==p&&this.Yc(Ud,"layers",this,p,a,p,e+1);Ci(this)};function Ri(a,b,c){x.i(b,Ie,w,"addLayer:layer");Ki(a,b.name);b.je(a);a.jb.Cc(c,b);a.Qd!==p&&a.Yc(Ud,"layers",a,p,b,p,c);Ci(a)}
w.prototype.removeLayer=w.prototype.DE=function(a){if(""!==a.name){var b=this.jb.indexOf(a);if(this.jb.remove(a)){for(var c=a.mb.copy().l;c.next();){var d=c.value,e=d.Kd;d.Kd="";e!==a.name&&(d.Kd=e)}this.Qd!==p&&this.Yc(Vd,"layers",this,a,p,b,p);Ci(this)}}};w.prototype.findLayer=w.prototype.el=function(a){for(var b=this.Bm;b.next();){var c=b.value;if(c.name===a)return c}return p};
w.prototype.addChangedListener=w.prototype.Uy=function(a){x.k(a,"function",w,"addChangedListener:listener");this.kj===p&&(this.kj=new H("function"));this.kj.add(a)};w.prototype.removeChangedListener=w.prototype.gA=function(a){x.k(a,"function",w,"removeChangedListener:listener");this.kj!==p&&(this.kj.remove(a),0===this.kj.count&&(this.kj=p))};w.prototype.tv=function(a){this.Ab||this.xa.GD(a);if(this.kj!==p)for(var b=this.kj.l;b.next();){var c=b.value;c(a)}};
w.prototype.raiseChangedEvent=w.prototype.Yc=function(a,b,c,d,e,g,i){g===f&&(g=p);i===f&&(i=p);var j=new Cd;j.h=this;j.ud=a;j.propertyName=b;j.object=c;j.oldValue=d;j.Kf=g;j.newValue=e;j.Jf=i;this.tv(j)};w.prototype.raiseChanged=w.prototype.j=function(a,b,c,d,e){this.Yc(Gd,a,this,b,c,d,e)};x.u(w,{xa:"undoManager"},function(){return this.Qd.xa});x.g(w,"skipsUndoManager",w.prototype.Ab);
x.defineProperty(w,{Ab:"skipsUndoManager"},t("Di"),function(a){x.k(a,"boolean",w,"skipsUndoManager");this.Di=a;this.Qd.Di=a});
w.prototype.changeState=w.prototype.bs=function(a,b){if(a!==p&&a.h===this){var c=this.Il;try{this.Il=h;var d=a.ud;if(d===Gd){var e=a.object,g=a.propertyName,i=a.va(b);x.Qa(e,g,i);if(e instanceof U){var j=e.fa;j!==p&&j.Kh()}}else if(d===Ud){var k=a.object,l=a.Jf,e=a.newValue;if(k instanceof G){if("number"===typeof l&&e instanceof U){var m=k;b?m.xe(l):m.Cc(l,e);j=k.fa;j!==p&&j.Kh()}}else if(k instanceof Ie){var n=a.Kf===h;if("number"===typeof l&&e instanceof z){var r=k;b?(e.Kh(),n?r.xe(l,e,n):this.remove(e)):
r.zm(l,e,n)}}else k instanceof w?"number"===typeof l&&e instanceof Ie&&(b?this.DE(e):Ri(this,e,l)):x.m("unknown ChangedEvent.Insert object: "+a.toString())}else d===Vd?(k=a.object,l=a.Kf,e=a.oldValue,k instanceof G?"number"===typeof l&&e instanceof U&&(m=k,b?m.Cc(l,e):m.xe(l)):k instanceof Ie?(n=a.Jf===h,"number"===typeof l&&e instanceof z&&(r=k,b?r.zm(l,e,n):(e.Kh(),n?r.xe(l,e,n):this.remove(e)))):k instanceof w?"number"===typeof l&&e instanceof Ie&&(b?Ri(this,e,l):this.DE(e)):x.m("unknown ChangedEvent.Remove object: "+
a.toString())):d!==Dd&&x.m("unknown ChangedEvent: "+a.toString())}finally{this.Il=c}}};w.prototype.startTransaction=w.prototype.lc=function(a){return this.xa.lc(a)};w.prototype.commitTransaction=w.prototype.se=function(a){return this.xa.se(a)};w.prototype.rollbackTransaction=w.prototype.Vs=function(){return this.xa.Vs()};w.prototype.updateAllTargetBindings=w.prototype.KM=function(){for(var a=this.$i;a.next();)a.value.Bb();for(a=this.ol;a.next();)a.value.Bb();for(a=this.links;a.next();)a.value.Bb()};
w.prototype.Rs=function(a,b,c){if(!this.yc){vi(this);Ih(this,f,h);Ei(this);Ci(this);var d=this.Nb;d!==p&&(d.Es&&!c)&&(a.width!==b.width||a.height!==b.height||isNaN(a.x&&!isNaN(b.x))||isNaN(a.y&&!isNaN(b.y)))&&d.I();wi(this);this.Ea("ViewportBoundsChanged",c?{}:p,a);Fi(this);a=this.Ka;a instanceof Ue&&(this.P.N=this.kF(this.P.Gc),a.doMouseMove())}};
function Fi(a,b){var c=a.Pc;if(c!==p&&c.visible){for(var d,e=d=1,g=c.ya.length,i=0;i<g;i++){var j=c.ya.o[i],k=j.Ti;2>k||("LineV"===j.xb?e=e*k/Sc(e,k):d=d*k/Sc(d,k))}g=c.ts;d=new cb(e*g.width,d*g.height);if(b)e=b.width,g=b.height,i=b.x,j=b.y;else if(k=a.fb,e=k.width,g=k.height,i=k.x,j=k.y,!k.R())return;c.width=e+2*d.width;c.height=g+2*d.height;e=Rc(i,j,0,0,d.width,d.height);c.fa.location=new K(e.x-d.width,e.y-d.height)}}
w.prototype.clearSelection=w.prototype.dz=function(){var a=0<this.selection.count;a&&this.Ea("ChangingSelection");Ze(this);a&&this.Ea("ChangedSelection")};function Ze(a){a=a.selection;if(0<a.count){for(var b=a.Eg(),c=b.length,d=0;d<c;d++)b[d].Va=q;a.Na();a.clear();a.freeze()}}w.prototype.select=w.prototype.select=function(a){if(a!==p&&a.Pa.h===this&&(!a.Va||1<this.selection.count))this.Ea("ChangingSelection"),Ze(this),a.Va=h,this.Ea("ChangedSelection")};
w.prototype.selectCollection=w.prototype.pA=function(a){this.Ea("ChangingSelection");Ze(this);for(a=a.l;a.next();)a.value.Va=h;this.Ea("ChangedSelection")};
w.prototype.scroll=function(a,b,c){c===f&&(c=1);var d="up"===b||"down"===b,e;"pixel"===a?e=c:"line"===a?e=c*(d?this.Xs:this.Ws):"page"===a?(a=d?this.fb.height:this.fb.width,a*=this.scale,0!==a&&(e=Math.max(a-(d?this.Xs:this.Ws),0),e*=c)):x.m("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:x.m("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
b);this.position=c};w.prototype.scrollToRect=w.prototype.pM=function(a){var b=this.fb;b.mm(a)||(a=a.uv,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};w.prototype.centerRect=w.prototype.PJ=function(a){var b=this.fb,a=a.uv;a.x-=b.width/2;a.y-=b.height/2;this.position=a};w.prototype.transformDocToView=w.prototype.$o=function(a){var b=this.qd;b.reset();1!==this.Yb&&b.scale(this.Yb);var c=this.nb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return a.copy().transform(this.qd)};
w.prototype.transformViewToDoc=w.prototype.kF=function(a){var b=this.qd;b.reset();1!==this.Yb&&b.scale(this.Yb);var c=this.nb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return $a(a.copy(),this.qd)};var $e;w.None=$e=x.s(w,"None",0);var Ai;w.Uniform=Ai=x.s(w,"Uniform",1);var Bi;w.UniformToFill=Bi=x.s(w,"UniformToFill",2);var gg;w.CycleAll=gg=x.s(w,"CycleAll",10);var kg;w.CycleNotDirected=kg=x.s(w,"CycleNotDirected",11);var Bg;
w.CycleNotDirectedFast=Bg=x.s(w,"CycleNotDirectedFast",12);var Gg;w.CycleNotUndirected=Gg=x.s(w,"CycleNotUndirected",13);var hg;w.CycleDestinationTree=hg=x.s(w,"CycleDestinationTree",14);var jg;w.CycleSourceTree=jg=x.s(w,"CycleSourceTree",15);x.g(w,"validCycle",w.prototype.qF);x.defineProperty(w,{qF:"validCycle"},t("kv"),function(a){var b=this.kv;b!==a&&(x.ob(a,w,w,"validCycle"),this.kv=a,this.j("validCycle",b,a))});x.u(w,{Bm:"layers"},function(){return this.jb.l});x.g(w,"isModelReadOnly",w.prototype.ze);
x.defineProperty(w,{ze:"isModelReadOnly"},function(){var a=this.Qd;return a===p?q:a.ib},function(a){var b=this.Qd;b!==p&&(b.ib=a)});x.g(w,"isReadOnly",w.prototype.ib);x.defineProperty(w,{ib:"isReadOnly"},t("Hk"),function(a){var b=this.Hk;b!==a&&(x.k(a,"boolean",w,"isReadOnly"),this.Hk=a,this.j("isReadOnly",b,a))});x.g(w,"isEnabled",w.prototype.isEnabled);
x.defineProperty(w,{isEnabled:"isEnabled"},t("oi"),function(a){var b=this.oi;b!==a&&(x.k(a,"boolean",w,"isEnabled"),this.oi=a,this.j("isEnabled",b,a))});x.g(w,"allowClipboard",w.prototype.qv);x.defineProperty(w,{qv:"allowClipboard"},t("mt"),function(a){var b=this.mt;b!==a&&(x.k(a,"boolean",w,"allowClipboard"),this.mt=a,this.j("allowClipboard",b,a))});x.g(w,"allowCopy",w.prototype.Lj);
x.defineProperty(w,{Lj:"allowCopy"},t("dk"),function(a){var b=this.dk;b!==a&&(x.k(a,"boolean",w,"allowCopy"),this.dk=a,this.j("allowCopy",b,a))});x.g(w,"allowDelete",w.prototype.Wk);x.defineProperty(w,{Wk:"allowDelete"},t("ek"),function(a){var b=this.ek;b!==a&&(x.k(a,"boolean",w,"allowDelete"),this.ek=a,this.j("allowDelete",b,a))});x.g(w,"allowDragOut",w.prototype.rv);
x.defineProperty(w,{rv:"allowDragOut"},t("nt"),function(a){var b=this.nt;b!==a&&(x.k(a,"boolean",w,"allowDragOut"),this.nt=a,this.j("allowDragOut",b,a))});x.g(w,"allowDrop",w.prototype.BC);x.defineProperty(w,{BC:"allowDrop"},t("ot"),function(a){var b=this.ot;b!==a&&(x.k(a,"boolean",w,"allowDrop"),this.ot=a,this.j("allowDrop",b,a))});x.g(w,"allowTextEdit",w.prototype.$n);
x.defineProperty(w,{$n:"allowTextEdit"},t("ok"),function(a){var b=this.ok;b!==a&&(x.k(a,"boolean",w,"allowTextEdit"),this.ok=a,this.j("allowTextEdit",b,a))});x.g(w,"allowGroup",w.prototype.Vn);x.defineProperty(w,{Vn:"allowGroup"},t("fk"),function(a){var b=this.fk;b!==a&&(x.k(a,"boolean",w,"allowGroup"),this.fk=a,this.j("allowGroup",b,a))});x.g(w,"allowUngroup",w.prototype.ao);
x.defineProperty(w,{ao:"allowUngroup"},t("pk"),function(a){var b=this.pk;b!==a&&(x.k(a,"boolean",w,"allowUngroup"),this.pk=a,this.j("allowUngroup",b,a))});x.g(w,"allowInsert",w.prototype.Wn);x.defineProperty(w,{Wn:"allowInsert"},t("qt"),function(a){var b=this.qt;b!==a&&(x.k(a,"boolean",w,"allowInsert"),this.qt=a,this.j("allowInsert",b,a))});x.g(w,"allowLink",w.prototype.hm);
x.defineProperty(w,{hm:"allowLink"},t("gk"),function(a){var b=this.gk;b!==a&&(x.k(a,"boolean",w,"allowLink"),this.gk=a,this.j("allowLink",b,a))});x.g(w,"allowRelink",w.prototype.Mj);x.defineProperty(w,{Mj:"allowRelink"},t("jk"),function(a){var b=this.jk;b!==a&&(x.k(a,"boolean",w,"allowRelink"),this.jk=a,this.j("allowRelink",b,a))});x.g(w,"allowMove",w.prototype.Xk);
x.defineProperty(w,{Xk:"allowMove"},t("hk"),function(a){var b=this.hk;b!==a&&(x.k(a,"boolean",w,"allowMove"),this.hk=a,this.j("allowMove",b,a))});x.g(w,"allowPrint",w.prototype.Zr);x.defineProperty(w,{Zr:"allowPrint"},t("ik"),function(a){var b=this.ik;b!==a&&(x.k(a,"boolean",w,"allowPrint"),this.ik=a,this.j("allowPrint",b,a))});x.g(w,"allowReshape",w.prototype.Xn);
x.defineProperty(w,{Xn:"allowReshape"},t("kk"),function(a){var b=this.kk;b!==a&&(x.k(a,"boolean",w,"allowReshape"),this.kk=a,this.j("allowReshape",b,a))});x.g(w,"allowResize",w.prototype.Yn);x.defineProperty(w,{Yn:"allowResize"},t("lk"),function(a){var b=this.lk;b!==a&&(x.k(a,"boolean",w,"allowResize"),this.lk=a,this.j("allowResize",b,a))});x.g(w,"allowRotate",w.prototype.Zn);
x.defineProperty(w,{Zn:"allowRotate"},t("mk"),function(a){var b=this.mk;b!==a&&(x.k(a,"boolean",w,"allowRotate"),this.mk=a,this.j("allowRotate",b,a))});x.g(w,"allowSelect",w.prototype.pe);x.defineProperty(w,{pe:"allowSelect"},t("nk"),function(a){var b=this.nk;b!==a&&(x.k(a,"boolean",w,"allowSelect"),this.nk=a,this.j("allowSelect",b,a))});x.g(w,"allowUndo",w.prototype.Wy);
x.defineProperty(w,{Wy:"allowUndo"},t("rt"),function(a){var b=this.rt;b!==a&&(x.k(a,"boolean",w,"allowUndo"),this.rt=a,this.j("allowUndo",b,a))});x.g(w,"allowZoom",w.prototype.bo);x.defineProperty(w,{bo:"allowZoom"},t("tt"),function(a){var b=this.tt;b!==a&&(x.k(a,"boolean",w,"allowZoom"),this.tt=a,this.j("allowZoom",b,a))});x.g(w,"hasVerticalScrollbar",w.prototype.KD);
x.defineProperty(w,{KD:"hasVerticalScrollbar"},t("Wt"),function(a){var b=this.Wt;b!==a&&(x.k(a,"boolean",w,"hasVerticalScrollbar"),this.Wt=a,this.j("hasVerticalScrollbar",b,a),wi(this))});x.g(w,"hasHorizontalScrollbar",w.prototype.JD);x.defineProperty(w,{JD:"hasHorizontalScrollbar"},t("Vt"),function(a){var b=this.Vt;b!==a&&(x.k(a,"boolean",w,"hasHorizontalScrollbar"),this.Vt=a,this.j("hasHorizontalScrollbar",b,a),wi(this))});x.g(w,"allowHorizontalScroll",w.prototype.Af);
x.defineProperty(w,{Af:"allowHorizontalScroll"},t("pt"),function(a){var b=this.pt;b!==a&&(x.k(a,"boolean",w,"allowHorizontalScroll"),this.pt=a,this.j("allowHorizontalScroll",b,a),wi(this))});x.g(w,"allowVerticalScroll",w.prototype.Bf);x.defineProperty(w,{Bf:"allowVerticalScroll"},t("st"),function(a){var b=this.st;b!==a&&(x.k(a,"boolean",w,"allowVerticalScroll"),this.st=a,this.j("allowVerticalScroll",b,a),wi(this))});x.g(w,"scrollHorizontalLineChange",w.prototype.Ws);
x.defineProperty(w,{Ws:"scrollHorizontalLineChange"},t("Qu"),function(a){var b=this.Qu;b!==a&&(x.k(a,"number",w,"scrollHorizontalLineChange"),0>a&&x.ta(a,">= 0",w,"scrollHorizontalLineChange"),this.Qu=a,this.j("scrollHorizontalLineChange",b,a))});x.g(w,"scrollVerticalLineChange",w.prototype.Xs);
x.defineProperty(w,{Xs:"scrollVerticalLineChange"},t("Ru"),function(a){var b=this.Ru;b!==a&&(x.k(a,"number",w,"scrollVerticalLineChange"),0>a&&x.ta(a,">= 0",w,"scrollVerticalLineChange"),this.Ru=a,this.j("scrollVerticalLineChange",b,a))});x.g(w,"lastInput",w.prototype.P);x.defineProperty(w,{P:"lastInput"},t("bc"),function(a){u&&x.i(a,Ad,w,"lastInput");this.bc=a});x.g(w,"firstInput",w.prototype.Bc);x.defineProperty(w,{Bc:"firstInput"},t("Ng"),function(a){u&&x.i(a,Ad,w,"firstInput");this.Ng=a});
x.g(w,"currentCursor",w.prototype.Ac);x.defineProperty(w,{Ac:"currentCursor"},t("Ht"),function(a){x.k(a,"string",w,"currentCursor");this.wa===p||(this.Ht===a||""===a&&this.Ht===this.Cp)||(this.Ht=a,""!==a?(this.wa.style.cursor=a,document.body.style.cursor=a):(this.wa.style.cursor=this.nz,document.body.style.cursor=this.nz))});x.g(w,"defaultCursor",w.prototype.nz);
x.defineProperty(w,{nz:"defaultCursor"},t("Cp"),function(a){x.k(a,"string",w,"defaultCursor");var b=this.Cp;b!==a&&(this.Cp=a,this.j("defaultCursor",b,a))});x.g(w,"hasGestureZoom",w.prototype.nH);x.defineProperty(w,{nH:"hasGestureZoom"},t("li"),function(a){var b=this.li;b!==a&&(x.k(a,"boolean",w,"hasGestureZoom"),this.li=a,this.j("hasGestureZoom",b,a))});x.g(w,"click",w.prototype.click);
x.defineProperty(w,{click:"click"},t("di"),function(a){var b=this.di;b!==a&&(a!==p&&x.k(a,"function",w,"click"),this.di=a,this.j("click",b,a))});x.g(w,"doubleClick",w.prototype.rm);x.defineProperty(w,{rm:"doubleClick"},t("hi"),function(a){var b=this.hi;b!==a&&(a!==p&&x.k(a,"function",w,"doubleClick"),this.hi=a,this.j("doubleClick",b,a))});x.g(w,"contextClick",w.prototype.ds);
x.defineProperty(w,{ds:"contextClick"},t("ei"),function(a){var b=this.ei;b!==a&&(a!==p&&x.k(a,"function",w,"contextClick"),this.ei=a,this.j("contextClick",b,a))});x.g(w,"mouseOver",w.prototype.Ns);x.defineProperty(w,{Ns:"mouseOver"},t("wi"),function(a){var b=this.wi;b!==a&&(a!==p&&x.k(a,"function",w,"mouseOver"),this.wi=a,this.j("mouseOver",b,a))});x.g(w,"mouseHover",w.prototype.Ms);
x.defineProperty(w,{Ms:"mouseHover"},t("vi"),function(a){var b=this.vi;b!==a&&(a!==p&&x.k(a,"function",w,"mouseHover"),this.vi=a,this.j("mouseHover",b,a))});x.g(w,"mouseHold",w.prototype.Ls);x.defineProperty(w,{Ls:"mouseHold"},t("ui"),function(a){var b=this.ui;b!==a&&(a!==p&&x.k(a,"function",w,"mouseHold"),this.ui=a,this.j("mouseHold",b,a))});x.g(w,"mouseDragOver",w.prototype.oE);
x.defineProperty(w,{oE:"mouseDragOver"},t("vu"),function(a){var b=this.vu;b!==a&&(a!==p&&x.k(a,"function",w,"mouseDragOver"),this.vu=a,this.j("mouseDragOver",b,a))});x.g(w,"mouseDrop",w.prototype.Ks);x.defineProperty(w,{Ks:"mouseDrop"},t("ti"),function(a){var b=this.ti;b!==a&&(a!==p&&x.k(a,"function",w,"mouseDrop"),this.ti=a,this.j("mouseDrop",b,a))});x.g(w,"toolTip",w.prototype.ht);
x.defineProperty(w,{ht:"toolTip"},t("Hi"),function(a){var b=this.Hi;b!==a&&(a!==p&&x.i(a,We,w,"toolTip"),this.Hi=a,this.j("toolTip",b,a))});x.g(w,"contextMenu",w.prototype.contextMenu);x.defineProperty(w,{contextMenu:"contextMenu"},t("fi"),function(a){var b=this.fi;b!==a&&(a!==p&&x.i(a,We,w,"contextMenu"),this.fi=a,this.j("contextMenu",b,a))});x.g(w,"commandHandler",w.prototype.ig);
x.defineProperty(w,{ig:"commandHandler"},t("ix"),function(a){var b=this.ix;b!==a&&(x.i(a,xa,w,"commandHandler"),a.h!==p&&x.m("Cannot share CommandHandlers between Diagrams: "+a.toString()),b!==p&&b.je(p),this.ix=a,a.je(this))});x.g(w,"toolManager",w.prototype.Wb);x.defineProperty(w,{Wb:"toolManager"},t("iv"),function(a){var b=this.iv;b!==a&&(x.i(a,Ue,w,"toolManager"),a.h!==p&&x.m("Cannot share ToolManagers between Diagrams: "+a.toString()),b!==p&&b.je(p),this.iv=a,a.je(this))});
x.g(w,"defaultTool",w.prototype.Gv);x.defineProperty(w,{Gv:"defaultTool"},t("qx"),function(a){var b=this.qx;b!==a&&(x.i(a,bf,w,"defaultTool"),this.qx=a,this.Ka===b&&(this.Ka=a))});x.g(w,"currentTool",w.prototype.Ka);x.defineProperty(w,{Ka:"currentTool"},t("lx"),function(a){var b=this.lx;b!==p&&(b.aa&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());a===p&&(a=this.Gv);a!==p&&(x.i(a,bf,w,"currentTool"),this.lx=a,a.je(this),a.doStart())});x.u(w,{selection:"selection"},t("Uu"));
x.g(w,"maxSelectionCount",w.prototype.hE);x.defineProperty(w,{hE:"maxSelectionCount"},t("qu"),function(a){var b=this.qu;if(b!==a)if(x.k(a,"number",w,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.qu=a,this.j("maxSelectionCount",b,a),!this.xa.zb&&(a=this.selection.count-a,0<a)){this.Ea("ChangingSelection");for(var b=this.selection.Eg(),c=0;c<a;c++)b[c].Va=q;this.Ea("ChangedSelection")}}else x.ta(a,">= 0",w,"maxSelectionCount")});x.g(w,"nodeSelectionAdornmentTemplate",w.prototype.sE);
x.defineProperty(w,{sE:"nodeSelectionAdornmentTemplate"},t("Bu"),function(a){var b=this.Bu;b!==a&&(x.i(a,We,w,"nodeSelectionAdornmentTemplate"),this.Bu=a,this.j("nodeSelectionAdornmentTemplate",b,a))});x.g(w,"groupSelectionAdornmentTemplate",w.prototype.FD);x.defineProperty(w,{FD:"groupSelectionAdornmentTemplate"},t("Tt"),function(a){var b=this.Tt;b!==a&&(x.i(a,We,w,"groupSelectionAdornmentTemplate"),this.Tt=a,this.j("groupSelectionAdornmentTemplate",b,a))});
x.g(w,"linkSelectionAdornmentTemplate",w.prototype.eE);x.defineProperty(w,{eE:"linkSelectionAdornmentTemplate"},t("ju"),function(a){var b=this.ju;b!==a&&(x.i(a,We,w,"linkSelectionAdornmentTemplate"),this.ju=a,this.j("linkSelectionAdornmentTemplate",b,a))});x.g(w,"isModified",w.prototype.zH);x.defineProperty(w,{zH:"isModified"},function(){var a=this.xa;return a===p?this.BB:a.nm!==p?h:this.BB&&this.Ck!==a.Zj},function(a){x.k(a,"boolean",w,"isModified");this.BB=a;var b=this.xa;!a&&b&&(this.Ck=b.Zj)});
x.g(w,"model",w.prototype.Y);x.defineProperty(w,{Y:"model"},t("Qd"),function(a){var b=this.Qd;if(b!==a){x.i(a,J,w,"model");b!==p&&(b.xa!==a.xa&&b.xa.xH)&&x.m("Do not replace a Diagram.model while a transaction is in progress.");this.Og=q;this.Pp=h;this.zf=q;var c=this.Xd;this.Xd=h;b!==p&&(b.gA(this.JB),b instanceof T&&Mh(this,b.eh),Mh(this,b.sg));this.Qd=a;a.Uy(this.IB);Nh(this,a.sg);a instanceof T&&Oh(this,a.eh);a.gA(this.IB);a.Uy(this.JB);this.Xd=c;this.Eb();b!==p&&(a.xa.isEnabled=b.xa.isEnabled)}});
function Kh(a,b,c){var d=a.Yj(b);if(d!==p&&"string"===typeof c)d.Bb(c),a.Y instanceof $d&&(b=a.Gf(b),b!==p&&b.Bb(c));else if("string"===typeof c){d=p;for(a=a.Ol.l;a.next();){for(var e=a.value,g=0;g<e.length;g++){var i=e[g];i.Uf!==p&&(i=i.Uf.va(b),i!==p&&(d===p&&(d=[]),d.push(i)))}if(d!==p)break}b=d;if(b!==p)for(d=0;d<b.length;d++)b[d].Bb(c)}}function Ni(a,b){var c=b.Ik;if(x.isArray(c)){var d=a.Ol.va(c);if(d===p)a.Ol.add(c,[b]);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Pi(a,b){var c=b.Ik;if(x.isArray(c)){var d=a.Ol.va(c);if(d!==p)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Ol.remove(c);break}}}
w.prototype.clear=w.prototype.clear=function(){var a=p;this.Pc!==p&&(a=this.Pc.fa);this.Y.clear();for(var b=this.jb.length,c=0;c<b;c++)this.jb.o[c].clear();this.sh.clear();this.mj.clear();this.Cu.clear();this.cm.clear();this.ku.clear();this.mb.clear();this.gi.clear();this.vk.clear();this.Ol.clear();this.Uu.Na();this.Uu.clear();this.Uu.freeze();this.Vm=this.my=p;this.Mt=(new L(NaN,NaN,NaN,NaN)).freeze();a!==p&&(this.add(a),this.mb.remove(a))};
w.prototype.reset=w.prototype.reset=function(){this.yc=h;this.clear();this.jb=new H(Ie);this.nb=(new K(NaN,NaN)).freeze();this.Yb=1;this.su=1E-4;this.pu=100;this.nv=(new K(NaN,NaN)).freeze();this.Rt=(new L(NaN,NaN,NaN,NaN)).freeze();this.xl=$e;this.Cl=Db;this.Dk=$e;this.hn=Db;this.au=this.$t=Eb;this.vt=(new hb(16,16,16,16)).freeze();this.gu=h;this.kv=gg;this.Cp="auto";this.Qd=this.fi=this.Hi=this.ti=this.vu=this.ui=this.vi=this.wi=this.ei=this.hi=this.di=p;this.Hk=q;this.ek=this.dk=this.mt=this.oi=
h;this.ot=this.nt=q;this.st=this.pt=this.Wt=this.Vt=this.tt=this.rt=this.nk=this.mk=this.lk=this.kk=this.ik=this.hk=this.jk=this.gk=this.qt=this.pk=this.fk=this.ok=h;this.Ru=this.Qu=16;this.ne=(new hb(5)).freeze();this.qu=999999999;this.Bd=p;Wh(this);Xh(this);this.Pc=p;this.Y=new T;this.Di=h;this.Nb=new Yh;this.yc=this.Di=q};
w.prototype.rebuildParts=w.prototype.Gm=function(){for(var a=[],b=this.selection.l;b.next();){var c=b.value.data;c&&a.push(c)}b=this.Y;b instanceof T&&Mh(this,b.eh);Mh(this,b.sg);Nh(this,b.sg);b instanceof T&&Oh(this,b.eh);for(b=0;b<a.length;b++)if(c=this.Yj(a[b]))c.Va=h};
function Nh(a,b){if(b!==p){for(var c=a.Y,d=x.Zb(b),e=0;e<d;e++){var g=x.Kb(b,e);c.ue(g)?Ph(a,g,q):c instanceof T&&Qh(a,g)}if(c instanceof T||c instanceof $d){for(e=0;e<d;e++)g=x.Kb(b,e),c.ue(g)&&Si(a,g);if(c instanceof T)for(c=a.links;c.next();)Ti(c.value)}Ui(a,q)}}
function Ph(a,b,c){if(!(b===f||b===p)&&!a.xa.zb&&!a.gi.contains(b)){c===f&&(c=h);var d=a.getCategoryForNodeData(b),e=a.findTemplateForNodeData(b,d);e instanceof z&&(Ye(e),e=e.copy(),e instanceof z&&(e.kh=d,a.add(e),e.data=b,c&&Si(a,b)))}}w.prototype.getCategoryForNodeData=w.prototype.zD=function(a){var b=this.Y,c=b.zD(a),d=q;b instanceof T&&(d=b.Jz(a));d&&""===c&&(c="LinkLabel");return c};
w.prototype.findTemplateForNodeData=w.prototype.PK=function(a,b){var c=q,d=this.Y;d instanceof T&&(c=d.Hz(a));c?(c=this.Cz.va(b),c===p&&(c=this.Cz.va(""),c===p&&(x.RF===f&&(x.RF=h,x.trace('No Group template found for category "'+b+'"'),x.trace("  Using default group template")),c=this.gB))):(c=this.$z.va(b),c===p&&(c=this.$z.va(""),c===p&&(x.UF===f&&(x.UF=h,x.trace('No Node template found for category "'+b+'"'),x.trace("  Using default node template")),c=this.iB)));return c instanceof z?c:p};
function Si(a,b){var c=a.Y;if(c instanceof T||c instanceof $d){var d=c.qb(b);if(d!==f){var e=ze(c,d),g=a.ls(b);if(e!==p&&g!==p){for(e=e.l;e.next();){var i=e.value;if(c instanceof T)if(c.ue(i)){if(g instanceof B&&c.so(i)===d){var j=a.Yj(i);j!==p&&(j.Za=g)}}else{if(j=a.Gf(i),j!==p){c.vm(i)===d&&(j.ja=g);c.wm(i)===d&&(j.na=g);for(var i=c.il(i),k=0;k<i.length;k++)if(i[k]===d){g.fd=j;break}}}else c instanceof $d&&(c.ue(i)&&c.to(i)===d)&&(j=a.ls(i),Lh(a,g,j))}Be(c,d)}c instanceof T?(c=c.so(b),c!==f&&(c=
a.kg(c),c instanceof B&&(g.Za=c))):c instanceof $d&&(c=c.to(b),c!==f&&(c=a.kg(c),Lh(a,c,g)))}}}function Lh(a,b,c){if(!(b===p||c===p)){var d=a.Wb.Pz,e=b,g=c;if(a.ed)for(b=g.Ud;b.next();){var i=b.value;if(i.na===g)return}else{e=c;g=b;for(b=e.Ud;b.next();)if(i=b.value,i.ja===e)return}d!==p&&ig(d,e,g,p)||(d=a.getCategoryForLinkData(c.data),b=a.findTemplateForLinkData(c.data,d),b instanceof F&&(Ye(b),b=b.copy(),b instanceof F&&(b.kh=d,b.ja=e,b.na=g,a.add(b),b.data=c.data)))}}
function Oh(a,b){if(b!==p){for(var c=x.Zb(b),d=0;d<c;d++)Qh(a,x.Kb(b,d));Ui(a,q)}}
function Qh(a,b){if(!(b===f||b===p)&&!a.xa.zb&&!a.vk.contains(b)){var c=a.getCategoryForLinkData(b),d=a.findTemplateForLinkData(b,c);if(d instanceof F&&(Ye(d),d=d.copy(),d instanceof F)){d.kh=c;var c=a.Y,e=c.hH(b);""!==e&&(d.Oh=e);e=c.vm(b);e!==f&&(e=a.kg(e),e instanceof A&&(d.ja=e));e=c.kH(b);""!==e&&(d.bj=e);e=c.wm(b);e!==f&&(e=a.kg(e),e instanceof A&&(d.na=e));c=c.il(b);if(x.isArray(c))for(var e=x.Zb(c),g=0;g<e;g++){var i=a.kg(x.Kb(c,g));i!==p&&(i.fd=d)}a.add(d);d.data=b}}}
w.prototype.getCategoryForLinkData=w.prototype.yD=function(a){var b=this.Y,c="";b instanceof T?c=b.yD(a):b instanceof $d&&(c=b.jH(a));return c};w.prototype.findTemplateForLinkData=w.prototype.OK=function(a,b){var c=this.Nz.va(b);c===p&&(c=this.Nz.va(""),c===p&&(x.TF===f&&(x.TF=h,x.trace('No Link template found for category "'+b+'"'),x.trace("  Using default link template")),c=this.hB));return c instanceof F?c:p};function Mh(a,b){for(var c=x.Zb(b),d=0;d<c;d++)Rh(a,x.Kb(b,d))}
function Rh(a,b){if(!(b===f||b===p)){var c=a.Yj(b);if(c instanceof z){c.Va=q;var d=c.Pa;if(!(d===p||d.h!==a)){var e=a.Y;if(e instanceof T&&c instanceof A){var g=e.qb(c.data);if(g!==f){for(var i=c.Ud;i.next();){var j=i.value.data;Ae(e,g,j)}c.Xi&&(i=c.fd,i!==p&&(j=i.data,Ae(e,g,j)));if(c instanceof B)for(i=c.Ec;i.next();)j=i.value.data,e.ue(j)&&Ae(e,g,j)}}else if(e instanceof $d&&c instanceof A){i=a.Gf(c.data);if(i!==p&&(i.Va=q,j=i.Pa,j!==p)){var k=j.xe(-1,i);0<=k&&a.Yc(Vd,"parts",j,i,p,k,p);k=i.zo;
k!==p&&k(i,j,p)}i=a.ed;for(j=c.Ud;j.next();)k=j.value,k=(i?k.na:k.ja).data,e.ue(k)&&Ae(e,g,k)}e=d.xe(-1,c);0<=e&&a.Yc(Vd,"parts",d,c,p,e,p);e=c.zo;e!==p&&e(c,d,p)}}}}w.prototype.findPartForKey=w.prototype.LK=function(a){if(a===p||a===f)return p;a=this.Y.Se(a);if(a===p)return p;a=this.gi.va(a);return a instanceof z?a:p};w.prototype.findNodeForKey=w.prototype.kg=function(a){if(a===p||a===f)return p;a=this.Y.Se(a);if(a===p)return p;a=this.gi.va(a);return a instanceof A?a:p};
w.prototype.findPartForData=w.prototype.Yj=function(a){if(a===p)return p;var b=this.gi.va(a);if(b instanceof z)return b;b=this.vk.va(a);return b instanceof z?b:p};w.prototype.findNodeForData=w.prototype.ls=function(a){if(a===p)return p;a=this.gi.va(a);return a instanceof A?a:p};w.prototype.findLinkForData=w.prototype.Gf=function(a){if(a===p)return p;a=this.vk.va(a);return a instanceof F?a:p};x.g(w,"nodeTemplate",w.prototype.WH);
x.defineProperty(w,{WH:"nodeTemplate"},function(){return this.xi.va("")},function(a){var b=this.xi.va("");b!==a&&(x.i(a,z,w,"nodeTemplate"),this.xi.add("",a),this.j("nodeTemplate",b,a),this.xa.zb||this.Gm())});x.g(w,"nodeTemplateMap",w.prototype.$z);x.defineProperty(w,{$z:"nodeTemplateMap"},t("xi"),function(a){var b=this.xi;b!==a&&(x.i(a,pa,w,"nodeTemplateMap"),this.xi=a,this.j("nodeTemplateMap",b,a),this.xa.zb||this.Gm())});x.g(w,"groupTemplate",w.prototype.mH);
x.defineProperty(w,{mH:"groupTemplate"},function(){return this.Ak.va("")},function(a){var b=this.Ak.va("");b!==a&&(x.i(a,B,w,"groupTemplate"),this.Ak.add("",a),this.j("groupTemplate",b,a),this.xa.zb||this.Gm())});x.g(w,"groupTemplateMap",w.prototype.Cz);x.defineProperty(w,{Cz:"groupTemplateMap"},t("Ak"),function(a){var b=this.Ak;b!==a&&(x.i(a,pa,w,"groupTemplateMap"),this.Ak=a,this.j("groupTemplateMap",b,a),this.xa.zb||this.Gm())});x.g(w,"linkTemplate",w.prototype.KH);
x.defineProperty(w,{KH:"linkTemplate"},function(){return this.tj.va("")},function(a){var b=this.tj.va("");b!==a&&(x.i(a,F,w,"linkTemplate"),this.tj.add("",a),this.j("linkTemplate",b,a),this.xa.zb||this.Gm())});x.g(w,"linkTemplateMap",w.prototype.Nz);x.defineProperty(w,{Nz:"linkTemplateMap"},t("tj"),function(a){var b=this.tj;b!==a&&(x.i(a,pa,w,"linkTemplateMap"),this.tj=a,this.j("linkTemplateMap",b,a),this.xa.zb||this.Gm())});x.g(w,"isMouseCaptured",w.prototype.Mc);
x.defineProperty(w,{Mc:"isMouseCaptured"},t("CB"),function(a){var b=this.wa;b!==p&&(a?(this.P.bubbles=q,b.removeEventListener("mousemove",this.Io,q),b.removeEventListener("mousedown",this.Ho,q),b.removeEventListener("mouseup",this.Ko,q),b.removeEventListener("mousewheel",this.gh,q),b.removeEventListener("DOMMouseScroll",this.gh,q),b.removeEventListener("mouseout",this.Jo,q),window.addEventListener("mousemove",this.Io,h),window.addEventListener("mousedown",this.Ho,h),window.addEventListener("mouseup",
this.Ko,h),window.addEventListener("mousewheel",this.gh,h),window.addEventListener("DOMMouseScroll",this.gh,h),window.addEventListener("mouseout",this.Jo,h),window.addEventListener("selectstart",this.preventDefault,q)):(window.removeEventListener("mousemove",this.Io,h),window.removeEventListener("mousedown",this.Ho,h),window.removeEventListener("mouseup",this.Ko,h),window.removeEventListener("mousewheel",this.gh,h),window.removeEventListener("DOMMouseScroll",this.gh,h),window.removeEventListener("mouseout",
this.Jo,h),window.removeEventListener("selectstart",this.preventDefault,q),b.addEventListener("mousemove",this.Io,q),b.addEventListener("mousedown",this.Ho,q),b.addEventListener("mouseup",this.Ko,q),b.addEventListener("mousewheel",this.gh,q),b.addEventListener("DOMMouseScroll",this.gh,q),b.addEventListener("mouseout",this.Jo,q)),this.CB=a)});x.g(w,"position",w.prototype.position);
x.defineProperty(w,{position:"position"},t("nb"),function(a){var b=this.nb;if(!b.K(a)){x.i(a,K,w,"position");var c=this.fb.copy();c.x=b.x;c.y=b.y;a=a.copy();b.Xj(a)||(this.yc||this.wa===p||(this.yc=h,b=this.scale,yi(this,a,this.qc,this.wa.width/b,this.wa.height/b,this.Cl),this.yc=q),b=a);this.nb=b.Q();this.Rs(c,this.fb);this.Eb()}});x.g(w,"initialPosition",w.prototype.ND);x.defineProperty(w,{ND:"initialPosition"},t("Ix"),function(a){this.Ix.K(a)||(x.i(a,K,w,"initialPosition"),this.Ix=a.Q())});
x.g(w,"initialScale",w.prototype.OD);x.defineProperty(w,{OD:"initialScale"},t("Jx"),function(a){this.Jx!==a&&(x.k(a,"number",w,"initialScale"),this.Jx=a)});x.g(w,"grid",w.prototype.Vv);
x.defineProperty(w,{Vv:"grid"},function(){this.Pc===p&&ti(this);return this.Pc},function(a){var b=this.Pc;if(b!==a){b===p&&(ti(this),b=this.Pc);x.i(a,G,w,"grid");a.type!==ui&&x.m("Diagram.grid must be a Panel of type Panel.Grid");var c=b.ea;c!==p&&c.remove(b);this.Pc=a;a.name="GRID";c!==p&&c.add(a);Ih(this);this.j("grid",b,a)}});x.u(w,{fb:"viewportBounds"},function(){var a=this.wa,b=this.qC;if(a===p)return b;var c=this.nb,d=this.Yb;b.W(c.x,c.y,Math.max(a.width,0)/d,Math.max(a.height,0)/d);return b});
x.g(w,"fixedBounds",w.prototype.ps);x.defineProperty(w,{ps:"fixedBounds"},t("Rt"),function(a){var b=this.Rt;b.K(a)||(x.i(a,L,w,"fixedBounds"),this.Rt=a=a.Q(),Ci(this),this.j("fixedBounds",b,a))});x.u(w,{qc:"documentBounds"},t("Mt"));function zi(a,b){var c=a.Mt;c.K(b)||(b=b.Q(),a.Mt=b,a.mi=q,wi(a),a.Ea("DocumentBoundsChanged",p,c.copy()),Ei(a))}x.g(w,"scale",w.prototype.scale);
x.defineProperty(w,{scale:"scale"},t("Yb"),function(a){var b=this.Yb;x.n(a,w,"scale");a<this.og&&(a=this.og);a>this.If&&(a=this.If);if(b!==a){var c=this.Yb=a;if(!this.yc&&!this.Xd){this.yc=h;var d=this.wa;if(d!==p){var a=this.fb.copy(),e=d.width/c,g=d.height/c;a.width=d.width/b;a.height=d.height/b;d=this.bi.copy();if(isNaN(d.x))switch(this.Ev){case Xb:d.x=0;break;case Yb:d.x=e-1;break;case Lb:d.x=e/2;break;case Db:case $b:d.x=e/2}if(isNaN(d.y))switch(this.Ev){case Vb:d.y=0;break;case Zb:d.y=g-1;break;
case Lb:d.y=g/2;break;case Db:case $b:d.y=g/2}var i=this.position,b=new K(i.x+d.x/b-d.x/c,i.y+d.y/b-d.y/c);yi(this,b,this.qc,e,g,this.Cl);this.position=b;this.yc=q;this.Rs(a,this.fb)}}Ih(this);Ei(this)}});x.g(w,"autoScale",w.prototype.im);x.defineProperty(w,{im:"autoScale"},t("xl"),function(a){var b=this.xl;b!==a&&(x.ob(a,w,w,"autoScale"),this.xl=a,this.j("autoScale",b,a),a!==$e&&wi(this))});x.g(w,"initialAutoScale",w.prototype.qH);
x.defineProperty(w,{qH:"initialAutoScale"},t("Dk"),function(a){var b=this.Dk;b!==a&&(x.ob(a,w,w,"initialAutoScale"),this.Dk=a,this.j("initialAutoScale",b,a))});x.g(w,"initialViewportSpot",w.prototype.PD);x.defineProperty(w,{PD:"initialViewportSpot"},t("au"),function(a){var b=this.au;b!==a&&(x.i(a,N,w,"initialViewportSpot"),wb(a)||x.m("initialViewportSpot must be a real Spot: "+a),this.au=a,this.j("initialViewportSpot",b,a))});x.g(w,"initialDocumentSpot",w.prototype.MD);
x.defineProperty(w,{MD:"initialDocumentSpot"},t("$t"),function(a){var b=this.$t;b!==a&&(x.i(a,N,w,"initialDocumentSpot"),wb(a)||x.m("initialViewportSpot must be a real Spot: "+a),this.$t=a,this.j("initialDocumentSpot",b,a))});x.g(w,"minScale",w.prototype.og);x.defineProperty(w,{og:"minScale"},t("su"),function(a){x.n(a,w,"minScale");var b=this.su;b!==a&&0<a?(this.su=a,this.j("minScale",b,a),a>this.scale&&(this.scale=a)):x.ta(a,"> 0",w,"minScale")});x.g(w,"maxScale",w.prototype.If);
x.defineProperty(w,{If:"maxScale"},t("pu"),function(a){x.n(a,w,"maxScale");var b=this.pu;b!==a&&0<a?(this.pu=a,this.j("maxScale",b,a),a<this.scale&&(this.scale=a)):x.ta(a,"> 0",w,"maxScale")});x.g(w,"zoomPoint",w.prototype.bi);x.defineProperty(w,{bi:"zoomPoint"},t("nv"),function(a){this.nv.K(a)||(x.i(a,K,w,"zoomPoint"),this.nv=a=a.Q(),Ci(this))});x.g(w,"contentAlignment",w.prototype.Ev);
x.defineProperty(w,{Ev:"contentAlignment"},t("Cl"),function(a){var b=this.Cl;b.K(a)||(x.i(a,N,w,"contentAlignment"),this.Cl=a=a.Q(),this.j("contentAlignment",b,a),wi(this))});x.g(w,"initialContentAlignment",w.prototype.rH);x.defineProperty(w,{rH:"initialContentAlignment"},t("hn"),function(a){var b=this.hn;b.K(a)||(x.i(a,N,w,"initialContentAlignment"),this.hn=a=a.Q(),this.j("initialContentAlignment",b,a))});x.g(w,"padding",w.prototype.padding);
x.defineProperty(w,{padding:"padding"},t("ne"),function(a){"number"===typeof a?a=new hb(a):x.i(a,hb,w,"padding");var b=this.ne;b.K(a)||(this.ne=a=a.Q(),Ci(this),this.j("padding",b,a))});x.u(w,{ol:"nodes"},function(){return this.Cu.l});x.u(w,{links:"links"},function(){return this.ku.l});x.u(w,{$i:"parts"},function(){return this.mb.l});x.g(w,"layout",w.prototype.Nb);
x.defineProperty(w,{Nb:"layout"},t("Bd"),function(a){var b=this.Bd;b!==a&&(x.i(a,Yh,w,"layout"),b!==p&&(b.h=p,b.group=p),this.Bd=a,a.h=this,a.group=p,this.Nn=this.ut=h,this.j("layout",b,a),this.Eb())});w.prototype.layoutDiagram=w.prototype.HL=function(a){Vh(this);a&&Ui(this,h);Gi(this)};function Ui(a,b){for(var c=a.cm.l;c.next();)Vi(a,c.value,b);a.Nb!==p&&(b?a.Nb.Ye=q:a.Nb.I())}function Vi(a,b,c){if(b!==p){for(var d=b.Wl.l;d.next();)Vi(a,d.value,c);b.Nb!==p&&(c?b.Nb.Ye=q:b.Nb.I())}}
function Gi(a){for(var b=a.cm.l;b.next();)Wi(a,b.value);b=a.Nb;b!==p&&!b.Ye&&(b.doLayout(a),b.Ye=h);a.ut=q}function Wi(a,b){if(b!==p){for(var c=b.Wl.l;c.next();)Wi(a,c.value);c=b.Nb;c!==p&&!c.Ye&&(b.QB=!b.location.R(),c.doLayout(b),b.I(Xi),c.Ye=h,Hi(a,b))}}x.g(w,"isTreePathToChildren",w.prototype.ed);x.defineProperty(w,{ed:"isTreePathToChildren"},t("gu"),function(a){var b=this.gu;if(b!==a&&(x.k(a,"boolean",w,"isTreePathToChildren"),this.gu=a,this.j("isTreePathToChildren",b,a),!this.xa.zb))for(a=this.ol;a.next();)Yi(a.value)});
x.g(w,"isCollapsingExpanding",w.prototype.mg);x.defineProperty(w,{mg:p},t("zB"),ba("zB"));function Zi(a,b){var c=a.tx.va(b);if(c!==p)return c;c=a.tx.va(b.toLowerCase());if(c!==p)return c;x.m("Unknown DiagramEvent name: "+b);return p}w.prototype.addDiagramListener=w.prototype.wC=function(a,b){x.k(a,"string",w,"addDiagramListener:name");x.k(b,"function",w,"addDiagramListener:listener");var c=Zi(this,a);c!==p&&c.add(b)};
w.prototype.removeDiagramListener=w.prototype.CE=function(a,b){x.k(a,"string",w,"removeDiagramListener:name");x.k(b,"function",w,"addDiagramListener:listener");var c=Zi(this,a);c!==p&&c.remove(b)};w.prototype.raiseDiagramEvent=w.prototype.Ea=function(a,b,c){u&&x.k(a,"string",w,"raiseDiagramEvent:name");var d=Zi(this,a),e=new Bd;e.h=this;var g=this.sx.va(a),a=g!==p?g:this.sx.va(a.toLowerCase());e.name=a;b!==f&&(e.vw=b);c!==f&&(e.hw=c);for(b=d.l;b.next();)c=b.value,c(e);return e.cancel};
function ag(a,b){for(var c=a.um(b,function(a){return a.fa},function(a){return a instanceof F},h).l;c.next();){var d=c.value;d.Uh===Df&&d.$b()}}
function la(a,b,c){a.Ed===p&&(a.Ed=new $i);c=c!==p?c.Za:p;if(a.Ed.uo||a.Ed.group!==c){if(c===p){var d;if(a.mi){if(a.ps.R())d=a.ps.copy();else{for(var b=h,e=a.jb,g=e.length,i=0;i<g;i++){var j=e.o[i];if(j.visible&&!j.Dc)for(var j=j.mb,k=j.length,l=0;l<k;l++){var m=j.o[l];m.As&&m.sb()&&(m=m.za,m.R()&&(b?(b=q,d=m.copy()):d.cj(m)))}}b&&(d=new L(0,0,0,0))}d.Sn(a.padding)}else d=a.qc.copy();d.bh(100,100);a.Ed.initialize(d);for(d=a.ol;d.next();)b=d.value,e=b.Pa,e===p||(!e.visible||e.Dc)||aj(a,b,p)}else{d=
c.za.copy();d.bh(20,20);a.Ed.initialize(d);for(d=c.Ec;d.next();)b=d.value,b instanceof A&&aj(a,b,p)}a.Ed.group=c;a.Ed.uo=q}else b&&bj(a.Ed);return a.Ed}function aj(a,b,c){if(b!==c)if(b.canAvoid()){for(var c=b.getAvoidableRectangle(),b=a.Ed.km,d=a.Ed.jm,e=c.x+c.width,g=c.y+c.height,i=c.x;i<e;i+=b){for(var j=c.y;j<g;j+=d)cj(a.Ed,i,j);cj(a.Ed,i,g)}for(j=c.y;j<g;j+=d)cj(a.Ed,e,j);cj(a.Ed,e,g)}else if(b instanceof B)for(b=b.Ec;b.next();)d=b.value,d instanceof A&&aj(a,d,c)}
function dj(a,b){if(a.Ed!==p&&!a.Ed.uo&&(b===p||b.canAvoid()))a.Ed.uo=h}function ci(a,b,c){if(lf!==p){c instanceof w||(c=p);var d=Bf;c!==d&&(d!==p&&d.Wb.we!==p&&d.Wb.we.doSimulatedDragLeave(),c!==p&&c.Wb.we!==p&&c.Wb.we.doSimulatedDragEnter());Bf=c;if(c===p)return h;d=c.Wb.we;d!==p&&(a!==p&&(b=c.qh(a)),c.bc.N=b,c.bc.Wj=q,c.bc.dj=q,d.doSimulatedDragOver());return h}return q}
function ri(a,b,c,d){if(lf!==p){d===p&&(d=p);var e=Bf;d!==e&&(e!==p&&e.Wb.we!==p&&e.Wb.we.doSimulatedDragLeave(),d!==p&&d.Wb.we!==p&&d.Wb.we.doSimulatedDragEnter());Bf=d;if(d===p)return lf.doCancel(),h;if(d!==a)return a=c,b!==p&&(a=d.qh(b)),d.bc.N=a,d.bc.Wj=q,d.bc.dj=h,b=d.Wb.we,b!==p&&b.doSimulatedDrop(),lf!==p&&lf.doCancel(),h}return q}x.g(w,"autoScrollRegion",w.prototype.IC);
x.defineProperty(w,{IC:"autoScrollRegion"},t("vt"),function(a){"number"===typeof a?a=new hb(a):x.i(a,hb,w,"autoScrollRegion");var b=this.vt;b.K(a)||(this.vt=a=a.Q(),Ci(this),this.j("autoScrollRegion",b,a))});
function Zf(a){if(a.ih===p){a.ih={};var b;b=a.Ka!==a.Wb.we?a.xF:a.yF;a.ih.isEnabled=h;var c=setInterval(function(){var b=c;a.ih!==p&&a.ih.isEnabled&&(a.ih=p,clearInterval(b),b=Yf(a,a.ex),b.Si(a.position)||(a.position=b,a.P.N=a.kF(a.ex),a.Ka.doMouseMove(),a.mi=h,zi(a,a.te()),a.rh=h,a.Sh(),Zf(a)))},b);a.ih.id=c}}function of(a){a.ih!==p&&(a.ih.isEnabled&&clearInterval(a.ih.id),a.ih=p)}
function Yf(a,b){var c=a.position,d=a.IC;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.fb,g=a.scale,e=new L(0,0,e.width*g,e.height*g),i=new K(0,0);if(b.x>=e.x&&b.x<e.x+d.left){var j=Math.max(a.Ws,1),j=j|0;i.x-=j;b.x<e.x+d.left/2&&(i.x-=j);b.x<e.x+d.left/4&&(i.x-=4*j)}else b.x<=e.x+e.width&&b.x>e.x+e.width-d.right&&(j=Math.max(a.Ws,1),j|=0,i.x+=j,b.x>e.x+e.width-d.right/2&&(i.x+=j),b.x>e.x+e.width-d.right/4&&(i.x+=4*j));b.y>=e.y&&b.y<e.y+d.top?(j=Math.max(a.Xs,1),j|=0,i.y-=j,b.y<
e.y+d.top/2&&(i.y-=j),b.y<e.y+d.top/4&&(i.y-=4*j)):b.y<=e.y+e.height&&b.y>e.y+e.height-d.bottom&&(j=Math.max(a.Xs,1),j|=0,i.y+=j,b.y>e.y+e.height-d.bottom/2&&(i.y+=j),b.y>e.y+e.height-d.bottom/4&&(i.y+=4*j));i.Si(new K(0,0))||(c=new K(c.x+i.x/g,c.y+i.y/g));return c}w.prototype.makeImage=w.prototype.JL=function(a){var b=document.createElement("img");b.src=this.MH(a);return b instanceof HTMLImageElement?b:p};
w.prototype.makeImageData=w.prototype.MH=function(a){this.Sh();if(this.wa===p)return"";a===f&&(a={});"object"!==typeof a&&x.m("properties argument must be an Object.");var b=a.size||p,c=a.scale||p,d=a.maxSize||new cb(2E3,2E3),e=a.position||p,g=a.parts||p,i=a.padding||1,j=a.background||p,k=a.omitTemporary;k===f&&(k=h);b!==p&&(isNaN(b.width)&&isNaN(b.height))&&(b=p);i&&"number"===typeof i&&(i=new hb(i));i||(i=new hb(0));i.left=Math.max(i.left,0);i.right=Math.max(i.right,0);i.top=Math.max(i.top,0);i.bottom=
Math.max(i.bottom,0);this.Ot=q;si(this);var l=document.createElement("canvas"),m=l.getContext("2d");if(!b&&!c&&!g&&!e)return l.width=this.wa.width+Math.ceil(i.left+i.right),l.height=this.wa.height+Math.ceil(i.top+i.bottom),Ii(this,m,i,new cb(l.width,l.height),this.Yb,this.nb,g,j,k),this.Ot=h,l.toDataURL(a.type,a.details);var n=new K(0,0);e!==p&&e.R()&&(n=e,c||(c=1));e=this.qc.copy();e.II(this.padding);e.width-=n.x;e.height-=n.y;if(g){var r,s=h,g=g.l;for(g.reset();g.next();){var v=g.value;if(v instanceof
z){var y=v.Pa;if(!y||y.visible)if((!y||!y.Dc)&&v.sb())v=v.za,v.R()&&(s?(s=q,r=v.copy()):r.cj(v))}}s&&(r=new L(0,0,0,0));e.width=r.width;e.height=r.height;n.x=r.x;n.y=r.y}else n.x+=e.x,n.y+=e.y;s=r=0;i&&(r=i.left+i.right,s=i.top+i.bottom);v=y=0;b&&(y=b.width,v=b.height,isFinite(y)&&(y=Math.max(0,y-r)),isFinite(v)&&(v=Math.max(0,v-s)));b&&c?b.R()?(b=y,e=v):isNaN(v)?(b=y,e=e.height*c):(b=e.width*c,e=v):b?b.R()?(c=Math.min(y/e.width,v/e.height),b=y,e=v):isNaN(v)?(c=y/e.width,b=y,e=e.height*c):(c=v/e.height,
b=e.width*c,e=v):c?(b=e.width*c,e=e.height*c):(c=1,b=e.width,e=e.height);i?(b+=r,e+=s):i=new hb(0);d&&(r=d.width,isNaN(r)&&(r=2E3),d=d.height,isNaN(d)&&(d=2E3),isFinite(r)&&(b=Math.min(b,r)),isFinite(d)&&(e=Math.min(e,d)));l.width=b;l.height=e;Ii(this,m,i,new cb(Math.ceil(b),Math.ceil(e)),c,n,g,j,k);this.Ot=h;return l.toDataURL(a.type,a.details)};w.inherit=function(a,b){x.k(a,"function",w,"inherit");x.k(b,"function",w,"inherit");x.Ja(a,b)};
function ej(a){1<arguments.length&&x.m("Palette constructor can only take one optional argument, the DIV HTML element or its id.");w.call(this,a);this.rv=h;this.Xk=q;this.ib=h;this.Ev=Fb;this.Nb=new fj}x.S("Palette",ej);x.Ja(ej,w);
function Ji(a){1<arguments.length&&x.m("Overview constructor can only take one optional argument, the DIV HTML element or its id.");w.call(this,a);this.yc=h;this.yi=p;var b=new z,c=new V;c.stroke="magenta";c.eb=2;c.fill=p;c.name="BOXSHAPE";b.Vo="BOXSHAPE";b.Hs="BOXSHAPE";b.add(c);this.hj=b;this.Cy=document.createElement("canvas");this.MF=this.Cy.getContext("2d");b=new gj;b.je(this);this.Wb.$e.Cc(0,b);var d=this;this.uE=function(){hj(d)};this.tE=function(){d.yi!==p&&(Ci(d),Ih(d))};this.ib=h;this.pe=
q;this.im=Ai;this.Wb.Em=df;this.yc=q}x.S("Overview",Ji);x.Ja(Ji,w);
Ji.prototype.Re=function(){this.Rb===p&&x.m("No div specified");this.wa===p&&x.m("No canvas specified");if(this.rh){var a=this.yi;if(a!==p){var b=this.wa,c=this.Kg,d=this.Cy,e=this.MF;d.width=b.width;d.height=b.height;c.Yw="";c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.wa.width,this.wa.height);var g=this.qd;g.reset();1!==this.Yb&&g.scale(this.scale);(0!==this.position.x||0!==this.position.y)&&g.translate(-this.nb.x,-this.nb.y);c.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy);for(var i=this.fb,
j=a.jb.length,g=0;g<j;g++)for(var k=c,l=i,m=a.jb.o[g].mb,n=this.scale,r=m.length,s=0;s<r;s++){var v=m.o[s],y=v.za;y.We(l)&&(1<y.width*n||1<y.height*n?v.Re(k,this):Hh(v,k))}e.drawImage(b,0,0);u&&u.eo&&(e.fillStyle="red",e.fillRect(0,d.height/2,d.width,4));a=this.jb.length;for(g=0;g<a;g++)this.jb.o[g].Re(c,this);u&&(u.oD||u.eo)&&u.mD(c,this);this.rh=this.Gk=q}}};x.g(Ji,"observed",Ji.prototype.XH);
x.defineProperty(Ji,{XH:"observed"},t("yi"),function(a){var b=this.yi;a!==p&&x.i(a,w,Ji,"observed");b!==a&&!(a instanceof Ji)&&(b!==p&&(this.remove(this.td),b.CE("ViewportBoundsChanged",this.uE),b.CE("DocumentBoundsChanged",this.tE),b.Ju.remove(this),this.Wb.is.lt=p),this.yi=a,a!==p&&(a.wC("ViewportBoundsChanged",this.uE),a.wC("DocumentBoundsChanged",this.tE),a.Ju.add(this),this.add(this.td),hj(this),this.Wb.is.lt=a),Ci(this),this.j("observed",b,a))});x.g(Ji,"box",Ji.prototype.td);
x.defineProperty(Ji,{td:"box"},t("hj"),function(a){var b=this.hj;b!==a&&(this.hj=a,this.j("box",b,a))});function hj(a){var b=a.td;if(b!==p){var c=a.yi;if(c!==p){a.rh=h;var c=c.fb,d=b.Uo;d.Aa=new cb(c.width,c.height);a=2/a.scale;d instanceof V&&(d.eb=a);b.location=new K(c.x-a/2,c.y-a/2)}}}Ji.prototype.te=function(){var a=this.yi;return a===p?new L(0,0,0,0):a.qc};Ji.prototype.Rs=function(a){this.yc||(vi(this),Ih(this),Ei(this),Ci(this),hj(this),this.Ea("ViewportBoundsChanged",a))};
function gj(){bf.call(this);this.name="MoveBox"}x.Ja(gj,bf);gj.prototype.doStart=gj.prototype.sz=function(){this.aa=this.h.Mc=h};gj.prototype.doMouseMove=gj.prototype.ah=function(){if(this.aa){var a=this.h;if(!(a===p||a.yi===p)){var b=a.yi,c=b.fb,d=a.P.N;b.position=new K(d.x-c.width/2,d.y-c.height/2);a.Eb()}}};gj.prototype.doMouseUp=gj.prototype.ve=function(){this.aa&&this.doMouseMove();this.stopTool()};gj.prototype.doStop=gj.prototype.dl=function(){this.aa=q;var a=this.h;a.Mc=q;hj(a)};
function be(a){x.nc(this);this.gb=q;a===f?(this.V=ee,this.Um="black"):"string"===typeof a?(this.V=ee,this.Um=a):(u&&x.ob(a,be,be,"constructor:type"),this.V=a,this.Um="black");a=this.V;a===fe?(this.Fn=Fb,this.bn=Nb):this.bn=a===ve?this.Fn=Lb:this.Fn=Cb;this.Zu=0;this.Pt=NaN;this.YA=this.ZA=this.Jg=this.Lu=this.Hg=p}x.S("Brush",be);var ee;be.Solid=ee=x.s(be,"Solid",0);var fe;be.Linear=fe=x.s(be,"Linear",1);var ve;be.Radial=ve=x.s(be,"Radial",2);var ij;be.Pattern=ij=x.s(be,"Pattern",2);
be.prototype.copy=be.prototype.copy=function(){var a=new be;a.V=this.V;a.Um=this.Um;a.Fn=this.Fn;a.bn=this.bn;a.Zu=this.Zu;a.Pt=this.Pt;this.Hg!==p&&(a.Hg=this.Hg.copy());a.Lu=this.Lu;return a};be.prototype.cb=function(){this.freeze();Object.freeze(this);return this};be.prototype.freeze=function(){this.gb=h;this.Hg!==p&&this.Hg.freeze();return this};be.prototype.Na=function(){Object.isFrozen(this)&&x.m("cannot thaw constant: "+this);this.gb=q;this.Hg!==p&&this.Hg.Na();return this};
be.prototype.toString=function(){var a="Brush(";if(this.type===ee)a+=this.color;else if(a=this.type===fe?a+"Linear ":this.type===ve?a+"Radial ":this.type===ij?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,this.ho!==p)for(var b=this.ho.l;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
be.prototype.addColorStop=be.prototype.addColorStop=function(a,b){x.C(this);(a===p||1<a||0>a)&&x.ta(a,"0 <= loc <= 1",be,"addColorStop:loc");x.k(b,"string",be,"addColorStop:color");this.Hg===p&&(this.Hg=new pa("number","string"));this.Hg.add(a,b);this.V===ee&&(this.type=fe);this.Jg=p};x.g(be,"type",be.prototype.type);
x.defineProperty(be,{type:"type"},t("V"),function(a){x.C(this,a);x.ob(a,be,be,"type");this.V=a;Ab(this.start)&&(a===fe?this.start=Fb:a===ve&&(this.start=Lb));Ab(this.end)&&(a===fe?this.end=Nb:a===ve&&(this.end=Lb));this.Jg=p});x.g(be,"color",be.prototype.color);x.defineProperty(be,{color:"color"},t("Um"),function(a){x.C(this,a);x.k(a,"string",be,"color");this.Um=a;this.Jg=p});x.g(be,"start",be.prototype.start);
x.defineProperty(be,{start:"start"},t("Fn"),function(a){x.C(this,a);a instanceof N||x.mc(a,"Spot",be,"start");this.Fn=a.Q();this.Jg=p});x.g(be,"end",be.prototype.end);x.defineProperty(be,{end:"end"},t("bn"),function(a){x.C(this,a);a instanceof N||x.mc(a,"Spot",be,"end");this.bn=a.Q();this.Jg=p});x.g(be,"startRadius",be.prototype.Zo);x.defineProperty(be,{Zo:"startRadius"},t("Zu"),function(a){x.C(this,a);x.n(a,be,"startRadius");0>a&&x.ta(a,">= zero",be,"startRadius");this.Zu=a;this.Jg=p});
x.g(be,"endRadius",be.prototype.no);x.defineProperty(be,{no:"endRadius"},t("Pt"),function(a){x.C(this,a);x.n(a,be,"endRadius");0>a&&x.ta(a,">= zero",be,"endRadius");this.Pt=a;this.Jg=p});x.g(be,"colorStops",be.prototype.ho);x.defineProperty(be,{ho:"colorStops"},t("Hg"),function(a){x.C(this,a);u&&x.i(a,pa,be,"colorStops");this.Hg=a;this.Jg=p});x.g(be,"pattern",be.prototype.pattern);x.defineProperty(be,{pattern:"pattern"},t("Lu"),function(a){x.C(this,a);this.Lu=a;this.Jg=p});
be.randomColor=function(a,b){a===f&&(a=128);u&&(x.n(a,be,"randomColor:min"),(0>a||255<a)&&x.ta(a,"0 <= min <= 255",be,"randomColor:min"));b===f&&(b=Math.max(a,255));u&&(x.n(b,be,"randomColor:max"),(b<a||255<b)&&x.ta(b,"min <= max <= 255",be,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};
function U(){x.nc(this);this.Nk=p;this.Hb="";this.Zf=this.Zg=h;this.Be=this.Ce=p;this.nb=(new K(NaN,NaN)).freeze();this.Ge=(new cb(NaN,NaN)).freeze();this.Yd=mc;this.yj=ec;this.qd=new Ya;this.fj=new Ya;this.Kk=new Ya;this.Yb=1;this.tc=0;this.Dh=Xg;this.Cq=(new hb(0)).freeze();this.cd=(new L(NaN,NaN,NaN,NaN)).freeze();this.ub=(new L(NaN,NaN,NaN,NaN)).freeze();this.Rc=(new L(0,0,NaN,NaN)).freeze();this.Qc=this.fc=this.Hl=this.kn=h;this.Xq=p;this.ph=Cb;this.mh=10;this.lh=jj;this.oh=0;this.Rp=p;this.Tp=
this.Sp=q;this.Up=Infinity;this.Ih=Cb;this.Fh=10;this.Eh=jj;this.Hh=0;this.Hr=p;this.Jr=this.Ir=q;this.Kr=Infinity;this.Rd=p;this.Ga=Db;this.jq=q;this.lp=Db;this.lr=0;this.Qk=1;this.ba=0;this.sk=1;this.or=-Infinity;this.nr=0;this.pr=bc;this.qr=kj;this.wp="";this.fi=this.Hi=this.ti=this.Mq=this.Lq=this.ui=this.vi=this.wi=this.Oq=this.Nq=this.ei=this.hi=this.di=p;this.cq=q;this.uc=this.gp=this.jp=this.ip=this.hp=p;this.Rm=q;this.Dl=p;this.kC=new L(NaN,NaN,NaN,NaN);this.Al=q;this.rk=p;this.Qm=q;this.Zl=
p}x.S("GraphObject",U);
U.prototype.Db=function(a){a.Hb=this.Hb;a.Zg=this.Zg;a.Zf=this.Zf;a.Ce=this.Ce;a.Be=this.Be;a.nb.Ya(this.nb);a.Ge.Ya(this.Ge);a.Yd=this.Yd.Q();a.yj=this.yj.Q();a.Yb=this.Yb;a.tc=this.tc;a.Dh=this.Dh;a.Cq.Ya(this.Cq);a.cd.Ya(this.cd);a.ub.Ya(this.ub);a.Rc.Ya(this.Rc);a.Xq=this.Xq;a.ph=this.ph.Q();a.mh=this.mh;a.lh=this.lh;a.oh=this.oh;a.Rp=this.Rp;a.Sp=this.Sp;a.Tp=this.Tp;a.Up=this.Up;a.Ih=this.Ih.Q();a.Fh=this.Fh;a.Eh=this.Eh;a.Hh=this.Hh;a.Hr=this.Hr;a.Ir=this.Ir;a.Jr=this.Jr;a.Kr=this.Kr;a.Ga=
this.Ga.Q();a.jq=this.jq;a.lp=this.lp.Q();a.lr=this.lr;a.Qk=this.Qk;a.ba=this.ba;a.sk=this.sk;a.or=this.or;a.nr=this.nr;a.pr=this.pr.Q();a.qr=this.qr;a.wp=this.wp;a.di=this.di;a.hi=this.hi;a.ei=this.ei;a.Nq=this.Nq;a.Oq=this.Oq;a.wi=this.wi;a.vi=this.vi;a.ui=this.ui;a.Lq=this.Lq;a.Mq=this.Mq;a.ti=this.ti;a.Hi=this.Hi;a.fi=this.fi;a.cq=this.cq;a.hp=this.hp;a.ip=this.ip;a.jp=this.jp;a.gp=this.gp;a.uc=this.uc;a.Rm=this.Rm;if(Array.isArray(this.Dl)){a.Dl=this.Dl.slice(0);for(var b=0;b<this.Dl.length;b++){var c=
this.Dl[b];a[c]=this[c]}}a.Qm=this.Qm;a.fc=this.fc;a.Qc=this.Qc;a.Kk=this.Kk.copy();a.Al=this.Al;this.rk!==p&&(a.rk=this.rk.copy())};U.prototype.Mh=function(a){a.Rd=p;a.Zl=p;a.T()};U.prototype.copy=U.prototype.copy=function(){var a=new this.constructor;this.Db(a);return a};U.prototype.toString=function(){return x.gl(Object.getPrototypeOf(this))+"#"+x.ic(this)};var lj;U.None=lj=x.s(U,"None",0);var Xg;U.Default=Xg=x.s(U,"Default",0);var Wc;U.Fill=Wc=x.s(U,"Fill",3);var Yg;
U.Uniform=Yg=x.s(U,"Uniform",1);var Zg;U.UniformToFill=Zg=x.s(U,"UniformToFill",2);var mj;U.Vertical=mj=x.s(U,"Vertical",4);var nj;U.Horizontal=nj=x.s(U,"Horizontal",5);U.prototype.Yc=function(a,b,c,d,e,g,i){var j=this.fa;if(j!==p&&(j.Fm(a,b,c,d,e,g,i),this.Rm&&(c===this&&a===Gd)&&(a=this.os(),a!==p)))for(c=this.uc.l;c.next();)d=c.value,e=a.data,g=d.ct,g!==p&&(e=a.Te(g)),e!==p&&(d.oF(this,e,b,g!==p?p:j.h),g!==p&&(e=a,""!==g&&(e=a.Te(g)),e!==p&&(g=d.Jm,i=a,""!==g&&(i=a.Te(g)),i!==p&&d.pF(i,e,b))))};
U.prototype.j=function(a,b,c){this.Yc(Gd,a,this,b,c)};function oj(a,b,c,d,e){var g=a.cd,i=a.Kk;i.reset();pj(a,i,b,c,d,e);a.Kk=i;g.x=b;g.y=c;g.width=d;g.height=e;i.zs()||i.jF(g)}U.prototype.sD=function(a,b){if(this.Zf===q)return q;var c=this.Ma,d=a.qm(b);return ab(a.x,a.y,0,0,0,c.height)<d||ab(a.x,a.y,0,c.height,c.width,c.height)<d||ab(a.x,a.y,c.width,c.height,c.width,0)<d||ab(a.x,a.y,c.width,0,0,0)<d?h:q};
function qj(a,b,c,d){if(a instanceof G)for(var e=a.ya.length;e--;){var g=a.ya.o[e];if(g.visible){var i=g.za,j=a.za;i.x>j.width||(i.y>j.height||0>i.x+i.width||0>i.y+i.height)||(qj(g,b,c,d),b!==p&&(g=b(g)),g&&(c===p||c(g))&&d.add(g))}}}U.prototype.Zh=ca(h);
U.prototype.containsPoint=U.prototype.Ca=function(a){u&&x.i(a,K,U,"containsPoint:p");var b=ob(this.transform,a),c=this.za;if(!c.R())return q;if(x.yy){var d=this.Ma,e=this.hl()*(this.h!==p?this.h.scale:1),g=1/e;if(10>d.width*e&&10>d.height*e)return lb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y)}return(this.Ic!==f||this instanceof V?lb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.Ca(b))?this.rk&&!this.rk.Ca(b)?q:this.Be!==p&&c.Ca(b)||this.Ce!==p&&this.Rc.Ca(a)?h:this.Qj(a):q};
U.prototype.Qj=function(a){var b=this.Ma;return lb(0,0,b.width,b.height,a.x,a.y)};U.prototype.containsRect=U.prototype.mm=function(a){u&&x.i(a,L,U,"containsRect:r");if(0===this.angle)return this.za.mm(a);var b=this.Ma,b=new L(0,0,b.width,b.height),c=this.transform;return b.Ca(c.Vi(new K(a.x,a.y)))&&b.Ca(c.Vi(new K(a.x,a.bottom)))&&b.Ca(c.Vi(new K(a.right,a.bottom)))&&b.Ca(c.Vi(new K(a.right,a.y)))};
U.prototype.containedInRect=U.prototype.Dv=function(a,b){u&&x.i(a,L,U,"containedInRect:r");if(b===f)return a.mm(this.za);var c=this.Ma;return!a.Ca(b.Xa(new K(0,0)))||!a.Ca(b.Xa(new K(0,c.height)))||!a.Ca(b.Xa(new K(c.width,c.height)))||!a.Ca(b.Xa(new K(c.width,0)))?q:h};
U.prototype.intersectsRect=U.prototype.We=function(a,b){u&&x.i(a,L,U,"intersectsRect:r");if(b===f&&(b=this.transform,0===this.angle))return a.We(this.za);var c=this.Ma,d=b,e=new K(0,0),g=new K(0,c.height),i=new K(c.width,c.height),j=new K(c.width,0);if(a.Ca(d.Xa(e))||a.Ca(d.Xa(g))||a.Ca(d.Xa(i))||a.Ca(d.Xa(j)))return h;c=new L(0,0,c.width,c.height);return c.Ca(d.Vi(new K(a.x,a.y)))||c.Ca(d.Vi(new K(a.x,a.bottom)))||c.Ca(d.Vi(new K(a.right,a.bottom)))||c.Ca(d.Vi(new K(a.right,a.y)))||Ic(a,e,g)||Ic(a,
g,i)||Ic(a,i,j)||Ic(a,j,e)?h:q};U.prototype.getDocumentPoint=U.prototype.Gb=function(a){Ab(a)&&x.m("Spot must be real");var b=this.Ma,a=new K(a.x*b.width+a.offsetX,a.y*b.height+a.offsetY);this.oe.Xa(a);return a};U.prototype.getDocumentAngle=U.prototype.ro=function(){var a=this.oe;return Math.atan2(a.m12,a.m11)*(180/Math.PI)};U.prototype.getDocumentScale=U.prototype.hl=function(){var a=this.Yb;return this.ea!==p?a*this.ea.hl():a};U.prototype.getLocalPoint=U.prototype.AD=function(a){return this.oe.Vi(a.copy())};
U.prototype.getNearestIntersectionPoint=U.prototype.BD=function(a,b,c){return this.ss(a.x,a.y,b.x,b.y,c)};da=U.prototype;
da.ss=function(a,b,c,d,e){var g=this.transform,i=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*i,k=-g.m12*i,l=-g.m21*i,m=g.m11*i,n=i*(g.m21*g.dy-g.m22*g.dx),r=i*(g.m12*g.dx-g.m11*g.dy);if(this.Nj!==p)return g=this.za,Hc(g.left,g.top,g.right,g.bottom,a,b,c,d,e);if(!(this instanceof G)||this instanceof G&&this.background!==p)return i=a*j+b*l+n,a=a*k+b*m+r,j=c*j+d*l+n,c=c*k+d*m+r,e.W(0,0),d=this.Ma,c=Hc(0,0,d.width,d.height,i,a,j,c,e),e.transform(g),c;if(this instanceof G&&(this.Nj===p||this.Nj===f)){i=a*j+b*
l+n;a=a*k+b*m+r;j=c*j+d*l+n;d=c*k+d*m+r;e.W(j,d);k=(j-i)*(j-i)+(d-a)*(d-a);c=q;m=this.ya.o;r=m.length;l=new K;for(n=0;n<r;n++)b=m[n],b.visible&&b.ss(i,a,j,d,l)&&(c=h,b=(i-l.x)*(i-l.x)+(a-l.y)*(a-l.y),b<k&&(k=b,e.set(l)));e.transform(g);return c}x.m("Unknown GraphObject case");return q};
function Dh(a,b,c,d,e){if(a.fc!==q){var g=a.margin,i=g.top+g.bottom,b=Math.max(b-(g.right+g.left),0),c=Math.max(c-i,0),g=a.Aa,i=0;a.eb&&(i=a.eb);var b=isFinite(g.width)?g.width+i:b,c=isFinite(g.height)?g.height+i:c,g=d,i=e,j=a instanceof G;switch(rj(a)){case lj:i=g=0;j&&(c=b=Infinity);break;case Wc:isFinite(b)&&b>d&&(g=b);isFinite(c)&&c>e&&(i=c);break;case nj:isFinite(b)&&b>d&&(g=b);i=0;j&&(c=Infinity);break;case mj:isFinite(c)&&c>e&&(i=c),g=0,j&&(b=Infinity)}var j=a.he,k=a.Ae;g>j.width&&k.width<
j.width&&(g=j.width);i>j.height&&k.height<j.height&&(i=j.height);d=Math.max(g/a.scale,k.width);e=Math.max(i/a.scale,k.height);j.width<d&&(d=Math.min(k.width,d));j.height<e&&(e=Math.min(k.height,e));b=Math.min(j.width,b);c=Math.min(j.height,c);b=Math.max(d,b);c=Math.max(e,c);g=a.angle;if(90===g||270===g)g=b,b=c,c=g,g=d,d=e,e=g;a.cd.Na();a.Is(b,c,d,e);a.cd.freeze();a.cd.R()||x.m("Non-real measuredBounds has been set");a.fc=q}}
da.Jc=function(a,b,c,d,e){sj(this);var g=this.kC;g.set(this.ub);this.ub.Na();if(this.Qc===q){var i=this.ub;i.x=a;i.y=b;i.width=c;i.height=d}else this.Pj(a,b,c,d);this.ub.freeze();this.rk=e===f?p:e;e!==f?this.Al=h:this.ea&&(c=this.ea.Rc,d=this.Da,this.Nj!==p&&(d=this.ub),e=b+d.height,i=a+d.width,this.Al=!(0<=a&&i<=c.width&&0<=b&&e<=c.height),this instanceof ra&&(this.ou>d.height&&(this.Al=h),this.uq.Zi>d.width&&(this.Al=h)));this.ub.R()||x.m("Non-real actualBounds has been set");tj(this,g,this.ub)};
da.Pj=aa();function uj(a,b,c,d,e){var g=a.za;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.Aa.R()){var g=a.cd,c=a.margin,b=c.right+c.left,i=c.top+c.bottom,c=g.width+b,g=g.height+i,d=d+b,e=e+i,b=rj(a);c===d&&g===e&&(b=lj);switch(b){case lj:if(c>d||g>e)a.fc=h,Dh(a,c>d?d:c,g>e?e:g);break;case Wc:a.fc=h;Dh(a,d,e,0,0);break;case nj:a.fc=h;Dh(a,d,g,0,0);break;case mj:a.fc=h,Dh(a,c,e,0,0)}}}
function tj(a,b,c){a.Qc=q;var d=a.fa;if(d!==p){var e=d.h;if(e!==p)if(vj(d),a instanceof z){d=q;if(e.mi===q){var g=e.qc,i=e.padding,e=g.x+i.left,j=g.y+i.top,k=g.width-2*i.right,g=g.height-2*i.bottom;b.R()&&(b.x>e&&b.y>j&&b.right<k&&b.bottom<g&&c.x>e&&c.y>j&&c.right<k&&c.bottom<g)&&(d=h)}(a.Du===h||!b.K(c))&&Oi(a,d)}else if(wj(a,d),xj(a),b=a.fa,b!==p&&(b.Rk===a||b.$l===a||b.am===a))b.Du=h}}function wj(a,b){a.af!==p&&(b.Du=h);if(a instanceof G)for(var c=a.ya,d=c.length,e=0;e<d;e++)wj(c.o[e],b)}
da.Re=function(a,b){if(this.Zg)if(this instanceof G&&(this.type===yj||this.type===zj)){var c=this.ub;0===c.width||(0===c.height||isNaN(c.x)||isNaN(c.y))||(this.Be!==p&&(Aj(this,a,this.Be,h,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Ce!==p&&(Aj(this,a,this.Ce,h),a.fillRect(c.x,c.y,c.width,c.height)),this.mo(a,b))}else{var d=q;if(this instanceof z){d=h;if(!this.sb())return;if(this.Tf){var e=this.En;a.shadowOffsetX=e.x*b.scale;a.shadowOffsetY=e.y*b.scale;a.shadowColor=this.Dn;a.shadowBlur=this.Cn}}var g=
q;this.fa&&(g=this.fa.Am);c=this.ub;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){u&&(u.eo&&!(this instanceof We))&&u.SG(a,this);var e=this.transform,i=this.ea,j=this.fj;j.reset();i!==p&&(i.Zh()?j.multiply(i.oe):i.ea!==p&&j.multiply(i.ea.oe));j.multiply(this.qd);if(j=this.Al){u&&u.nD&&u.trace("clip"+this.toString());var k=i.Zh()?i.Ma:i.za;if(this.rk)var l=this.rk,m=Math.max(l.x,Math.max(c.x,k.x)),n=Math.max(l.y,Math.max(c.y,k.y)),r=Math.abs(m-Math.min(l.right,Math.min(c.right,k.right))),
l=Math.abs(n-Math.min(l.bottom,Math.min(c.bottom,k.bottom)));else m=Math.max(c.x,k.x),n=Math.max(c.y,k.y),r=Math.min(c.right,k.right)-m,l=Math.min(c.bottom,k.bottom)-n;if(m>c.width+c.x||c.x>k.width+k.x||n>c.height+c.y||c.y>k.height+k.y)return;u&&u.nD&&u.UG(a,m,n,r,l);a.save();a.beginPath();a.rect(m,n,r,l);a.clip()}this.Be!==p&&(Aj(this,a,this.Be,h,h),a.fillRect(c.x,c.y,c.width,c.height));e.zs()||a.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy);this.Ce!==p&&(n=this.Ma,k=c=0,m=n.width,n=n.height,r=0,
this instanceof V&&(n=this.La.Lb,c=n.x,k=n.y,m=n.width,n=n.height,r=this.ae),Aj(this,a,this.Ce,h),a.fillRect(c-r/2,k-r/2,m+r,n+r));u&&u.eo&&u.TG(a,this);if(g&&(this.Ce!==p||this.Be!==p||i!==p&&i.Qm||i!==p&&i.type===Sh&&i.bm!==this)){this.Qm=h;var s=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else this.Qm=q;this.mo(a,b);g&&this.Qm===h&&(a.shadowOffsetX=s[0],a.shadowOffsetY=s[1],a.shadowBlur=s[2]);d&&g&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=
0);j?(a.restore(),si(b,a)):e.zs()||(d=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*d,-e.m12*d,-e.m21*d,e.m11*d,d*(e.m21*e.dy-e.m22*e.dx),d*(e.m12*e.dx-e.m11*e.dy)))}}};da.mo=aa();
function Aj(a,b,c,d,e){if(c!==p)if("string"===typeof c)d?b.vl!==c&&(b.fillStyle=c,b.vl=c):b.Nm!==c&&(b.strokeStyle=c,b.Nm=c);else if(c.type===ee)c=c.color,d?b.vl!==c&&(b.fillStyle=c,b.vl=c):b.Nm!==c&&(b.strokeStyle=c,b.Nm=c);else{var g,i=a.Ma,j=i.width,i=i.height;if(c.Jg&&c.type===ij||c.ZA==j&&c.YA==i)g=c.Jg;else{var k,l,m,n=m=0;e&&(a=a.za,j=a.width,i=a.height,m=a.x,n=a.y);c.start instanceof K?(a=c.start.x,e=c.start.y):c.start instanceof N?(a=c.start.x*j,e=c.start.y*i):(a=Lb.x*j,e=Lb.y*i);c.end instanceof
K?(k=c.end.x,l=c.end.y):c.end instanceof N?(k=c.end.x*j,l=c.end.y*i):c.type===fe?(k=Nb.x*j,l=Nb.y*i):(k=Lb.x*j,l=Lb.y*i);a+=m;k+=m;e+=n;l+=n;c.type===fe?g=b.createLinearGradient(a,e,k,l):c.type===ve?(m=isNaN(c.no)?Math.max(j,i)/2:c.no,isNaN(c.Zo)?(g=0,m=Math.max(j,i)/2):g=c.Zo,g=b.createRadialGradient(a,e,g,k,l,m)):c.type===ij?g=b.createPattern(c.pattern,"repeat"):x.mc(c.type,"Brush type");if(c.type!==ij&&(m=c.ho))for(m=m.l;m.next();)g.addColorStop(m.key,m.value);c.Jg=g;c.ZA=j;c.YA=i}d?b.vl!==g&&
(b.fillStyle=g,b.vl=g):b.Nm!==g&&(b.strokeStyle=g,b.Nm=g)}}U.prototype.isContainedBy=U.prototype.Wi=function(a){if(a instanceof G)a:{if(!(this===a||a===p))for(var b=this.ea;b!==p;){if(b===a){a=h;break a}b=b.ea}a=q}else a=q;return a};U.prototype.isVisibleObject=U.prototype.kl=function(){if(!this.visible)return q;var a=this.ea;return a!==p?a.kl():h};
function Bj(a){if(a.kn===h){var b=a.qd;b.reset();if(!a.ub.R()||!a.cd.R()){a.kn=q;return}b.translate(a.ub.x,a.ub.y);b.translate(-a.Da.x,-a.Da.y);var c=a.Ma;pj(a,b,c.x,c.y,c.width,c.height);a.kn=q;a.Hl=h}a.Hl===h&&(a.ea===p?(a.fj.set(a.qd),a.Hl=q):a.ea.oe!==p&&(b=a.fj,b.reset(),b.multiply(a.ea.fj),b.multiply(a.qd),a.Hl=q))}
function pj(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var i=Lb;a.ng&&wb(a.ng)&&(i=a.ng);var j=new K;if(a instanceof z&&a.Ub!==a){c=a.Ub;d=c.Ma;j.Hm(d.x,d.y,d.width,d.height,i);c.Kk.Xa(j);j.offset(-c.Da.x,-c.Da.y);for(i=c.ea;i!==p&&i!==a;)i.Kk.Xa(j),j.offset(-i.Da.x,-i.Da.y),i=i.ea}else j.Hm(c,d,e,g,i);b.rotate(a.angle,j.x,j.y)}}
U.prototype.T=function(a){if(this.fc!==h){this.Qc=this.fc=h;this.ea!==p?a||(this.ea.fc=q,this.ea.T()):(a=this.h,a!==p&&(a.sh.add(this),this instanceof A&&(a.xa.zb||this.dh(),this.fd!==p&&Jj(this.fd)),a.Eb()));if(this instanceof G){var a=this.V===Sh,b=p,c=this.ya,d=c.length;a&&(b=Rj(this,c,d));for(var e=0;e<d;e++){var g=c.o[e];a&&g===b?g.T(h):g.Aa.R()||(g instanceof Wg||g instanceof G||rj(g)!==lj)&&g.T(h)}}xj(this)}};
function Uj(a){if(a.fc===q&&(a.fc=h,a.Qc=h,a instanceof G))for(var a=a.ya.o,b=a.length,c=0;c<b;c++)Uj(a[c])}function Jj(a){if(a.Qc===q){if(a.ea!==p)a.ea.T();else{var b=a.h;b!==p&&(b.sh.add(a),a instanceof A&&a.dh(),b.Eb())}a.Qc=h}}function sj(a){if(a.kn===q&&(a.kn=h,a.Hl=h,a instanceof G))for(a=a.elements;a.next();)Vj(a.value)}function Vj(a){a.Hl=h;if(a instanceof G)for(a=a.elements;a.next();)Vj(a.value)}function xj(a){if(a.ea!==p)xj(a.ea);else{var b=a.h;b!==p&&a.ub.R()&&Ih(b,a.ub)}}
function rj(a){var b=a.Xh,c=a.ea;if(c&&c.V===ia)return Wj(a,c.ee(a.sc),c.de(a.Kc));if(c&&c.V===Sh){if(c.bm===p){var d=c.ya,e=d.length;Rj(c,d,e)}if(c.bm===a)return Wc}if(b===Xg){if(c){c.V===Vg&&c.bm===p&&(d=c.ya,e=d.length,Rj(c,d,e));if(c.bm===a)return Wc;a=c.oz;return a===Xg?lj:a}return lj}return b}
function Wj(a,b,c){var d=a.Xh;if(d!==Xg)return d;var e=d=f;switch(b.Xh){case mj:e=h;break;case Wc:e=h}switch(c.Xh){case nj:d=h;break;case Wc:d=h}a=a.ea.oz;d=d===f&&(a===nj||a===Wc)?h:q;e=e===f&&(a===mj||a===Wc)?h:q;return d===h&&e===h?Wc:d===h?nj:e===h?mj:lj}x.g(U,"segmentOrientation",U.prototype.Ys);x.defineProperty(U,{Ys:"segmentOrientation"},t("qr"),function(a){var b=this.qr;b!==a&&(u&&x.ob(a,F,U,"segmentOrientation"),this.qr=a,this.T(),this.j("segmentOrientation",b,a))});
x.g(U,"segmentIndex",U.prototype.Vh);x.defineProperty(U,{Vh:"segmentIndex"},t("or"),function(a){u&&x.k(a,"number",U,"segmentIndex");var a=Math.round(a),b=this.or;b!==a&&(this.or=a,this.T(),this.j("segmentIndex",b,a))});x.g(U,"segmentFraction",U.prototype.nA);x.defineProperty(U,{nA:"segmentFraction"},t("nr"),function(a){u&&x.k(a,"number",U,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.nr;b!==a&&(this.nr=a,this.T(),this.j("segmentFraction",b,a))});x.g(U,"segmentOffset",U.prototype.oA);
x.defineProperty(U,{oA:"segmentOffset"},t("pr"),function(a){var b=this.pr;b.K(a)||(u&&x.i(a,K,U,"segmentOffset"),this.pr=a=a.Q(),this.T(),this.j("segmentOffset",b,a))});x.g(U,"stretch",U.prototype.Xh);x.defineProperty(U,{Xh:"stretch"},t("Dh"),function(a){var b=this.Dh;b!==a&&(u&&x.ob(a,U,U,"stretch"),this.Dh=a,this.T(),this.j("stretch",b,a))});x.g(U,"name",U.prototype.name);
x.defineProperty(U,{name:"name"},t("Hb"),function(a){var b=this.Hb;b!==a&&(u&&x.k(a,"string",U,"name"),this.Hb=a,this.j("name",b,a))});x.g(U,"visible",U.prototype.visible);x.defineProperty(U,{visible:"visible"},t("Zg"),function(a){var b=this.Zg;b!==a&&(u&&x.k(a,"boolean",U,"visible"),this.Zg=a,this.j("visible",b,a),b=this.ea,b!==p?b.T():this instanceof z&&(this.T(),vj(this),a?(this.I(Xj),this.ej()):(this.I(Yj),this.Kh())),xj(this),Zj(this))});x.g(U,"areaBackground",U.prototype.Nj);
x.defineProperty(U,{Nj:"areaBackground"},t("Be"),function(a){var b=this.Be;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.Be=a,xj(this),this.j("areaBackground",b,a)});x.g(U,"background",U.prototype.background);x.defineProperty(U,{background:"background"},t("Ce"),function(a){var b=this.Ce;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.Ce=a,xj(this),this.j("background",b,a)});
x.u(U,{fa:"part"},function(){if(this instanceof z)return this;if(this.Zl)return this.Zl;var a;for(a=this.ea;a;){if(a instanceof z)return this.Zl=a;a=a.ea}return p});U.prototype.ql=ba("Nk");x.u(U,{ea:"panel"},t("Nk"));x.u(U,{Pa:"layer"},function(){var a=this.fa;return a!==p?a.Pa:p});x.u(U,{h:"diagram"},function(){var a=this.fa;return a!==p?a.h:p},{configurable:h});x.g(U,"position",U.prototype.position);
x.defineProperty(U,{position:"position"},t("nb"),function(a){var b=this.nb;if(!b.K(a)){u&&x.i(a,K,U,"position");if(this instanceof z){if(!a.R())return;var c=this.wj;if(this.Qc===q){var d=this.sn,e=c.copy();c.W(a.x+d.x,a.y+d.y);c.K(e)||this.j("location",e,c);this.nb=a=a.Q();$j(this);sj(this);this.j("position",b,a);return}c.W(NaN,NaN)}this.nb=a=a.Q();Jj(this);sj(this);this.j("position",b,a)}});x.u(U,{za:"actualBounds"},t("ub"));x.g(U,"scale",U.prototype.scale);
x.defineProperty(U,{scale:"scale"},t("Yb"),function(a){var b=this.Yb;b!==a&&(u&&x.n(a,U,"scale"),0>=a&&x.m("GraphObject.scale must be greater than zero"),this.Yb=a,sj(this),this.T(),this.j("scale",b,a))});x.g(U,"angle",U.prototype.angle);x.defineProperty(U,{angle:"angle"},t("tc"),function(a){var b=this.tc;b!==a&&(u&&x.n(a,U,"angle"),a%=360,0>a&&(a+=360),this.tc=a,this.T(),sj(this),this.j("angle",b,a))});x.g(U,"desiredSize",U.prototype.Aa);
x.defineProperty(U,{Aa:"desiredSize"},t("Ge"),function(a){var b=this.Ge;b.K(a)||(u&&x.i(a,cb,U,"desiredSize"),this.Ge=a=a.Q(),this.T(),this instanceof V&&this.lg(),this.j("desiredSize",b,a))});x.g(U,"width",U.prototype.width);x.defineProperty(U,{width:"width"},function(){return this.Ge.width},function(a){if(this.Ge.width!==a){u&&x.k(a,"number",U,"width");var b=this.Ge;this.Ge=a=(new cb(a,this.Ge.height)).freeze();this.T();this instanceof V&&this.lg();this.j("desiredSize",b,a)}});x.g(U,"height",U.prototype.height);
x.defineProperty(U,{height:"height"},function(){return this.Ge.height},function(a){if(this.Ge.height!==a){u&&x.k(a,"number",U,"height");var b=this.Ge;this.Ge=a=(new cb(this.Ge.width,a)).freeze();this.T();this instanceof V&&this.lg();this.j("desiredSize",b,a)}});x.g(U,"minSize",U.prototype.Ae);
x.defineProperty(U,{Ae:"minSize"},t("Yd"),function(a){var b=this.Yd;b.K(a)||(u&&x.i(a,cb,U,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Yd=a,this.T(),this.j("minSize",b,a))});x.g(U,"maxSize",U.prototype.he);x.defineProperty(U,{he:"maxSize"},t("yj"),function(a){var b=this.yj;b.K(a)||(u&&x.i(a,cb,U,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.yj=a,this.T(),this.j("maxSize",b,a))});
x.u(U,{Da:"measuredBounds"},t("cd"));x.u(U,{Ma:"naturalBounds"},t("Rc"),{configurable:h});x.g(U,"margin",U.prototype.margin);x.defineProperty(U,{margin:"margin"},t("Cq"),function(a){"number"===typeof a?a=new hb(a):u&&x.i(a,hb,U,"margin");var b=this.Cq;b.K(a)||(this.Cq=a=a.Q(),this.T(),this.j("margin",b,a))});x.u(U,{transform:p},function(){this.kn===h&&Bj(this);return this.qd});x.u(U,{oe:p},function(){this.Hl===h&&Bj(this);return this.fj});x.g(U,"alignment",U.prototype.Jb);
x.defineProperty(U,{Jb:"alignment"},t("Ga"),function(a){var b=this.Ga;b.K(a)||(u?x.i(a,N,U,"alignment"):Ab(a)&&!Bb(a)&&x.m("alignment must be a real Spot or Spot.Default"),this.Ga=a=a.Q(),Jj(this),this.j("alignment",b,a))});x.g(U,"column",U.prototype.Kc);x.defineProperty(U,{Kc:"column"},t("ba"),function(a){u&&x.n(a,U,"column");var a=Math.round(a),b=this.ba;b!==a&&(0>a&&x.ta(a,">= 0",U,"column"),this.ba=a,this.T(),this.j("column",b,a))});x.g(U,"columnSpan",U.prototype.PC);
x.defineProperty(U,{PC:"columnSpan"},t("sk"),function(a){u&&x.n(a,U,"columnSpan");var a=Math.round(a),b=this.sk;b!==a&&(1>a&&x.ta(a,">= 1",U,"columnSpan"),this.sk=a,this.T(),this.j("columnSpan",b,a))});x.g(U,"row",U.prototype.sc);x.defineProperty(U,{sc:"row"},t("lr"),function(a){u&&x.n(a,U,"row");var a=Math.round(a),b=this.lr;b!==a&&(0>a&&x.ta(a,">= 0",U,"row"),this.lr=a,this.T(),this.j("row",b,a))});x.g(U,"rowSpan",U.prototype.rowSpan);
x.defineProperty(U,{rowSpan:"rowSpan"},t("Qk"),function(a){u&&x.n(a,U,"rowSpan");var a=Math.round(a),b=this.Qk;b!==a&&(1>a&&x.ta(a,">= 1",U,"rowSpan"),this.Qk=a,this.T(),this.j("rowSpan",b,a))});x.g(U,"isPanelMain",U.prototype.Qh);x.defineProperty(U,{Qh:"isPanelMain"},t("jq"),function(a){var b=this.jq;b!==a&&(u&&x.k(a,"boolean",U,"isPanelMain"),this.jq=a,this.T(),this.j("isPanelMain",b,a))});x.g(U,"alignmentFocus",U.prototype.Kj);
x.defineProperty(U,{Kj:"alignmentFocus"},t("lp"),function(a){var b=this.lp;b.K(a)||(u?x.i(a,N,U,"alignmentFocus"):Ab(a)&&!Bb(a)&&x.m("alignmentFocus must be a real Spot or Spot.Default"),this.lp=a=a.Q(),this.T(),this.j("alignmentFocus",b,a))});x.g(U,"portId",U.prototype.af);
x.defineProperty(U,{af:"portId"},t("Xq"),function(a){var b=this.Xq;if(b!==a){u&&a!==p&&x.k(a,"string",U,"portId");var c=this.fa;c!==p&&!(c instanceof A)&&(x.m("portID being set on a Link: "+a),c=p);b!==p&&c&&ak(c,this);this.Xq=a;a!==p&&c&&(c.Tc===p&&bk(c),ck(c,this));this.j("portId",b,a)}});function dk(a){var b={value:p};ek(a,b);return b.value}function ek(a,b){var c=a.ea;return c===p||!ek(c,b)&&a.visible?(b.value=a,q):h}function Zj(a){var b=a.fa;b instanceof A&&(a=a.h)&&!a.xa.zb&&b.dh()}
x.g(U,"toSpot",U.prototype.tb);x.defineProperty(U,{tb:"toSpot"},t("Ih"),function(a){var b=this.Ih;b.K(a)||(u&&x.i(a,N,U,"toSpot"),this.Ih=a=a.Q(),this.j("toSpot",b,a),Zj(this))});x.g(U,"toEndSegmentLength",U.prototype.sl);x.defineProperty(U,{sl:"toEndSegmentLength"},t("Fh"),function(a){var b=this.Fh;b!==a&&(u&&x.k(a,"number",U,"toEndSegmentLength"),0>a&&x.ta(a,">= 0",U,"toEndSegmentLength"),this.Fh=a,this.j("toEndSegmentLength",b,a),Zj(this))});x.g(U,"toEndSegmentDirection",U.prototype.ft);
x.defineProperty(U,{ft:"toEndSegmentDirection"},t("Eh"),function(a){var b=this.Eh;b!==a&&(u&&x.ob(a,A,U,"toEndSegmentDirection"),this.Eh=a,this.j("toEndSegmentDirection",b,a),Zj(this))});x.g(U,"toShortLength",U.prototype.gt);x.defineProperty(U,{gt:"toShortLength"},t("Hh"),function(a){var b=this.Hh;b!==a&&(u&&x.k(a,"number",U,"toShortLength"),this.Hh=a,this.j("toShortLength",b,a),Zj(this))});x.g(U,"toLinkable",U.prototype.BA);
x.defineProperty(U,{BA:"toLinkable"},t("Hr"),function(a){var b=this.Hr;b!==a&&(u&&a!==p&&x.k(a,"boolean",U,"toLinkable"),this.Hr=a,this.j("toLinkable",b,a))});x.g(U,"toLinkableDuplicates",U.prototype.bF);x.defineProperty(U,{bF:"toLinkableDuplicates"},t("Ir"),function(a){var b=this.Ir;b!==a&&(u&&x.k(a,"boolean",U,"toLinkableDuplicates"),this.Ir=a,this.j("toLinkableDuplicates",b,a))});x.g(U,"toLinkableSelfNode",U.prototype.cF);
x.defineProperty(U,{cF:"toLinkableSelfNode"},t("Jr"),function(a){var b=this.Jr;b!==a&&(u&&x.k(a,"boolean",U,"toLinkableSelfNode"),this.Jr=a,this.j("toLinkableSelfNode",b,a))});x.g(U,"toMaxLinks",U.prototype.dF);x.defineProperty(U,{dF:"toMaxLinks"},t("Kr"),function(a){var b=this.Kr;b!==a&&(u&&x.n(a,U,"toMaxLinks"),0>a&&x.ta(a,">= 0",U,"toMaxLinks"),this.Kr=a,this.j("toMaxLinks",b,a))});x.g(U,"fromSpot",U.prototype.pb);
x.defineProperty(U,{pb:"fromSpot"},t("ph"),function(a){var b=this.ph;b.K(a)||(u&&x.i(a,N,U,"fromSpot"),this.ph=a=a.Q(),this.j("fromSpot",b,a),Zj(this))});x.g(U,"fromEndSegmentLength",U.prototype.fl);x.defineProperty(U,{fl:"fromEndSegmentLength"},t("mh"),function(a){var b=this.mh;b!==a&&(u&&x.k(a,"number",U,"fromEndSegmentLength"),0>a&&x.ta(a,">= 0",U,"fromEndSegmentLength"),this.mh=a,this.j("fromEndSegmentLength",b,a),Zj(this))});x.g(U,"fromEndSegmentDirection",U.prototype.qs);
x.defineProperty(U,{qs:"fromEndSegmentDirection"},t("lh"),function(a){var b=this.lh;b!==a&&(u&&x.ob(a,A,U,"fromEndSegmentDirection"),this.lh=a,this.j("fromEndSegmentDirection",b,a),Zj(this))});x.g(U,"fromShortLength",U.prototype.rs);x.defineProperty(U,{rs:"fromShortLength"},t("oh"),function(a){var b=this.oh;b!==a&&(u&&x.k(a,"number",U,"fromShortLength"),this.oh=a,this.j("fromShortLength",b,a),Zj(this))});x.g(U,"fromLinkable",U.prototype.xz);
x.defineProperty(U,{xz:"fromLinkable"},t("Rp"),function(a){var b=this.Rp;b!==a&&(u&&a!==p&&x.k(a,"boolean",U,"fromLinkable"),this.Rp=a,this.j("fromLinkable",b,a))});x.g(U,"fromLinkableDuplicates",U.prototype.uD);x.defineProperty(U,{uD:"fromLinkableDuplicates"},t("Sp"),function(a){var b=this.Sp;b!==a&&(u&&x.k(a,"boolean",U,"fromLinkableDuplicates"),this.Sp=a,this.j("fromLinkableDuplicates",b,a))});x.g(U,"fromLinkableSelfNode",U.prototype.vD);
x.defineProperty(U,{vD:"fromLinkableSelfNode"},t("Tp"),function(a){var b=this.Tp;b!==a&&(u&&x.k(a,"boolean",U,"fromLinkableSelfNode"),this.Tp=a,this.j("fromLinkableSelfNode",b,a))});x.g(U,"fromMaxLinks",U.prototype.wD);x.defineProperty(U,{wD:"fromMaxLinks"},t("Up"),function(a){var b=this.Up;b!==a&&(u&&x.n(a,U,"fromMaxLinks"),0>a&&x.ta(a,">= 0",U,"fromMaxLinks"),this.Up=a,this.j("fromMaxLinks",b,a))});x.g(U,"cursor",U.prototype.cursor);
x.defineProperty(U,{cursor:"cursor"},t("wp"),function(a){var b=this.wp;b!==a&&(x.k(a,"string",U,"cursor"),this.wp=a,this.j("cursor",b,a))});x.g(U,"click",U.prototype.click);x.defineProperty(U,{click:"click"},t("di"),function(a){var b=this.di;b!==a&&(a!==p&&x.k(a,"function",U,"click"),this.di=a,this.j("click",b,a))});x.g(U,"doubleClick",U.prototype.rm);
x.defineProperty(U,{rm:"doubleClick"},t("hi"),function(a){var b=this.hi;b!==a&&(a!==p&&x.k(a,"function",U,"doubleClick"),this.hi=a,this.j("doubleClick",b,a))});x.g(U,"contextClick",U.prototype.ds);x.defineProperty(U,{ds:"contextClick"},t("ei"),function(a){var b=this.ei;b!==a&&(a!==p&&x.k(a,"function",U,"contextClick"),this.ei=a,this.j("contextClick",b,a))});x.g(U,"mouseEnter",U.prototype.Uz);
x.defineProperty(U,{Uz:"mouseEnter"},t("Nq"),function(a){var b=this.Nq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseEnter"),this.Nq=a,this.j("mouseEnter",b,a))});x.g(U,"mouseLeave",U.prototype.Vz);x.defineProperty(U,{Vz:"mouseLeave"},t("Oq"),function(a){var b=this.Oq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseLeave"),this.Oq=a,this.j("mouseLeave",b,a))});x.g(U,"mouseOver",U.prototype.Ns);
x.defineProperty(U,{Ns:"mouseOver"},t("wi"),function(a){var b=this.wi;b!==a&&(a!==p&&x.k(a,"function",U,"mouseOver"),this.wi=a,this.j("mouseOver",b,a))});x.g(U,"mouseHover",U.prototype.Ms);x.defineProperty(U,{Ms:"mouseHover"},t("vi"),function(a){var b=this.vi;b!==a&&(a!==p&&x.k(a,"function",U,"mouseHover"),this.vi=a,this.j("mouseHover",b,a))});x.g(U,"mouseHold",U.prototype.Ls);
x.defineProperty(U,{Ls:"mouseHold"},t("ui"),function(a){var b=this.ui;b!==a&&(a!==p&&x.k(a,"function",U,"mouseHold"),this.ui=a,this.j("mouseHold",b,a))});x.g(U,"mouseDragEnter",U.prototype.nE);x.defineProperty(U,{nE:"mouseDragEnter"},t("Lq"),function(a){var b=this.Lq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDragEnter"),this.Lq=a,this.j("mouseDragEnter",b,a))});x.g(U,"mouseDragLeave",U.prototype.Tz);
x.defineProperty(U,{Tz:"mouseDragLeave"},t("Mq"),function(a){var b=this.Mq;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDragLeave"),this.Mq=a,this.j("mouseDragLeave",b,a))});x.g(U,"mouseDrop",U.prototype.Ks);x.defineProperty(U,{Ks:"mouseDrop"},t("ti"),function(a){var b=this.ti;b!==a&&(a!==p&&x.k(a,"function",U,"mouseDrop"),this.ti=a,this.j("mouseDrop",b,a))});x.g(U,"actionDown",U.prototype.Ry);
x.defineProperty(U,{Ry:"actionDown"},t("hp"),function(a){var b=this.hp;b!==a&&(a!==p&&x.k(a,"function",U,"actionDown"),this.hp=a,this.j("actionDown",b,a))});x.g(U,"actionUp",U.prototype.Ty);x.defineProperty(U,{Ty:"actionUp"},t("jp"),function(a){var b=this.jp;b!==a&&(a!==p&&x.k(a,"function",U,"actionUp"),this.jp=a,this.j("actionUp",b,a))});x.g(U,"actionMove",U.prototype.Sy);
x.defineProperty(U,{Sy:"actionMove"},t("ip"),function(a){var b=this.ip;b!==a&&(a!==p&&x.k(a,"function",U,"actionMove"),this.ip=a,this.j("actionMove",b,a))});x.g(U,"actionCancel",U.prototype.Qy);x.defineProperty(U,{Qy:"actionCancel"},t("gp"),function(a){var b=this.gp;b!==a&&(a!==p&&x.k(a,"function",U,"actionCancel"),this.gp=a,this.j("actionCancel",b,a))});x.g(U,"toolTip",U.prototype.ht);
x.defineProperty(U,{ht:"toolTip"},t("Hi"),function(a){var b=this.Hi;b!==a&&(a!==p&&x.i(a,We,U,"toolTip"),this.Hi=a,this.j("toolTip",b,a))});x.g(U,"contextMenu",U.prototype.contextMenu);x.defineProperty(U,{contextMenu:"contextMenu"},t("fi"),function(a){var b=this.fi;b!==a&&(a!==p&&x.i(a,We,U,"contextMenu"),this.fi=a,this.j("contextMenu",b,a))});x.g(U,"isActionable",U.prototype.ys);
x.defineProperty(U,{ys:"isActionable"},t("cq"),function(a){var b=this.cq;b!==a&&(x.k(a,"boolean",U,"isActionable"),this.cq=a,this.j("isActionable",b,a))});x.g(U,"pickable",U.prototype.bA);x.defineProperty(U,{bA:"pickable"},t("Zf"),function(a){var b=this.Zf;b!==a&&(x.k(a,"boolean",U,"pickable"),this.Zf=a,this.j("pickable",b,a))});
U.prototype.bind=U.prototype.bind=function(a){a.dg=this;var b=this.os();b!==p&&fk(b)&&x.m("Cannot add a Binding to a template that has already been copied: "+a);this.uc===p&&(this.uc=new H(De));this.uc.add(a)};U.prototype.findTemplateBinder=U.prototype.os=function(){for(var a=this instanceof G?this:this.ea;a!==p;){if(a.yl!==p&&a instanceof G)return a;a=a.ea}return p};U.fromSvg=function(a){return gk(a)};var hk;
U.make=hk=function(a,b){var c=p,d=p;if("function"===typeof a)d=a;else if("string"===typeof a){var e=ik.va(a);"function"===typeof e?c=e():d=ea[a]}c===p&&(d===f&&(c=window.$,c!==f&&c.noop!==f&&x.m("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),x.m("GraphObject.make failed to complete, it may be conflicting with another var.")),(d===p||!d.constructor)&&x.m("GraphObject.make requires a class function or class name, not: "+a),c=new d);e=1;c instanceof w&&
1<arguments.length&&(d=arguments[1],"string"===typeof d||d instanceof HTMLDivElement?(c.Pi=p,$h(c,d),e++):x.m("Unknown argument to Diagram constructor: "+d));for(;e<arguments.length;e++)if(d=arguments[e],d===f)x.m("Undefined value at argument "+e+" for object being constructed by GraphObject.make: "+c);else if("string"===typeof d)if(c instanceof ra)c.text=d;else if(c instanceof V)c.xb=d;else if(c instanceof jk)c.source=d;else if(c instanceof G){var g=x.tm(G,d);g!==p?c.type=g:x.m("Unknown Panel type as an argument to GraphObject.make: "+
d)}else c instanceof be?(g=x.tm(be,d),g!==p?c.type=g:x.m("Unknown Brush type as an argument to GraphObject.make: "+d)):c instanceof Tc?(g=x.tm(Tc,d),g!==p?c.type=g:x.m("Unknown Geometry type as an argument to GraphObject.make: "+d)):c instanceof S?(g=x.tm(S,d),g!==p?c.type=g:x.m("Unknown PathSegment type as an argument to GraphObject.make: "+d)):x.m("Unable to use a string as an argument to GraphObject.make: "+d);else if(d instanceof U)c instanceof G||x.m("A GraphObject can only be added to a Panel, not to: "+
c),c.add(d);else if(d instanceof kk)c instanceof G||x.m("A RowColumnDefinition can only be added to a Panel, not to: "+c),g=d.aw?c.ee(d.index):c.de(d.index),x.i(d,kk,kk,"copyFrom:pd"),d.aw?g.height=d.height:g.width=d.width,g.pg=d.pg,g.ie=d.ie,g.Jb=d.Jb,g.at=d.at,g.uc=d.uc;else if(d instanceof oa)c instanceof F&&d.re===F?d===lk||d===Df?c.Uh=d:d===mk||d===nk||d===ok?c.Ef=d:d===pk||d===qk||d===rk?c.pv=d:d===sk||d===kj||x.m("Unknown Link enum value for a Link property: "+d):c instanceof G&&d.re===G?c.type=
d:c instanceof ra&&d.re===ra?c.IA=d:c instanceof U&&d.re===F?0===d.name.indexOf("Orient")?c.Ys=d:x.m("Unknown Link enum value for GraphObject.segmentOrientation property: "+d):c instanceof U&&d.re===U?c.Xh=d:c instanceof w&&d.re===w?c.im=d:c instanceof be&&d.re===be?c.type=d:c instanceof Tc&&d.re===Tc?c.type=d:c instanceof S&&d.re===S?c.type=d:c instanceof De&&d.re===De?c.mode=d:c instanceof Cd&&d.re===Cd?c.ud=d:c instanceof W&&d.re===W?0===d.name.indexOf("Alignment")?c.Jb=d:0===d.name.indexOf("Arrangement")?
c.qe=d:0===d.name.indexOf("Compaction")?c.Bv=d:0===d.name.indexOf("Path")?c.path=d:0===d.name.indexOf("Sorting")?c.zg=d:0===d.name.indexOf("Style")?c.mF=d:x.m("Unknown enum value: "+d):c instanceof Y&&d.re===Y?0===d.name.indexOf("Aggressive")?c.AC=d:0===d.name.indexOf("Cycle")?c.XC=d:0===d.name.indexOf("Init")?c.QD=d:0===d.name.indexOf("Layer")?c.$D=d:x.m("Unknown enum value: "+d):c instanceof fj&&d.re===fj?d===tk||d===uk||d===vk||d===wk?c.zg=d:d===xk||d===yk?c.qe=d:d===zk||d===Ak?c.Jb=d:x.m("Unknown enum value: "+
d):c instanceof Bk&&d.re===Bk?d===Ck||d===Dk||d===Ek||d===Fk||d===Gk?c.zg=d:d===Hk||d===Ik||d===Jk||d===Kk?c.direction=d:d===Lk||d===Mk||d===Nk||d===Ok?c.qe=d:d===Pk||d===Qk?c.Qs=d:x.m("Unknown enum value: "+d):x.m("No property to set for this enum value: "+d);else if(d instanceof De)c instanceof U||c instanceof kk?c.bind(d):x.m("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+c);else if(d instanceof Vc)c instanceof Tc?c.yb.add(d):x.m("A PathFigure can only be added to a Geometry, not to: "+
c);else if(d instanceof S)c instanceof Vc?c.Fa.add(d):x.m("A PathSegment can only be added to a PathFigure, not to: "+c);else if(x.rb(d))if(c instanceof be){var g={},i;for(i in d){var j=parseFloat(i);isNaN(j)?g[i]=d[i]:c.addColorStop(j,d[i])}x.rA(c,g)}else c instanceof kk?(d.row!==f?(g=d.row,(g===f||g===p||Infinity===g||isNaN(g)||0>g)&&x.m("Must specify non-negative integer row for RowColumnDefinition "+d),c.Ll=h,c.ha=g):d.column!==f?(g=d.column,(g===f||g===p||Infinity===g||isNaN(g)||0>g)&&x.m("Must specify non-negative integer column for RowColumnDefinition "+
d),c.Ll=q,c.ha=g):x.m("Must specify row or column value in a RowColumnDefinition "+d),g=x.FG(d,"row","column"),x.rA(c,g)):x.rA(c,d);else x.m('Unknown initializer "'+d+'" for object being constructed by GraphObject.make: '+c);return c};var ik;U.Builders=ik=new pa("string","function");
ik.add("Button",function(){var a=new be(fe);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new be(fe);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=hk(G,Sh,{ys:h},hk(V,{name:"ButtonBorder",xb:"RoundedRectangle",fill:a,stroke:"gray"}));c.Uz=function(a,c){var g=c.ia(0),i=c._buttonFillOver;i===f&&(i=b);c._buttonFillNormal=g.fill;g.fill=i;i=c._buttonStrokeOver;i===f&&(i="blue");c._buttonStrokeNormal=g.stroke;g.stroke=i};c.Vz=function(b,c){var g=c.ia(0),i=c._buttonFillNormal;
i===f&&(i=a);g.fill=i;i=c._buttonStrokeNormal;i===f&&(i="gray");g.stroke=i};return c});
ik.add("TreeExpanderButton",function(){var a=hk("Button",hk(V,{name:"ButtonIcon",xb:"MinusLine",Aa:new cb(6,6)},(new De("figure","isTreeExpanded",function(a,c){var d=p,e=c.ea;e&&(d=a?e._treeExpandedFigure:e._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).aA("")),{visible:q},(new De("visible","isTreeLeaf",function(a){return!a})).aA(""));a.click=function(a,c){var d=c.fa;if(d instanceof A){var e=d.h;e===p||e.ib||(a.fe=h,d.Hd?e.ig.collapseTree(d):e.ig.expandTree(d))}};return a});
ik.add("SubGraphExpanderButton",function(){var a=hk("Button",hk(V,{name:"ButtonIcon",xb:"MinusLine",Aa:new cb(6,6)},(new De("figure","isSubGraphExpanded",function(a,c){var d=p,e=c.ea;e&&(d=a?e._subGraphExpandedFigure:e._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).aA("")));a.click=function(a,c){var d=c.fa;if(d instanceof B){var e=d.h;e===p||e.ib||(a.fe=h,d.Xe?e.ig.collapseSubGraph(d):e.ig.expandSubGraph(d))}};return a});
ik.add("ContextMenuButton",function(){var a=hk("Button");a.Xh=nj;var b=a.Te("ButtonBorder");b instanceof V&&(b.xb="Rectangle",b.v=new N(0,0,2,2),b.w=new N(1,1,-2,-2));return a});
function G(a){U.call(this);a===f?0===arguments.length?this.V=bh:x.m("invalid argument to Panel constructor: undefined"):(x.ob(a,G,G,"type"),this.V=a);this.ya=new H(U);this.ne=(new hb).freeze();this.zp=Db;this.ec=Xg;this.th=q;this.V===ui&&(this.th=h);this.zi=1;this.Me=[];this.Ee=[];this.rp=this.mr=Rk;this.qn=this.Mn=0;this.On=Yg;this.Yp=(new cb(10,10)).freeze();this.Zp=(new K(0,0)).freeze();this.yl=this.Xm=p;this.Px="";this.Pg=this.Ik=p;this.ln="category";this.Uf=p;this.cc=new L(NaN,NaN,NaN,NaN);this.KF=
new L(0,0,0,0);this.$I=new cb(0,0);this.bm=p}x.S("Panel",G);x.Ja(G,U);
G.prototype.Db=function(a){U.prototype.Db.call(this,a);a.V=this.V;a.ne.Ya(this.ne);a.zp=this.zp.Q();a.ec=this.ec;if(0<this.Me.length){for(var b=[],c=this.Me,d=c.length,e=0;e<d;e++)if(c[e]!==f){var g=c[e].copy();g.ql(a);b[e]=g}a.Me=b}if(0<this.Ee.length){b=[];c=this.Ee;d=c.length;for(e=0;e<d;e++)c[e]!==f&&(g=c[e].copy(),g.ql(a),b[e]=g);a.Ee=b}a.mr=this.mr;a.rp=this.rp;a.Mn=this.Mn;a.qn=this.qn;a.On=this.On;a.Yp.Ya(this.Yp);a.Zp.Ya(this.Zp);a.th=this.th;a.zi=this.zi;a.Xm=this.Xm;a.yl=this.yl;a.Px=this.Px;
a.Ik=this.Ik;a.Pg=this.Pg;a.ln=this.ln;this._buttonFillNormal&&(a._buttonFillNormal=this._buttonFillNormal);this._buttonFillOver&&(a._buttonFillOver=this._buttonFillOver);this._buttonStrokeNormal&&(a._buttonStrokeNormal=this._buttonStrokeNormal);this._buttonStrokeOver&&(a._buttonStrokeOver=this._buttonStrokeOver);this._treeExpandedFigure&&(a._treeExpandedFigure=this._treeExpandedFigure);this._treeCollapsedFigure&&(a._treeCollapsedFigure=this._treeCollapsedFigure);this._subGraphExpandedFigure&&(a._subGraphExpandedFigure=
this._subGraphExpandedFigure);this._subGraphCollapsedFigure&&(a._subGraphCollapsedFigure=this._subGraphCollapsedFigure);a.cc=this.cc.copy()};G.prototype.Mh=function(a){U.prototype.Mh.call(this,a);a.ya=this.ya;for(var b=a.ya.l;b.next();)b.value.Nk=a};
G.prototype.copy=G.prototype.copy=function(){var a=U.prototype.copy.call(this);if(a instanceof G){var b=this.ya;if(0<b.length)for(var c=b.length,d=0;d<c;d++){var e=b.o[d].copy(),g=a;e.ql(g);e.Zl=p;var i=g.ya,j=i.count;i.Cc(j,e);i=g.fa;if(i!==p){var k=g.h;k!==p&&k.xa.zb||i.Yc(Ud,"elements",g,p,e,p,j)}}return a}return p};G.prototype.toString=function(){return"Panel("+this.type+")#"+x.ic(this)};var bh;G.Position=bh=x.s(G,"Position",0);G.Horizontal=x.s(G,"Horizontal",1);var ai;
G.Vertical=ai=x.s(G,"Vertical",2);var Vg;G.Spot=Vg=x.s(G,"Spot",3);var Sh;G.Auto=Sh=x.s(G,"Auto",4);var ia;G.Table=ia=x.s(G,"Table",5);G.Viewbox=x.s(G,"Viewbox",6);var yj;G.TableRow=yj=x.s(G,"TableRow",7);var zj;G.TableColumn=zj=x.s(G,"TableColumn",8);var Mg;G.Link=Mg=x.s(G,"Link",9);var ui;G.Grid=ui=x.s(G,"Grid",10);x.u(G,{elements:"elements"},function(){return this.ya.l});x.u(G,{Ma:"naturalBounds"},t("Rc"));x.g(G,"padding",G.prototype.padding);
x.defineProperty(G,{padding:"padding"},t("ne"),function(a){"number"===typeof a?a=new hb(a):x.i(a,hb,G,"padding");var b=this.ne;b.K(a)||(this.ne=a=a.Q(),this.T(),this.j("padding",b,a))});x.g(G,"type",G.prototype.type);x.defineProperty(G,{type:"type"},t("V"),function(a){var b=this.V;b!==a&&(u&&x.ob(a,G,G,"type"),(b===yj||b===zj)&&x.m("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.V=a,this.V===ui&&(this.th=h),this.T(),this.j("type",b,a))});
x.g(G,"defaultAlignment",G.prototype.Tj);x.defineProperty(G,{Tj:"defaultAlignment"},t("zp"),function(a){var b=this.zp;b.K(a)||(u&&x.i(a,N,G,"defaultAlignment"),this.zp=a=a.Q(),this.T(),this.j("defaultAlignment",b,a))});x.g(G,"defaultStretch",G.prototype.oz);x.defineProperty(G,{oz:"defaultStretch"},t("ec"),function(a){var b=this.ec;b!==a&&(x.ob(a,U,G,"defaultStretch"),this.ec=a,this.T(),this.j("defaultStretch",b,a))});x.g(G,"viewboxStretch",G.prototype.RI);
x.defineProperty(G,{RI:"viewboxStretch"},t("On"),function(a){var b=this.On;b!==a&&(x.ob(a,U,G,"viewboxStretch"),this.On=a,this.j("viewboxStretch",b,a))});x.g(G,"gridCellSize",G.prototype.ts);x.defineProperty(G,{ts:"gridCellSize"},t("Yp"),function(a){var b=this.Yp;b.K(a)||(x.i(a,cb,G,"gridCellSize"),(!a.R()||0===a.width||0===a.height)&&x.m("Invalid Panel.gridCellSize: "+a),this.Yp=a.Q(),this.h!==p&&this===this.h.Vv&&Fi(this.h),xj(this),this.j("gridCellSize",b,a))});x.g(G,"gridOrigin",G.prototype.Az);
x.defineProperty(G,{Az:"gridOrigin"},t("Zp"),function(a){var b=this.Zp;b.K(a)||(x.i(a,K,G,"gridOrigin"),a.R()||x.m("Invalid Panel.gridOrigin: "+a),this.Zp=a.Q(),xj(this),this.j("gridOrigin",b,a))});
G.prototype.mo=function(a,b){var c=this.opacity,d=1;1!==c&&(d=a.globalAlpha,a.globalAlpha=d*c);if(this.V===ui){c=this.hl()*b.scale;0>=c&&(c=1);var e=this.ts,d=e.width,e=e.height,g=this.Ma,i=g.width,g=g.height,j=Math.ceil(i/d),k=Math.ceil(g/e),l=this.Az;a.save();a.beginPath();a.rect(0,0,i,g);a.clip();for(var m=[],n=this.ya.o,r=this.ya.length,s=0;s<r;s++){var v=[];m.push(v);var y=n[s];if(y.visible)for(var y="LineV"===y.xb,C=s+1;C<r;C++){var D=n[C];D.visible&&"LineV"===D.xb===y&&(D=D.Ti,2<=D&&v.push(D))}}n=
this.ya.length;for(r=0;r<n;r++)if(y=this.ya.o[r],y.visible){s=m[r];v=y.Ti;if("LineV"===y.xb){a.lineWidth=y.eb;Aj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.x/d);C<=y+j&&!(D=C*d+l.x,0<=D&&(D<i&&Sk(C,v,s))&&(a.moveTo(D,0),a.lineTo(D,g),2>d*v*c));C++);}else{a.lineWidth=y.eb;Aj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.y/e);C<=y+k&&!(D=C*e+l.y,0<=D&&(D<=g&&Sk(C,v,s))&&(a.moveTo(0,D),a.lineTo(i,D),2>e*v*c));C++);}a.stroke()}a.restore();si(b,a)}else{e=this.ya.length;for(i=0;i<e;i++)this.ya.o[i].Re(a,
b);u&&u.WG&&this instanceof F&&u.VG(a,b,this);1!==c&&(a.globalAlpha=d)}};function Sk(a,b,c){if(0!==a%b)return q;for(var b=c.length,d=0;d<b;d++)if(0===a%c[d])return q;return h}
G.prototype.Is=function(a,b,c,d){var e=this.cc;e.width=0;e.height=0;var g=this.Aa,i=this.Ae;c===f&&(c=i.width,d=i.height);var c=Math.max(c,i.width),d=Math.max(d,i.height),j=this.he;isNaN(g.width)||(a=Math.min(g.width,j.width));isNaN(g.height)||(b=Math.min(g.height,j.height));var a=Math.max(c,a),b=Math.max(d,b),k=this.padding,a=Math.max(a-k.left-k.right,0),b=Math.max(b-k.top-k.bottom,0),l=this.ya,m=l.length;if(0===m){var n=this.Rc;db(n,!isNaN(g.width)?a:0,!isNaN(g.height)?b:0);oj(this,0,0,n.width,
n.height)}else{var r=this.V.Hb;switch(r){case "Position":var s=a,v=b,y=c,C=d;e.x=0;e.y=0;e.width=0;for(var D=e.height=0;D<m;D++){var I=l.o[D];if(I.visible||I===this.Ub){var E=I.margin,M=E.right+E.left,O=E.top+E.bottom;Dh(I,s,v,y,C);var X=I.Da,sa=Math.max(X.width+M,0),ka=Math.max(X.height+O,0),va=I.position.x,Fa=I.position.y;isFinite(va)||(va=0);isFinite(Fa)||(Fa=0);if(I instanceof V&&I.Gz)var Ga=I.eb/2,va=va-Ga,Fa=Fa-Ga;e.cc(va,Fa,sa,ka)}}break;case "Vertical":for(var Za=a,qb=c,Wa=[],Ia=0;Ia<m;Ia++){var eb=
l.o[Ia];if(eb.visible||eb===this.Ub){var Va=rj(eb);if(Va!==lj&&Va!==mj)Wa.push(eb);else{var mb=eb.margin,Ed=mb.right+mb.left,ff=mb.top+mb.bottom;Dh(eb,Za,Infinity,qb,0);var ce=eb.Da,cc=Math.max(ce.width+Ed,0),Fd=Math.max(ce.height+ff,0);e.width=Math.max(e.width,cc);e.height+=Fd}}}var gf=Wa.length;if(0!==gf){this.Aa.width?Za=Math.min(this.Aa.width,this.he.width):0!==e.width&&(Za=Math.min(e.width,this.he.width));for(Ia=0;Ia<gf;Ia++)if(eb=Wa[Ia],eb.visible||eb===this.Ub)mb=eb.margin,Ed=mb.right+mb.left,
ff=mb.top+mb.bottom,Dh(eb,Za,Infinity,qb,0),ce=eb.Da,cc=Math.max(ce.width+Ed,0),Fd=Math.max(ce.height+ff,0),e.width=Math.max(e.width,cc),e.height+=Fd}break;case "Horizontal":for(var Lf=b,Cj=d,ge=[],he=0;he<m;he++){var hc=l.o[he];if(hc.visible||hc===this.Ub){var ei=rj(hc);if(ei!==lj&&ei!==nj)ge.push(hc);else{var Hd=hc.margin,mg=Hd.right+Hd.left,lh=Hd.top+Hd.bottom;Dh(hc,Infinity,Lf,0,Cj);var ng=hc.Da,Id=Math.max(ng.width+mg,0),og=Math.max(ng.height+lh,0);e.width+=Id;e.height=Math.max(e.height,og)}}}var fi=
ge.length;if(0!==fi){this.Aa.height?Lf=Math.min(this.Aa.height,this.he.height):0!==e.height&&(Lf=Math.min(e.height,this.he.height));for(he=0;he<fi;he++)if(hc=ge[he],hc.visible||hc===this.Ub)Hd=hc.margin,mg=Hd.right+Hd.left,lh=Hd.top+Hd.bottom,Dh(hc,Infinity,Lf,0,Cj),ng=hc.Da,Id=Math.max(ng.width+mg,0),og=Math.max(ng.height+lh,0),e.width+=Id,e.height=Math.max(e.height,og)}break;case "Spot":a:{var pg=a,qg=b,Dj=c,Ej=d,Jd=Rj(this,l,m),tb=Jd.margin,ie,rg,gi=tb.right+tb.left,hi=tb.top+tb.bottom;Dh(Jd,pg,
qg,Dj,Ej);var Gb=Jd.Da,Kd=Gb.width,Ld=Gb.height,Md=Math.max(Kd+gi,0),Je=Math.max(Ld+hi,0);e.x=-tb.left;e.y=-tb.top;e.width=Md;e.height=Je;for(var pb=0;pb<m;pb++){var yb=l.o[pb];if(yb!==Jd&&(yb.visible||yb===this.Ub)){tb=yb.margin;ie=tb.right+tb.left;rg=tb.top+tb.bottom;Dh(yb,pg,qg,0,0);var Gb=yb.Da,Md=Math.max(Gb.width+ie,0),Je=Math.max(Gb.height+rg,0),ic=yb.Jb;Bb(ic)&&(ic=this.Tj);wb(ic)||(ic=Lb);var Mc=yb.Kj;Bb(Mc)&&(Mc=Lb);e.cc(ic.x*Kd+ic.offsetX-(Mc.x*Gb.width-Mc.offsetX)-tb.left,ic.y*Ld+ic.offsetY-
(Mc.y*Gb.height-Mc.offsetY)-tb.top,Md,Je)}}var mh=Jd.Xh;mh===Xg&&(mh=rj(Jd));switch(mh){case lj:break a;case Wc:if(!isFinite(pg)&&!isFinite(qg))break a;break;case nj:if(!isFinite(pg))break a;break;case mj:if(!isFinite(qg))break a}Gb=Jd.Da;Kd=Gb.width;Ld=Gb.height;Md=Math.max(Kd+gi,0);Je=Math.max(Ld+hi,0);tb=Jd.margin;e.x=-tb.left;e.y=-tb.top;e.width=Md;e.height=Je;for(pb=0;pb<m;pb++)if(yb=l.o[pb],yb!==Jd&&(yb.visible||yb===this.Ub))tb=yb.margin,ie=tb.right+tb.left,rg=tb.top+tb.bottom,Gb=yb.Da,Md=
Math.max(Gb.width+ie,0),Je=Math.max(Gb.height+rg,0),ic=yb.Jb,Bb(ic)&&(ic=this.Tj),wb(ic)||(ic=Lb),Mc=yb.Kj,Bb(Mc)&&(Mc=Lb),e.cc(ic.x*Kd+ic.offsetX-(Mc.x*Gb.width-Mc.offsetX)-tb.left,ic.y*Ld+ic.offsetY-(Mc.y*Gb.height-Mc.offsetY)-tb.top,Md,Je)}break;case "Auto":var Ke=a,Le=b,sg=c,tg=d,Hb=Rj(this,l,m),je=Hb.margin,nh=je.right+je.left,Me=je.top+je.bottom;Dh(Hb,Ke,Le,sg,tg);var kd=Hb.Da,ug=Math.max(kd.width+nh,0),vg=Math.max(kd.height+Me,0),Nd=(new K).Hm(0,0,ug,vg,Tk(Hb)),Fj=(new K).Hm(0,0,ug,vg,Uk(Hb)),
ii=new L(Nd,Fj),ji=Ke,Ne=Le;isFinite(Ke)&&(ji=ii.width);isFinite(Le)&&(Ne=ii.height);for(var Oe=new cb(0,0),Mf=0;Mf<m;Mf++){var Od=l.o[Mf];if(Od!==Hb&&(Od.visible||Od===this.Ub)){var je=Od.margin,pf=je.right+je.left,jc=je.top+je.bottom;Dh(Od,ji,Ne,sg,tg);kd=Od.Da;ug=Math.max(kd.width+pf,0);vg=Math.max(kd.height+jc,0);Oe=new cb(Math.max(ug,Oe.width),Math.max(vg,Oe.height))}}if(1===m)e.width=ug,e.height=vg;else{var ld=Tk(Hb),Nf=Uk(Hb),md,Of;Nf.x!==ld.x&&Nf.y!==ld.y&&(md=Oe.width/Math.abs(Nf.x-ld.x),
Of=Oe.height/Math.abs(Nf.y-ld.y));var Pf=0;Hb instanceof V&&(Pf=Hb.eb*Hb.scale);md+=Math.abs(ld.offsetX)+Math.abs(Nf.offsetX)+Pf;Of+=Math.abs(ld.offsetY)+Math.abs(Nf.offsetY)+Pf;var ke=Hb.Xh;ke===Xg&&(ke=rj(Hb));switch(ke){case lj:tg=sg=0;break;case Wc:isFinite(Ke)&&(md=Ke);isFinite(Le)&&(Of=Le);break;case nj:isFinite(Ke)&&(md=Ke);tg=0;break;case mj:sg=0,isFinite(Le)&&(Of=Le)}Hb instanceof V&&(Hb.Ah?Hb.tk=p:Hb.La=p);Uj(Hb);Dh(Hb,md,Of,sg,tg);e.width=Hb.Da.width+nh;e.height=Hb.Da.height+Me}break;case "Table":for(var le=
a,qf=b,zb=m,wg=c,jb=d,rf=[],me=[],ta=0;ta<zb;ta++){var ua=l.o[ta];if(ua instanceof G&&(ua.type===yj||ua.type===zj)&&ua.visible){me.push(ua);for(var Gj=ua.ya,El=Gj.length,vc=0;vc<El;vc++){var xg=Gj.o[vc];ua.type===yj?xg.sc=ua.sc:ua.type===zj&&(xg.Kc=ua.Kc);rf.push(xg)}}else rf.push(ua)}for(var zb=rf.length,pc=[],ta=0;ta<zb;ta++)ua=rf[ta],ua.fc=h,ua.Qc=h,pc[ua.sc]||(pc[ua.sc]=[]),pc[ua.sc][ua.Kc]||(pc[ua.sc][ua.Kc]=[]),pc[ua.sc][ua.Kc].push(ua);for(var ki=[],oh=[],yg=[],Ib={count:0},ne={count:0},nd=
le,kc=qf,Yc=this.Me,zb=Yc.length,ta=0;ta<zb;ta++){var wa=Yc[ta];wa!==f&&Vk(wa,0)}Yc=this.Ee;zb=Yc.length;for(ta=0;ta<zb;ta++)wa=Yc[ta],wa!==f&&Vk(wa,0);for(var Bc,Qf=pc.length,ta=0;ta<Qf;ta++)if(pc[ta]){var Hj=pc[ta].length,kb=this.ee(ta);Vk(kb,0);for(vc=0;vc<Hj;vc++)if(pc[ta][vc]){var gb=this.de(vc);ki[vc]===f&&(Vk(gb,0),ki[vc]=h);for(var Ij=pc[ta][vc],ph=Ij.length,Rf=0;Rf<ph;Rf++)if(ua=Ij[Rf],ua.visible||ua===this.Ub)if(1<ua.Qk||1<ua.sk)oh.push(ua);else{var vd=Wj(ua,kb,gb);if(vd!==lj&&!ua.Aa.R())Ib[vc]===
f&&(Ib[vc]=-1,Ib.count++),ne[ta]===f&&(ne[ta]=-1,ne.count++),yg.push(ua),Dh(ua,Infinity,Infinity,wg,jb);else{var Sf=isFinite(gb.width)?gb.width:le,Tf=isFinite(kb.height)?kb.height:qf,Jb=new cb(Math.max(gb.pg,Math.min(Sf,gb.ie)),Math.max(kb.pg,Math.min(Tf,kb.ie))),nb=ua.margin,oe=nb.right+nb.left,od=nb.top+nb.bottom;Dh(ua,Infinity,Infinity,wg,jb);var wc=ua.Da,Pe=Math.max(wc.width+oe,0),sf=Math.max(wc.height+od,0),wa=this.ee(ta);Bc=Math.max(sf-wa.ab,0);Bc>kc&&(Bc=kc);Vk(wa,wa.ab+Bc);kc=Math.max(kc-
Bc,0);wa=this.de(vc);Bc=Math.max(Pe-wa.ab,0);Bc>nd&&(Bc=nd);Vk(wa,wa.ab+Bc);nd=Math.max(nd-Bc,0)}}}}for(var pe=0,qe=0,zb=this.yv,ta=0;ta<zb;ta++)this.Ee[ta]!==f&&(pe+=this.de(ta).ab);zb=this.lw;for(ta=0;ta<zb;ta++)this.Me[ta]!==f&&(qe+=this.ee(ta).ab);nd=Math.max(le-pe,0);kc=Math.max(qf-qe,0);zb=yg.length;for(ta=0;ta<zb;ta++){var ua=yg[ta],kb=this.ee(ua.sc),gb=this.de(ua.Kc),li=ua.Da,nb=ua.margin,oe=nb.right+nb.left,od=nb.top+nb.bottom;Ib[ua.Kc]=Math.max(li.width+oe-gb.rd,0);ne[ua.sc]=Math.max(li.height+
od-kb.rd,0)}var Oc=0,Uf=0;for(ta in ne)"count"!==ta&&(Oc+=ne[ta]);for(ta in Ib)"count"!==ta&&(Uf+=Ib[ta]);for(ta=0;ta<zb;ta++)if(ua=yg[ta],ua.visible||ua===this.Ub){kb=this.ee(ua.sc);gb=this.de(ua.Kc);Sf=isFinite(gb.width)?gb.width:isFinite(nd)?gb.rd+Ib[ua.Kc]/Uf*nd:gb.rd||nd;Tf=isFinite(kb.height)?kb.height:isFinite(kc)?kb.rd+ne[ua.sc]/Oc*kc:kb.rd||kc;Jb=new cb(Math.max(gb.pg,Math.min(Sf,gb.ie)),Math.max(kb.pg,Math.min(Tf,kb.ie)));vd=Wj(ua,kb,gb);switch(vd){case nj:Jb.height=Infinity;break;case mj:Jb.width=
Infinity}nb=ua.margin;oe=nb.right+nb.left;od=nb.top+nb.bottom;Uj(ua);Dh(ua,Jb.width,Jb.height,gb.pg,kb.pg);var wc=ua.Da,Pe=Math.max(wc.width+oe,0),sf=Math.max(wc.height+od,0),tf;tf=kb.rd;Vk(kb,Math.max(kb.ab,sf));Bc=kb.rd-tf;kc=Math.max(kc-Bc,0);tf=gb.rd;Vk(gb,Math.max(gb.ab,Pe));Bc=gb.rd-tf;nd=Math.max(nd-Bc,0)}zb=oh.length;for(ta=0;ta<zb;ta++)if(ua=oh[ta],ua.visible||ua===this.Ub){kb=this.ee(ua.sc);gb=this.de(ua.Kc);Jb=new cb(Math.max(gb.pg,Math.min(le,gb.ie)),Math.max(kb.pg,Math.min(qf,kb.ie)));
vd=Wj(ua,kb,gb);switch(vd){case Wc:0!==gb.rd&&(Jb.width=Math.min(Jb.width,gb.rd));0!==kb.rd&&(Jb.height=Math.min(Jb.height,kb.rd));break;case nj:0!==gb.rd&&(Jb.width=Math.min(Jb.width,gb.rd));break;case mj:0!==kb.rd&&(Jb.height=Math.min(Jb.height,kb.rd))}isFinite(gb.width)&&(Jb.width=gb.width);isFinite(kb.height)&&(Jb.height=kb.height);for(var Pc=new cb(0,0),lc=1;lc<ua.Qk&&!(ua.sc+lc>=this.lw);lc++)wa=this.ee(ua.sc+lc),Pc.height+=Math.max(wa.pg,isNaN(wa.wf)?wa.ie:Math.min(wa.wf,wa.ie));for(lc=1;lc<
ua.sk&&!(ua.Kc+lc>=this.yv);lc++)wa=this.de(ua.Kc+lc),Pc.width+=Math.max(wa.pg,isNaN(wa.wf)?wa.ie:Math.min(wa.wf,wa.ie));Jb.width+=Pc.width;Jb.height+=Pc.height;nb=ua.margin;oe=nb.right+nb.left;od=nb.top+nb.bottom;Dh(ua,Jb.width,Jb.height,wg,jb);for(var wc=ua.Da,Pe=Math.max(wc.width+oe,0),sf=Math.max(wc.height+od,0),Vf=0,lc=0;lc<ua.Qk;lc++)wa=this.ee(ua.sc+lc),Vf+=wa.ab||0;if(Vf<sf)for(var pd=sf-Vf;0<pd;){var re=wa.ab||0;isNaN(wa.height)&&wa.ie>re&&(Vk(wa,Math.min(wa.ie,re+pd)),wa.ab!==re&&(pd-=wa.ab-
re));if(-1===wa.index-1)break;wa=this.ee(wa.index-1)}for(var Qe=0,lc=0;lc<ua.sk;lc++)wa=this.de(ua.Kc+lc),Qe+=wa.ab||0;if(Qe<Pe)for(pd=Pe-Qe;0<pd;){re=wa.ab||0;isNaN(wa.width)&&wa.ie>re&&(Vk(wa,Math.min(wa.ie,re+pd)),wa.ab!==re&&(pd-=wa.ab-re));if(-1===wa.index-1)break;wa=this.de(wa.index-1)}}for(var Pd=0,se=0,vd=rj(this),zg=this.Aa,Ag=this.he,Qc=qe=pe=0,Qd=0,zb=this.yv,ta=0;ta<zb;ta++)this.Ee[ta]!==f&&(wa=this.de(ta),isFinite(wa.width)?Qc+=wa.width:Wk(wa)===Xk?Qc+=wa.ab:pe+=wa.ab);var Pd=isFinite(zg.width)?
Math.min(zg.width,Ag.width):vd!==lj&&isFinite(le)?le:pe,Pd=Math.max(Pd,this.Ae.width),Pd=Math.max(Pd-Qc,0),Cg=Math.max(Pd/pe,1);isFinite(Cg)||(Cg=1);for(ta=0;ta<zb;ta++)this.Ee[ta]!==f&&(wa=this.de(ta),!isFinite(wa.width)&&Wk(wa)!==Xk&&Vk(wa,wa.ab*Cg),wa.nb=e.width,e.width+=wa.ab);zb=this.lw;for(ta=0;ta<zb;ta++)this.Me[ta]!==f&&(wa=this.ee(ta),isFinite(wa.height)?Qd+=wa.height:Wk(wa)===Xk?Qd+=wa.ab:qe+=wa.ab);var se=isFinite(zg.height)?Math.min(zg.height,Ag.height):vd!==lj&&isFinite(qf)?qf:qe,se=
Math.max(se,this.Ae.height),se=Math.max(se-Qd,0),Wf=Math.max(se/qe,1);isFinite(Wf)||(Wf=1);for(ta=0;ta<zb;ta++)this.Me[ta]!==f&&(wa=this.ee(ta),!isFinite(wa.height)&&Wk(wa)!==Xk&&Vk(wa,wa.ab*Wf),wa.nb=e.height,e.height+=wa.ab);zb=me.length;for(ta=0;ta<zb;ta++){var Cc=me[ta];Cc.type===yj?(Sf=e.width,wa=this.ee(Cc.sc),Tf=wa.rd):(wa=this.de(Cc.Kc),Sf=wa.rd,Tf=e.height);Cc.cd.W(0,0,Sf,Tf);Cc.fc=q;pc[Cc.sc]||(pc[Cc.sc]=[]);pc[Cc.sc][Cc.Kc]||(pc[Cc.sc][Cc.Kc]=[]);pc[Cc.sc][Cc.Kc].push(Cc)}this.IF=pc;break;
case "Viewbox":var uf=a,Rd=b,qh=c,rh=d;1<m&&x.m("Viewbox Panel cannot contain more than one GraphObject.");var dc=l.o[0];dc.Yb=1;Uj(dc);Dh(dc,Infinity,Infinity,qh,rh);var mi=dc.Da,Kj=dc.margin,lo=Kj.right+Kj.left,mo=Kj.top+Kj.bottom;if(isFinite(uf)||isFinite(Rd)){var fq=dc.scale,no=mi.width,oo=mi.height,po=Math.max(uf-lo,0),qo=Math.max(Rd-mo,0);dc.Yb=this.On===Yg?dc.Yb*Math.min(po/no,qo/oo):dc.Yb*Math.max(po/no,qo/oo);fq!==dc.scale&&(dc.fc=h,Dh(dc,Infinity,Infinity,qh,rh))}mi=dc.Da;e.width=isFinite(uf)?
uf:Math.max(mi.width+lo,0);e.height=isFinite(Rd)?Rd:Math.max(mi.height+mo,0);break;case "Link":var ro=this instanceof We?this.Vk:this;if(0===m){var Lj=this.Rc;db(Lj,0,0);var qd=this.Da;qd.W(0,0,0,0)}else{var Mj=this.Xp(),te=this.ki(),ue=te.copy();ue.x=0;ue.y=0;var Dg,sh=this.Dx();Dg=this.ma!==f?this.ma:sh.count;for(var Nj=new K(Infinity,Infinity),Eg=0;Eg<Dg;Eg++){var so=sh.o[Eg];Nj.x=Math.min(so.x,Nj.x);Nj.y=Math.min(so.y,Nj.y)}this.wj=new K(te.x,te.y);this.ci.clear();Mj!==p&&(Yk(Mj,te.width,te.height),
qd=Mj.Da,ue.cj(qd),this.ci.add(qd));for(var Fg=p,Xf=p,vf=p,Eg=0;Eg<m;Eg++){var Wb=l.o[Eg];if(Wb!==Mj)if(Wb.Qh&&Wb instanceof V)Yk(Wb,te.width,te.height),qd=Wb.Da,ue.cj(qd),this.ci.add(qd);else if(2>Dg)Dh(Wb,Infinity,Infinity),qd=Wb.Da,ue.cj(qd),this.ci.add(qd);else{Fg===p&&(Fg=new Ya,Xf=new K,vf=new K);var wf=Wb.Vh,uo=Wb.nA,Fl=Wb.Kj;Ab(Fl)&&(Fl=Lb);var Oj=Wb.Ys,gq=Wb.oA,ni,oi,Pj=0;if(wf<-Dg||wf>=Dg){var vo=ro.lE,Qj=ro.kE;Oj!==kj&&(Pj=Zk(Oj,Qj),Wb.angle=Pj);ni=vo.x-te.x;oi=vo.y-te.y}else{var Re,th;
if(0<=wf)Re=sh.o[wf],th=wf<Dg-1?sh.o[wf+1]:Re;else{var Gl=Dg+wf;Re=sh.o[Gl];th=0<Gl?sh.o[Gl-1]:Re}Qj=0<=wf?Re.Oi(th):th.Oi(Re);Oj!==kj&&(Pj=Zk(Oj,Qj),Wb.tc=Pj);ni=Re.x+(th.x-Re.x)*uo-te.x;oi=Re.y+(th.y-Re.y)*uo-te.y}Dh(Wb,Infinity,Infinity);var qd=Wb.Da,Lj=Wb.Ma,pi=0;Wb instanceof V&&(pi=Wb.eb);var wo=Lj.width+pi,xo=Lj.height+pi;Fg.reset();Fg.translate(-qd.x,-qd.y);Fg.scale(Wb.scale,Wb.scale);Fg.rotate(Wb.angle,wo/2,xo/2);var yo=new L(0,0,wo,xo);Xf.Wo(yo,Fl);Fg.Xa(Xf);var hq=-Xf.x+pi/2,iq=-Xf.y+pi/
2;vf.set(gq);isNaN(vf.x)&&(vf.x=0<=wf?Xf.x+3:-(Xf.x+3));isNaN(vf.y)&&(vf.y=-(Xf.y+3));vf.rotate(Qj);ni+=vf.x;oi+=vf.y;var qi=yo;qi.set(qd);qi.x=ni+hq;qi.y=oi+iq;this.ci.add(qi);ue.cj(qi)}}if(this.Je)for(var zo=this.Yi;zo.next();)Dh(zo.value,Infinity,Infinity);this.cc=ue;var Sj=this.wj;Sj&&Sj.W(Sj.x+ue.x,Sj.y+ue.y);db(e,ue.width||0,ue.height||0)}break;case "Grid":break;case "TableRow":case "TableColumn":x.m(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");
break;default:x.m("Unknown panel type: "+r)}var Sd=e.width,Td=e.height,Tj=this.padding,jq=Tj.top+Tj.bottom,Sd=Sd+(Tj.left+Tj.right),Td=Td+jq;isFinite(g.width)&&(Sd=g.width);isFinite(g.height)&&(Td=g.height);Sd=Math.min(j.width,Sd);Td=Math.min(j.height,Td);Sd=Math.max(i.width,Sd);Td=Math.max(i.height,Td);Sd=Math.max(c,Sd);Td=Math.max(d,Td);e.width=Sd;e.height=Td;n=this.Rc;db(n,Sd,Td);oj(this,0,0,Sd,Td)}};
function Rj(a,b,c){for(var d=0;d<c;d++){var e=b.o[d];if(e.Qh===h)return a.bm=e}b=b.o[0];return a.bm=b}
G.prototype.Pj=function(a,b,c,d){var e=this.cc,g=this.ya,i=g.length,j=this.KF;j.reset();if(0===i){var k=this.za;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.Aa.R()){var l=rj(this),m=this.cd,n=m.width,r=m.height,s=this.margin,v=s.left+s.right,y=s.top+s.bottom;n===c&&r===d&&(l=lj);switch(l){case lj:if(n>c||r>d)this.T(),Dh(this,n>c?c:n,r>d?d:r);break;case Wc:this.fc=h;Dh(this,c+v,d+y,0,0);break;case nj:this.fc=h;Dh(this,c+v,r+y,0,0);break;case mj:this.fc=h,Dh(this,n+v,d+y,0,0)}}k=this.za;k.x=a;k.y=
b;k.width=c;k.height=d;var C=this.V.Hb;switch(C){case "Position":for(var D=e.x-this.padding.left,I=e.y-this.padding.top,E=0;E<i;E++){var M=g.o[E],O=M.Da,X=M.margin,sa=M.position.x,ka=M.position.y;j.x=isNaN(sa)?-D:sa-D;j.y=isNaN(ka)?-I:ka-I;if(M instanceof V&&M.Gz){var va=M.eb/2;j.x-=va;j.y-=va}j.x+=X.left;j.y+=X.top;j.width=O.width;j.height=O.height;M.visible&&M.Jc(j.x,j.y,j.width,j.height)}break;case "Vertical":for(var Fa=this.padding.left,Ga=this.padding.top,Za=0;Za<i;Za++){var qb=Fa,Wa=g.o[Za],
Ia=Wa.Da,eb=Wa.margin,Va=eb.left+eb.right,mb=Fa+this.padding.right,Ed=Ia.width,ff=rj(Wa);if(isNaN(Wa.Aa.width)&&ff===Wc||ff===nj)Ed=Math.max(e.width-Va-mb,0);var ce=Ed+Va+mb,cc=Wa.Jb;Bb(cc)&&(cc=this.Tj);wb(cc)||(cc=Lb);j.x=qb+cc.offsetX+eb.left+(e.width*cc.x-ce*cc.x);j.y=Ga+cc.offsetY+eb.top;j.width=Ed;j.height=Ia.height;Wa.visible&&(Wa.Jc(j.x,j.y,j.width,j.height),Ga+=Ia.height+eb.bottom+eb.top)}break;case "Horizontal":for(var Fd=this.padding.top,gf=this.padding.left,Lf=0;Lf<i;Lf++){var Cj=Fd,ge=
g.o[Lf],he=ge.Da,hc=ge.margin,ei=hc.top+hc.bottom,Hd=Fd+this.padding.bottom,mg=he.height,lh=rj(ge);if(isNaN(ge.Aa.height)&&lh===Wc||lh===mj)mg=Math.max(e.height-ei-Hd,0);var ng=mg+ei+Hd,Id=ge.Jb;Bb(Id)&&(Id=this.Tj);wb(Id)||(Id=Lb);j.x=gf+Id.offsetX+hc.left;j.y=Cj+Id.offsetY+hc.top+(e.height*Id.y-ng*Id.y);j.width=he.width;j.height=mg;ge.visible&&(ge.Jc(j.x,j.y,j.width,j.height),gf+=he.width+hc.left+hc.right)}break;case "Spot":var og=Rj(this,g,i),fi=og.Da,pg=fi.width,qg=fi.height,Dj=this.padding,Ej=
Dj.left,Jd=Dj.top;j.x=Ej-e.x;j.y=Jd-e.y;og.Jc(j.x,j.y,pg,qg);for(var tb=0;tb<i;tb++){var ie=g.o[tb];if(ie!==og){var rg=ie.Da,gi=rg.width,hi=rg.height,Gb=ie.Jb;Bb(Gb)&&(Gb=this.Tj);wb(Gb)||(Gb=Lb);var Kd=ie.Kj;Bb(Kd)&&(Kd=Lb);j.x=Gb.x*pg+Gb.offsetX-(Kd.x*gi-Kd.offsetX);j.y=Gb.y*qg+Gb.offsetY-(Kd.y*hi-Kd.offsetY);j.x-=e.x;j.y-=e.y;ie.visible&&ie.Jc(Ej+j.x,Jd+j.y,gi,hi)}}break;case "Auto":var Ld=Rj(this,g,i),Md=Ld.Da,Je=new L(0,0,Md.width,Md.height),pb=new L(0,0,1,1),yb=Ld.margin,ic=yb.left,Mc=yb.top,
mh=this.padding,Ke=mh.left,Le=mh.top;j.x=ic;j.y=Mc;j.width=Md.width;j.height=Md.height;Ld.Jc(Ke+j.x,Le+j.y,j.width,j.height);var sg=Tk(Ld),tg=Uk(Ld),Hb=(new K).Wo(Je,sg),je=(new K).Wo(Je,tg);pb.x=Hb.x;pb.y=Hb.y;pb.xw(je);pb.x+=ic+Ke;pb.y+=Mc+Le;for(var nh=0;nh<i;nh++){var Me=g.o[nh];if(Me!==Ld){var kd=Me.Da,yb=Me.margin,ug=Math.max(kd.width+yb.right+yb.left,0),vg=Math.max(kd.height+yb.top+yb.bottom,0),Nd=Me.Jb;Bb(Nd)&&(Nd=this.Tj);wb(Nd)||(Nd=Lb);j.x=pb.width*Nd.x+Nd.offsetX-ug*Nd.x+yb.left+pb.x;
j.y=pb.height*Nd.y+Nd.offsetY-vg*Nd.y+yb.top+pb.y;j.width=pb.width;j.height=pb.height;Me.visible&&(lb(pb.x,pb.y,pb.width,pb.height,j.x,j.y,kd.width,kd.height)?Me.Jc(j.x,j.y,kd.width,kd.height):Me.Jc(j.x,j.y,kd.width,kd.height,new L(pb.x,pb.y,pb.width,pb.height)))}}break;case "Table":for(var Fj=this.padding,ii=Fj.left,ji=Fj.top,Ne=this.IF,Oe,Mf,Od=Ne.length,pf=0,jc=0;jc<Od;jc++)Ne[jc]&&(pf=Math.max(pf,Ne[jc].length));for(var ld=Math.min(this.Mn,Od-1);ld!==Od&&(this.Me[ld]===f||0===this.Me[ld].ab);)ld++;
for(var ld=Math.min(ld,Od-1),Nf=-this.Me[ld].nb,md=Math.min(this.qn,pf-1);md!==pf&&(this.Ee[md]===f||0===this.Ee[md].ab);)md++;for(var md=Math.min(md,pf-1),Of=-this.Ee[md].nb,jc=0;jc<Od;jc++)if(Ne[jc]){var pf=Ne[jc].length,Pf=this.ee(jc);Mf=Pf.nb+Nf+ji;for(var ke=0;ke<pf;ke++)if(Ne[jc][ke]){var le=this.de(ke);Oe=le.nb+Of+ii;for(var qf=Ne[jc][ke],zb=qf.length,wg=0;wg<zb;wg++){var jb=qf[wg],rf=jb.Da;if(jb instanceof G&&(jb.type===yj||jb.type===zj)){jb.ub.Na();var me=jb.ub;me.x=jb.type===yj?ii:Oe;me.y=
jb.type===zj?ji:Mf;me.width=rf.width;me.height=rf.height;jb.ub.freeze();jb.Qc=q}else{for(var ta=new cb(0,0),ua=1;ua<jb.rowSpan&&!(jc+ua>=this.lw);ua++){var Gj=this.ee(jc+ua);ta.height+=Gj.ab}for(ua=1;ua<jb.PC&&!(ke+ua>=this.yv);ua++){var El=this.de(ke+ua);ta.width+=El.ab}var vc=le.ab+ta.width,xg=Pf.ab+ta.height;j.x=Oe;j.y=Mf;j.width=vc;j.height=xg;var pc=Oe,ki=Mf,oh=vc,yg=xg,Ib=jb.Jb.copy();if(Bb(Ib)){Ib.Ya(this.Tj);wb(Ib)||Ib.Ya(Lb);var ne=le.Jb;wb(ne)&&(Ib.x=ne.x,Ib.offsetX=ne.offsetX);var nd=Pf.Jb;
wb(nd)&&(Ib.y=nd.y,Ib.offsetY=nd.offsetY)}wb(Ib)||(Ib=Lb);var kc=rf.width,Yc=rf.height,wa=jb.he,Bc=jb.Ae,kc=Math.min(wa.width,kc),Yc=Math.min(wa.height,Yc),kc=Math.max(Bc.width,kc),Yc=Math.max(Bc.height,Yc),Qf=jb.margin,Hj=Qf.left+Qf.right,kb=Qf.top+Qf.bottom,gb=Wj(jb,Pf,le);if(isNaN(jb.Aa.width)&&gb===Wc||gb===nj)kc=Math.max(vc-Hj,0);if(isNaN(jb.Aa.height)&&gb===Wc||gb===mj)Yc=Math.max(xg-kb,0);var Ij=Yc+kb;j.x+=j.width*Ib.x-(kc+Hj)*Ib.x+Ib.offsetX+Qf.left;j.y+=j.height*Ib.y-Ij*Ib.y+Ib.offsetY+Qf.top;
jb.visible&&(lb(pc,ki,oh,yg,j.x,j.y,kc,Yc)?jb.Jc(j.x,j.y,kc,Yc):jb.Jc(j.x,j.y,kc,Yc,new L(pc,ki,oh,yg)))}}}}for(jc=0;jc<i;jc++)if(jb=g.o[jc],jb instanceof G&&(jb.type===yj||jb.type===zj))me=jb.ub,jb.Rc.Na(),jb.Rc.Xo(0,0,me.width,me.height),jb.Rc.freeze();break;case "Viewbox":var ph=g.o[0],Rf=ph.Da,vd=ph.margin,Sf=vd.top+vd.bottom,Tf=Math.max(Rf.width+(vd.right+vd.left),0),Jb=Math.max(Rf.height+Sf,0),nb=ph.Jb;Bb(nb)&&(nb=this.Tj);wb(nb)||(nb=Lb);j.x=e.width*nb.x-Tf*nb.x+nb.offsetX;j.y=e.height*nb.y-
Jb*nb.y+nb.offsetY;j.width=Rf.width;j.height=Rf.height;ph.Jc(j.x,j.y,j.width,j.height);break;case "Link":var oe=this.Xp(),od=0;if(oe!==p&&od<this.ci.count){var wc=this.ci.o[od];od++;oe.Jc(wc.x-this.cc.x,wc.y-this.cc.y,wc.width,wc.height)}for(var Pe=0;Pe<i;Pe++){var sf=g.o[Pe];sf!==oe&&od<this.ci.count&&(wc=this.ci.o[od],od++,sf.Jc(wc.x-this.cc.x,wc.y-this.cc.y,wc.width,wc.height))}var pe=this.Dx(),qe=pe.count;if(2<=qe&&this.Je)for(var li=this.Yi;li.next();){var Oc=li.value,Uf=qe,tf=pe,Pc=Oc.Vh,lc=
Oc.nA,Vf=Oc.Kj;Ab(Vf)&&(Vf=Lb);var pd=Oc.Ys,re=Oc.oA,Qe=f,Pd=f,se=0;if(Pc<-Uf||Pc>=Uf){var zg=this.lE,Ag=this.kE;pd!==kj&&(se=Zk(pd,Ag),Oc.angle=se);Qe=zg.x;Pd=zg.y}else{var Qc=f,Qd=f;if(0<=Pc)Qc=tf.o[Pc],Qd=Pc<Uf-1?tf.o[Pc+1]:Qc;else var Cg=Uf+Pc,Qc=tf.o[Cg],Qd=0<Cg?tf.o[Cg-1]:Qc;Ag=0<=Pc?Qc.Oi(Qd):Qd.Oi(Qc);pd!==kj&&(se=Zk(pd,Ag),Oc.angle=se);Qe=Qc.x+(Qd.x-Qc.x)*lc;Pd=Qc.y+(Qd.y-Qc.y)*lc}var Wf=new Ya;Wf.scale(Oc.scale,Oc.scale);Wf.rotate(Oc.angle,0,0);var Cc=Oc.Ma,uf=new L(0,0,Cc.width,Cc.height),
Rd=new K;Rd.Wo(uf,Vf);Wf.Xa(Rd);var qh=-Rd.x,rh=-Rd.y,dc=re.copy();isNaN(dc.x)&&(dc.x=0<=Pc?Rd.x+3:-(Rd.x+3));isNaN(dc.y)&&(dc.y=-(Rd.y+3));dc.rotate(Ag);Qe+=dc.x;Pd+=dc.y;Wf.jF(uf);qh+=uf.x;rh+=uf.y;Oc.position=new K(Qe+qh,Pd+rh)}this.bw();break;case "Grid":break;case "TableRow":case "TableColumn":x.m(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:x.m("Unknown panel type: "+C)}}};
G.prototype.Qj=function(a){var b=this.Ma;if(lb(0,0,b.width,b.height,a.x,a.y)){for(var c=this.ya.length,b=new K;c--;){var d=this.ya.o[0];if(d.visible||d===this.Ub)if($a(b.set(a),d.transform),d.Ca(b))return h}return this.Ce===p&&this.Be===p?q:h}return q};function $k(a,b,c){c(a,b);if(b instanceof G)for(b=b.elements;b.next();)$k(a,b.value,c)}function Mi(a,b,c){c(b);for(b=b.elements;b.next();){var d=b.value;d instanceof G&&Mi(a,d,c)}}
function al(a,b,c){if(c(b))return b;if(b instanceof G)for(b=b.elements;b.next();){var d=al(a,b.value,c);if(d!==p)return b.Mg(),d}return p}G.prototype.findObject=G.prototype.Te=function(a){if(this.name===a)return this;for(var b=this.elements;b.next();){var c=b.value;if(c.name===a)return c;if(c instanceof G&&!c.yH()&&(c=c.Te(a),c!==p))return c}return p};function af(a,b){for(var c=a.elements;c.next();){var d=c.value;if(b(d))return d;if(d instanceof G&&(d=af(d,b),d!==p))return d}return p}da=G.prototype;
da.Zh=function(){return!(this.type===yj||this.type===zj)};
da.vd=function(a,b,c){if(this.Zf===q)return p;b===f&&(b=p);c===f&&(c=p);if(this.Qc)return p;var d=this.Ma,e=1/this.hl(),g=this.Zh()?a:$a((new K).set(a),this.transform);if(lb(-(5*e),-(5*e),d.width+10*e,d.height+10*e,g.x,g.y)){if(!this.th)for(var i=this.ya.length,e=new K;i--;){var j=this.ya.o[i];if(j.visible||j===this.Ub){j.Zh()?$a(e.set(a),j.transform):e.set(a);var k=p;j instanceof G?k=j.vd(e,b,c):j.Zf===h&&j.Ca(e)&&(k=j);if(k!==p&&(b!==p&&(k=b(k)),k&&(c===p||c(k))))return k}}return this.background===
p&&this.Nj===p?p:lb(0,0,d.width,d.height,g.x,g.y)?this:p}return p};
da.po=function(a,b,c,d){if(this.Zf===q)return q;b===f&&(b=p);c===f&&(c=p);!(d instanceof H)&&!(d instanceof qa)&&(d=new H(U));var e=this.Ma,g=this.Zh()?a:$a((new K).set(a),this.transform);if(lb(0,0,e.width,e.height,g.x,g.y)){if(!this.th){g=this.ya.length;for(e=new K;g--;){var i=this.ya.o[g];if(i.visible||i===this.Ub)if(i.Zh()?$a(e.set(a),i.transform):e.set(a),(i instanceof G?i.po(e,b,c,d):i.Ca(e))&&i.Zf!==q)b!==p&&(i=b(i)),i&&(c===p||c(i))&&d.add(i)}}return this.background!==p||this.Nj!==p}return q};
da.um=function(a,b,c,d,e,g){if(this.Zf===q)return q;g===f&&(g=new Ya);b===f&&(b=p);c===f&&(c=p);g.multiply(this.transform);if(this.Dv(a,g))return qj(this,b,c,e),h;if(this.We(a,g)){if(!this.th)for(var i=this.ya.length;i--;){var j=this.ya.o[i];if(j.visible||j===this.Ub){var k=j.za,l=this.za;if(!(k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height)){if(j instanceof G)k=j.um(a,b,c,d,e,g.copy());else{var k=j,l=a,m=d,n=g.copy();k.Zf===q?k=q:(n===f&&(n=new Ya),n.multiply(k.transform),k=m?k.We(l,n):
k.Dv(l,n))}k&&(b!==p&&(j=b(j)),j&&(c===p||c(j))&&e.add(j))}}}return d}return q};
da.qo=function(a,b,c,d,e){if(this.Zf===q)return q;c===f&&(c=p);d===f&&(d=p);var g=this.Ma,i=this.Zh()?a:$a((new K).set(a),this.transform),j=this.Zh()?b:$a((new K).set(b),this.transform),j=i.qm(j);if(0<i.x&&i.x<g.width&&0<i.y&&i.y<g.height||ab(i.x,i.y,0,0,0,g.height)<j||ab(i.x,i.y,0,g.height,g.width,g.height)<j||ab(i.x,i.y,g.width,g.height,g.width,0)<j||ab(i.x,i.y,g.width,0,0,0)<j){if(!this.th){g=new K;i=new K;for(j=this.ya.length;j--;){var k=this.ya.o[j];if(k.visible||k===this.Ub){var l=k.za,m=this.za;
if(!(l.x>m.width||l.y>m.height||0>l.x+l.width||0>l.y+l.height))if(l=k.transform,k.Zh()?($a(g.set(a),l),$a(i.set(b),l)):(g.set(a),i.set(b)),k instanceof G?k.qo(g,i,c,d,e):k.sD(g,i))c!==p&&(k=c(k)),k&&(d===p||d(k))&&e.add(k)}}}return h}return q};function Tk(a){var b=a.v;if(b===f||b===Db)b=p;b===p&&a instanceof V&&(a=a.La,a!==p&&(b=a.v));b===p&&(b=Eb);return b}function Uk(a){var b=a.w;if(b===f||b===Db)b=p;b===p&&a instanceof V&&(a=a.La,a!==p&&(b=a.w));b===p&&(b=Ob);return b}
G.prototype.add=G.prototype.add=function(a){x.i(a,U,G,"add:element");this.Cc(this.ya.count,a)};G.prototype.elt=G.prototype.ia=function(a){return this.ya.ia(a)};
G.prototype.insertAt=G.prototype.Cc=function(a,b){b instanceof z&&x.m("Cannot add a Part to a Panel: "+b);if(this===b||this.Wi(b))this===b&&x.m("Cannot make a Panel contain itself: "+this.toString()),x.m("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.ea;c!==p&&c!==this&&x.m("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.V===ui&&!(b instanceof V)&&x.m("Can only add Shapes to a Grid Panel, not: "+b);b.ql(this);b.Zl=p;if(this.Fs!==p){var d=b.data;d!==p&&"object"===typeof d&&(this.Uf===p&&(this.Uf=new pa(Object,G)),this.Uf.add(d,b))}var e=this.ya,d=-1;if(c===this){for(var g=-1,i=e.count,j=0;j<i;j++)if(e.o[j]===b){g=j;break}if(-1!==g){if(g===a||g+1>=e.count&&a>=e.count)return;e.bf(g);d=g}else x.m("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>a||a>e.count)a=
e.count;e.Cc(a,b);this.T();b.T();c=this.fa;c!==p&&(e=this.h,e!==p&&e.xa.zb||(-1!==d&&c.Yc(Vd,"elements",this,b,p,d,p),c.Yc(Ud,"elements",this,p,b,p,a)))};G.prototype.remove=G.prototype.remove=function(a){x.i(a,U,G,"remove:element");for(var b=this.ya,c=b.count,d=-1,e=0;e<c;e++)if(b.o[e]===a){d=e;break}-1!==d&&this.xe(d)};G.prototype.removeAt=G.prototype.bf=function(a){u&&x.n(a,G,"removeAt:idx");0<=a&&this.xe(a)};
G.prototype.xe=function(a){var b=this.ya,c=b.ia(a);c.Zl=p;c.ql(p);if(this.Uf!==p){var d=c.data;"object"===typeof d&&this.Uf.remove(d)}b.bf(a);this.fc=q;this.T();b=this.fa;b!==p&&(d=this.h,d!==p&&d.xa.zb||b.Yc(Vd,"elements",this,c,p,a,p))};x.u(G,{lw:"rowCount"},function(){return this.Me.length});
G.prototype.getRowDefinition=G.prototype.ee=function(a){u&&x.n(a,G,"getRowDefinition:idx");0>a&&x.ta(a,">= 0",G,"getRowDefinition:idx");var a=Math.round(a),b=this.Me;if(b[a]===f){var c=new kk;c.ql(this);c.Ll=h;c.ha=a;b[a]=c}return b[a]};G.prototype.removeRowDefinition=G.prototype.kM=function(a){u&&x.n(a,G,"removeRowDefinition:idx");0>a&&x.ta(a,">= 0",G,"removeRowDefinition:idx");var a=Math.round(a),b=this.Me;b[a]&&(b[a]=f)};x.u(G,{yv:"columnCount"},function(){return this.Ee.length});
G.prototype.getColumnDefinition=G.prototype.de=function(a){u&&x.n(a,G,"getColumnDefinition:idx");0>a&&x.ta(a,">= 0",G,"getColumnDefinition:idx");var a=Math.round(a),b=this.Ee;if(b[a]===f){var c=new kk;c.ql(this);c.Ll=h;c.ha=a;b[a]=c}return b[a]};G.prototype.removeColumnDefinition=G.prototype.jM=function(a){u&&x.n(a,G,"removeColumnDefinition:idx");0>a&&x.ta(a,">= 0",G,"removeColumnDefinition:idx");var a=Math.round(a),b=this.Ee;b[a]&&(b[a]=f)};x.g(G,"rowSizing",G.prototype.NE);
x.defineProperty(G,{NE:"rowSizing"},t("mr"),function(a){var b=this.mr;b!==a&&(a!==Rk&&a!==Xk&&x.m("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.mr=a,this.T(),this.j("rowSizing",b,a))});x.g(G,"columnSizing",G.prototype.OC);
x.defineProperty(G,{OC:"columnSizing"},t("rp"),function(a){var b=this.rp;b!==a&&(a!==Rk&&a!==Xk&&x.m("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.rp=a,this.T(),this.j("columnSizing",b,a))});x.g(G,"topIndex",G.prototype.EA);x.defineProperty(G,{EA:"topIndex"},t("Mn"),function(a){var b=this.Mn;b!==a&&((!isFinite(a)||0>a)&&x.m("topIndex must be greater than zero and a real number. Was "+a),this.Mn=a,Jj(this),this.j("topIndex",b,a))});
x.g(G,"leftIndex",G.prototype.Mz);x.defineProperty(G,{Mz:"leftIndex"},t("qn"),function(a){var b=this.qn;b!==a&&((!isFinite(a)||0>a)&&x.m("leftIndex must be greater than zero and a real number. Was "+a),this.qn=a,Jj(this),this.j("leftIndex",b,a))});x.g(G,"data",G.prototype.data);
x.defineProperty(G,{data:"data"},t("Xm"),function(a){var b=this.Xm;if(b!==a){var c=this instanceof z&&!(this instanceof We);c&&x.k(a,"object",G,"data");Ye(this);this.Xm=a;var d=this.h;d!==p&&(c?this instanceof F?(b!==p&&d.vk.remove(b),a!==p&&d.vk.add(a,this)):(b!==p&&d.gi.remove(b),a!==p&&d.gi.add(a,this)):(c=this.ea,c!==p&&c.Uf!==p&&(b!==p&&c.Uf.remove(b),a!==p&&c.Uf.add(a,this))));this.j("data",b,a);d!==p&&d.xa.zb||a!==p&&this.Bb()}});function fk(a){a=a.yl;return a!==p&&a.gb}
function Ye(a){var b=a.yl;if(b===p)a.data!==p&&x.m("Template cannot have .data be non-null: "+a),a.yl=b=new H(De);else if(b.gb)return;var c=new H(U);$k(a,a,function(a,d){var e=d.uc;if(e!==p){d.Rm=q;for(var g=e.l;g.next();){e=g.value;e.mode===Fe&&(d.Rm=h);var i=e.ct;if(i!==p){var r=a;""!==i&&(r=a.Te(i));r!==p&&(c.add(r),r.Ar===f&&(r.Ar=new H(De)),r.Ar.add(e))}b.add(e)}}if(d instanceof G){if(0<d.Me.length){g=d.Me;i=g.length;for(r=0;r<i;r++){var s=g[r];if(s!==f&&s.uc!==p)for(var v=s.uc.l;v.next();)e=
v.value,e.dg=s,e.Ay=2,e.dv=s.index,b.add(e)}}if(0<d.Ee.length){g=d.Ee;i=g.length;for(r=0;r<i;r++)if(s=g[r],s!==f&&s.uc!==p)for(v=s.uc.l;v.next();)e=v.value,e.dg=s,e.Ay=1,e.dv=s.index,b.add(e)}}});for(var d=c.l;d.next();){var e=d.value;if(e.Ar!==f){e.Rm=h;for(var g=e.Ar.l;g.next();){var i=g.value;e.uc===p&&(e.uc=new H(De));e.uc.add(i)}}delete e.Ar}for(d=b.l;d.next();)e=d.value,g=e.dg,g!==p&&(e.dg=p,g===a?e.Jm="":(g instanceof kk&&(g=g.ea),e.Jm=""!==g.name?g.name:g.name="_"+x.ic(g)));b.freeze();a instanceof
z&&a.ge()&&(Dh(a,Infinity,Infinity),a.Jc())}
G.prototype.updateTargetBindings=G.prototype.Bb=function(a){var b=this.yl;if(b!==p){a===f&&(a="");for(b=b.l;b.next();){var c=b.value,d=c.vA;if(!(""!==a&&d!==a)&&(d=c.xA,!(c.SC===p&&""===d))){var d=this.data,e=c.ct;e!==p&&(d=this.Te(e));if(d===p)u&&x.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var e=this,g=c.Jm;if(""!==g){if(e=this.Te(g),e===p)continue}else c.dg!==p&&(e=c.dg);g=c.Ay;if(0!==g){if(!(e instanceof G))continue;1===g?e=e.de(c.dv):2===g&&(e=e.ee(c.dv))}e!==
f&&c.pF(e,d)}}}}};x.g(G,"itemArray",G.prototype.Fs);x.defineProperty(G,{Fs:"itemArray"},t("Ik"),function(a){var b=this.Ik;if(b!==a){u&&(a!==p&&!x.isArray(a))&&x.m("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.h;c!==p&&b!==p&&Pi(c,this);this.Ik=a;c!==p&&a!==p&&Ni(c,this);this.j("itemArray",b,a);c!==p&&c.xa.zb||this.fA()}});
G.prototype.rebuildItemElements=G.prototype.fA=function(){var a=0;if(this.type===Vg||this.type===Sh||this.type===Mg)a=1;for(;this.ya.length>a;)this.xe(a);a=this.Fs;if(a!==p)for(var b=x.Zb(a),c=0;c<b;c++)Th(this,x.Kb(a,c))};
function Th(a,b,c){if(!(b===f||b===p)){var d=a.getCategoryForItemData(b),e=a.findTemplateForItemData(b,d);e instanceof G&&(Ye(e),e=e.copy(),"object"===typeof b&&(a.Uf===p&&(a.Uf=new pa(Object,G)),a.Uf.add(b,e)),"number"===typeof c?((a.type===Vg||a.type===Sh)&&c++,a.Cc(c,e),bl(e,c),Uh(a,c)):(a.add(e),bl(e,a.ya.count-1)),e.Px=d,e.data=b)}}function Uh(a,b){for(var c=a.ya,d=b+1;d<c.length;){var e=c.ia(d);e instanceof G&&bl(e,d);d++}}function bl(a,b){a.type===yj?a.sc=b:a.type===zj&&(a.Kc=b)}
G.prototype.isItemPanel=G.prototype.yH=function(){return this.Ik!==p||this.Pg!==p};x.g(G,"itemTemplate",G.prototype.FH);x.defineProperty(G,{FH:"itemTemplate"},function(){return this.Pg===p?p:this.Pg.va("")},function(a){this.Pg===p&&(this.Pg=new pa("string",G));var b=this.Pg.va("");b!==a&&(x.i(a,G,G,"itemTemplate"),a instanceof z&&x.m("itemTemplate must not be a Part: "+a),this.Pg.add("",a),this.j("itemTemplate",b,a),a=this.h,a!==p&&a.xa.zb||this.fA())});x.g(G,"itemTemplateMap",G.prototype.YD);
x.defineProperty(G,{YD:"itemTemplateMap"},t("Pg"),function(a){var b=this.Pg;if(b!==a){x.i(a,pa,G,"itemTemplateMap");for(var c=a.l;c.next();){var d=c.value;d instanceof z&&x.m("Template in itemTemplateMap must not be a Part: "+d)}this.Pg=a;this.j("itemTemplateMap",b,a);a=this.h;a!==p&&a.xa.zb||this.fA()}});x.g(G,"itemCategoryProperty",G.prototype.EH);
x.defineProperty(G,{EH:"itemCategoryProperty"},t("ln"),function(a){var b=this.ln;b!==a&&("string"!==typeof a&&"function"!==typeof a&&x.mc(a,"string or function",G,"itemCategoryProperty"),this.ln=a,this.j("itemCategoryProperty",b,a))});
G.prototype.getCategoryForItemData=G.prototype.XK=function(a){if(a===p)return"";var b=this.ln;if("function"===typeof b)b=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";b=x.$a(a,b)}else return"";if(b===f)return"";if("string"===typeof b)return b;u&&x.trace("Panel.getCategoryForItemData found a non-string category for "+a+": "+b);return""};
G.prototype.findTemplateForItemData=G.prototype.NK=function(a,b){var c=this.YD,d=p;c!==p&&(d=c.va(b));d===p&&(x.SF||(x.SF=h,x.trace('No item template Panel found for category "'+b+'" on '+this),x.trace("  Using default item template."),c=new G,d=new ra,d.bind(new De("text","",Wd)),c.add(d),x.BF=c),d=x.BF);return d instanceof G?d:p};x.g(G,"isAtomic",G.prototype.vH);
x.defineProperty(G,{vH:"isAtomic"},t("th"),function(a){var b=this.th;b!==a&&(x.k(a,"boolean",G,"isAtomic"),this.th=a,this.j("isAtomic",b,a))});x.g(G,"opacity",G.prototype.opacity);x.defineProperty(G,{opacity:"opacity"},t("zi"),function(a){var b=this.zi;b!==a&&(x.k(a,"number",G,"opacity"),(0>a||1<a)&&x.ta(a,"0 <= val <= 1",G,"opacity"),this.zi=a,this.j("opacity",b,a),a=this.h,a!==p&&Ih(a))});
function kk(){x.nc(this);this.Nk=p;this.Ll=h;this.ha=0;this.wf=NaN;this.Ul=0;this.Tl=Infinity;this.Ga=Db;this.nb=this.ab=0;this.uc=p;this.xr=cl;this.Dh=Xg}x.S("RowColumnDefinition",kk);kk.prototype.copy=function(){var a=new kk;a.Ll=this.Ll;a.ha=this.ha;a.wf=this.wf;a.Ul=this.Ul;a.Tl=this.Tl;a.Ga=this.Ga;a.ab=this.ab;a.nb=this.nb;a.Dh=this.Dh;a.xr=this.xr;a.uc=this.uc;return a};var cl;kk.Default=cl=x.s(kk,"Default",0);var Xk;kk.None=Xk=x.s(kk,"None",1);var Rk;
kk.ProportionalExtra=Rk=x.s(kk,"ProportionalExtra",2);kk.prototype.ql=ba("Nk");function Vk(a,b){a.ab=isNaN(a.wf)?Math.max(Math.min(a.Tl,b),a.Ul):Math.max(Math.min(a.Tl,a.wf),a.Ul)}kk.prototype.Zd=function(a,b,c,d,e){var g=this.Nk;if(g!==p){g.T();for(var i=this.aw,j=g.ya,k=j.length,l=0;l<k;l++){var m=j.o[l];(i?m.sc:m.Kc)===this.index&&m.T()}g.Yc(Gd,a,this,b,c,d,e);if(this.uc!==p&&(b=g.os(),b!==p&&(b=b.data,b!==p)))for(c=this.uc.l;c.next();)c.value.oF(this,b,a,p)}};x.u(kk,{ea:"panel"},t("Nk"));
x.u(kk,{aw:"isRow"},t("Ll"));x.u(kk,{index:"index"},t("ha"));x.g(kk,"height",kk.prototype.height);x.defineProperty(kk,{height:"height"},t("wf"),function(a){var b=this.wf;b!==a&&(u&&x.k(a,"number",kk,"height"),0>a&&x.ta(a,">= 0",kk,"height"),this.wf=a,Vk(this,this.ab),this.Zd("size",b,a))});x.g(kk,"width",kk.prototype.width);
x.defineProperty(kk,{width:"width"},t("wf"),function(a){var b=this.wf;b!==a&&(u&&x.k(a,"number",kk,"width"),0>a&&x.ta(a,">= 0",kk,"width"),this.wf=a,Vk(this,this.ab),this.Zd("size",b,a))});x.g(kk,"minimum",kk.prototype.pg);x.defineProperty(kk,{pg:"minimum"},t("Ul"),function(a){var b=this.Ul;b!==a&&(u&&x.k(a,"number",kk,"minimum"),(0>a||!isFinite(a))&&x.ta(a,">= 0",kk,"minimum"),this.Ul=a,Vk(this,this.ab),this.Zd("minimum",b,a))});x.g(kk,"maximum",kk.prototype.ie);
x.defineProperty(kk,{ie:"maximum"},t("Tl"),function(a){var b=this.Tl;b!==a&&(u&&x.k(a,"number",kk,"maximum"),0>a&&x.ta(a,">= 0",kk,"maximum"),this.Tl=a,Vk(this,this.ab),this.Zd("maximum",b,a))});x.g(kk,"alignment",kk.prototype.Jb);x.defineProperty(kk,{Jb:"alignment"},t("Ga"),function(a){var b=this.Ga;b.K(a)||(u&&x.i(a,N,kk,"alignment"),this.Ga=a.Q(),this.Zd("alignment",b,a))});x.g(kk,"stretch",kk.prototype.Xh);
x.defineProperty(kk,{Xh:"stretch"},t("Dh"),function(a){var b=this.Dh;b!==a&&(u&&x.ob(a,U,kk,"stretch"),this.Dh=a,this.Zd("stretch",b,a))});x.g(kk,"sizing",kk.prototype.at);x.defineProperty(kk,{at:"sizing"},t("xr"),function(a){var b=this.xr;b!==a&&(u&&x.ob(a,kk,kk,"sizing"),this.xr=a,this.Zd("sizing",b,a))});function Wk(a){if(a.at===cl){var b=a.Nk;return a.aw?b.NE:b.OC}return a.at}x.u(kk,{rd:"actual"},t("ab"));x.u(kk,{position:"position"},t("nb"));
kk.prototype.bind=kk.prototype.bind=function(a){a.dg=this;var b=this.ea;b!==p&&(b=b.os(),b!==p&&fk(b)&&x.m("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));this.uc===p&&(this.uc=new H(De));this.uc.add(a)};
function V(){U.call(this);this.La=p;this.Op="None";this.Ah=q;this.Wp=Xg;this.tk=p;this.pc=this.Ie="black";this.ae=1;this.Hn="butt";this.In="miter";this.Jn=10;this.Cr=p;this.xf=0;this.Fi=this.Ei=Db;this.Vq=this.Uq=0;this.eq=q;this.kq=h;this.LF=new L;this.dn=this.Ln="None";this.bq=1}x.S("Shape",V);x.Ja(V,U);
V.prototype.Db=function(a){U.prototype.Db.call(this,a);a.La=this.La;a.Op=this.Op;a.Ah=this.Ah;a.Wp=this.Wp;a.tk=this.tk;a.Ie=this.Ie;a.pc=this.pc;a.ae=this.ae;a.Hn=this.Hn;a.In=this.In;a.Jn=this.Jn;a.Cr=this.Cr;a.xf=this.xf;a.Ei=this.Ei.Q();a.Fi=this.Fi.Q();a.Uq=this.Uq;a.Vq=this.Vq;a.eq=this.eq;a.kq=this.kq;a.Ln=this.Ln;a.dn=this.dn;a.bq=this.bq};V.prototype.toString=function(){return"Shape("+("None"!==this.xb?this.xb:"None"!==this.Mm?this.Mm:this.Tv)+")#"+x.ic(this)};
V.prototype.mo=function(a){if(!(this.pc===p&&this.Ie===p)){this.Ie!==p&&Aj(this,a,this.Ie,h);this.pc!==p&&Aj(this,a,this.pc,q);var b=this.ae;if(0===b){var c=this.fa;c instanceof We&&(c.type===Mg&&c.Ic instanceof V)&&(b=c.Ic.eb)}a.lineWidth=b;a.lineJoin=this.In;a.lineCap=this.Hn;a.miterLimit=this.Jn;var d=q;this.fa&&(d=this.fa.Am);var e=h;this.pc!==p&&this.Ie===p&&(e=q);b=q;c=this.$E;if(c!==p){var g=b=h;a.setLineDash!==f?(a.setLineDash(c),a.lineDashOffset=this.xf):a.webkitLineDash!==f?(a.webkitLineDash=
c,a.webkitLineDashOffset=this.xf):a.mozDash!==f?(a.mozDash=c,a.mozDashOffset=this.xf):g=q}var i=this.La;if(i!==p){if(i.V===Xc)a.beginPath(),b&&!g?dl(a,i.Ib,i.Tb,i.Hc,i.Oc,c,this.xf):(a.moveTo(i.Ib,i.Tb),a.lineTo(i.Hc,i.Oc)),this.Ie!==p&&a.fill(),this.pc!==p&&a.stroke();else if(i.V===Zc){var j=i.Ib,k=i.Tb,l=i.Hc,i=i.Oc,m=Math.min(j,l),n=Math.min(k,i),j=Math.abs(l-j),k=Math.abs(i-k);this.Ie!==p&&a.fillRect(m,n,j,k);if(this.pc!==p){if(e&&d){var r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=
0;a.shadowOffsetY=0;a.shadowBlur=0}b&&!g?(g=[[m,n],[m+j,n],[m+j,n+k],[m,n+k],[m,n]],a.beginPath(),el(a,g,c,this.xf),a.stroke()):a.strokeRect(m,n,j,k);e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])}}else if(i.V===$c)j=i.Ib,k=i.Tb,l=i.Hc,i=i.Oc,m=Math.abs(l-j)/2,n=Math.abs(i-k)/2,j=Math.min(j,l)+m,k=Math.min(k,i)+n,a.beginPath(),a.moveTo(j,k-n),a.bezierCurveTo(j+ac*m,k-n,j+m,k-ac*n,j+m,k),a.bezierCurveTo(j+m,k+ac*n,j+ac*m,k+n,j,k+n),a.bezierCurveTo(j-ac*m,k+n,j-m,k+ac*n,j-m,k),
a.bezierCurveTo(j-m,k-ac*n,j-ac*m,k-n,j,k-n),a.closePath(),this.Ie!==p&&a.fill(),b&&!g&&(g=[],uc(j,k-n,j+ac*m,k-n,j+m,k-ac*n,j+m,k,0.5,g),uc(j+m,k,j+m,k+ac*n,j+ac*m,k+n,j,k+n,0.5,g),uc(j,k+n,j-ac*m,k+n,j-m,k+ac*n,j-m,k,0.5,g),uc(j-m,k,j-m,k-ac*n,j-ac*m,k-n,j,k-n,0.5,g),a.beginPath(),el(a,g,c,this.xf)),this.pc!==p&&(e&&d&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]));
else if(i.V===Uc){for(var m=i.yk,n=m.length,s=0;s<n;s++){var v=m.o[s];a.beginPath();a.moveTo(v.pa,v.qa);for(var y=v.Fa.o,C=y.length,D=p,I=0;I<C;I++){var E=y[I];switch(E.V){case rd:a.moveTo(E.D,E.F);break;case bd:a.lineTo(E.D,E.F);break;case sd:a.bezierCurveTo(E.rf,E.sf,E.Bi,E.Ci,E.$f,E.ag);break;case td:a.quadraticCurveTo(E.rf,E.sf,E.$f,E.ag);break;case ud:if(E.radiusX===E.radiusY)D=Math.PI/180,a.arc(E.Sm,E.Tm,E.radiusX,E.Ag*D,(E.Ag+E.Yh)*D,0>E.Yh?h:q);else for(var D=wd(E,v),M=D.length,O=0;O<M;O++){var X=
D[O];0===O&&a.lineTo(X.x1,X.y1);a.bezierCurveTo(X.x2,X.y2,X.Mf,X.Nf,X.gd,X.hd)}break;case gd:D&&D.type===ud?(D=wd(D,v),D=D[D.length-1]||p,D!==p&&(j=D.gd,l=D.hd)):(j=D?D.D:v.pa,l=D?D.F:v.qa);D=xd(E,v,j,l);M=D.length;for(O=0;O<M;O++)X=D[O],a.bezierCurveTo(X.x2,X.y2,X.Mf,X.Nf,X.gd,X.hd);break;default:x.m("Segment not of valid type")}E.ni&&a.closePath();D=E}d?v.Tf?(v.Jl===h&&this.Ie!==p?(a.fill(),e=h):e=q,this.pc!==p&&(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=
0,a.shadowBlur=0),(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]))):(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),v.Jl===h&&this.Ie!==p&&a.fill(),this.pc!==p&&(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])):(v.Jl===h&&this.Ie!==p&&a.fill(),this.pc!==p&&(!b||g)&&a.stroke())}if(b&&!g){r=e;g=i.yk;e=g.length;for(i=0;i<e;i++){j=g.o[i];a.beginPath();l=[];l.push([j.pa,j.qa]);
m=j.pa;n=j.qa;s=m;v=n;y=j.Fa.o;C=y.length;for(I=0;I<C;I++){E=y[I];switch(E.V){case rd:el(a,l,c,this.xf);l=[];l.push([E.D,E.F]);m=E.D;n=E.F;s=m;v=n;break;case bd:l.push([E.D,E.F]);m=E.D;n=E.F;break;case sd:D=[];uc(m,n,E.rf,E.sf,E.Bi,E.Ci,E.$f,E.ag,0.5,D);l=l.concat(D);m=E.D;n=E.F;break;case td:D=[];zc(m,n,E.rf,E.sf,E.$f,E.ag,0.5,D);l=l.concat(D);m=E.D;n=E.F;break;case ud:M=wd(E,j);O=M.length;for(X=0;X<O;X++){var sa=M[X],D=[];uc(m,n,sa.x2,sa.y2,sa.Mf,sa.Nf,sa.gd,sa.hd,0.5,D);l=l.concat(D);m=sa.gd;n=
sa.hd}break;case gd:M=xd(E,j,m,n);O=M.length;for(X=0;X<O;X++)sa=M[X],D=[],uc(m,n,sa.x2,sa.y2,sa.Mf,sa.Nf,sa.gd,sa.hd,0.5,D),l=l.concat(D),m=sa.gd,n=sa.hd;break;default:x.m("Segment not of valid type")}E.ni&&(l.push([s,v]),el(a,l,c,this.xf))}el(a,l,c,this.xf);this.pc!==p&&(r&&d&&(k=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),r&&d&&(a.shadowOffsetX=k[0],a.shadowOffsetY=k[1],a.shadowBlur=k[2]))}}}b&&(a.setLineDash!==f?(a.setLineDash(p),
a.lineDashOffset=0):a.webkitLineDash!==f?(a.webkitLineDash=[],a.webkitLineDashOffset=0):a.mozDash!==f&&(a.mozDash=p,a.mozDashOffset=0))}}};function dl(a,b,c,d,e,g,i){var j=0.001,k=g.length;a.moveTo(b,c);d-=b;j=e-c;0===d&&(d=0.001);for(var e=j/d,l=Math.sqrt(d*d+j*j),m=0,n=h,r=0===i?q:h;0.1<=l;){r?(j=g[m++%k],i%=j,j-=i,r=q):j=g[m++%k];j>l&&(j=l);var s=Math.sqrt(j*j/(1+e*e));0>d&&(s=-s);b+=s;c+=e*s;n?a.lineTo(b,c):a.moveTo(b,c);l-=j;n=!n}}
function el(a,b,c,d){var e=0.001,g=c.length,i,j,k,l=b.length;if(!(2>l))if(i=b[0][0],j=b[0][1],2===l)dl(a,i,j,b[1][0],b[1][1],c,d);else{a.moveTo(i,j);for(var m,n,r,s=0,v=[],y=1;y<l;y++)m=b[y],e=m[0],k=m[1],m=e-i,i=k-j,0===m&&(m=0.001),n=i/m,i=Math.sqrt(m*m+i*i),v.push([m,n,i]),s+=i,i=e,j=k;i=b[0][0];j=b[0][1];b=0;l=h;e=c[b%g];y=0===d?q:h;k=0;r=v[k];m=r[0];n=r[1];r=r[2];for(var C=0;0.1<=s;){0===C&&(y?(e=c[b%g],b++,d%=e,e-=d,y=q):(e=c[b%g],b++));e>s&&(e=s);e>r?(C=e-r,e=r):C=0;var D=Math.sqrt(e*e/(1+
n*n));0>m&&(D=-D);i+=D;j+=n*D;l?a.lineTo(i,j):a.moveTo(i,j);s-=e;r-=e;if(0!==C){k++;if(k===v.length)break;r=v[k];m=r[0];n=r[1];r=r[2];e=C}else l=!l}}}V.prototype.getDocumentPoint=V.prototype.Gb=function(a){Ab(a)&&x.m("Spot must be real");var b=this.Ma,c=this.eb,a=new K(a.x*(b.width+c)-c/2+b.x+a.offsetX,a.y*(b.height+c)-c/2+b.y+a.offsetY);this.oe.Xa(a);return a};
V.prototype.Qj=function(a,b){var c=this.La;if(c===p||this.fill===p&&this.stroke===p)return q;var d=c.Lb,e=this.eb/2;c.type===Xc&&!b&&(e+=2);var g=this.LF;g.set(d);g.bh(e+2,e+2);if(!g.Ca(a))return q;d=e+1E-4;if(c.type===Xc){if(this.stroke===p)return q;d=(c.D-c.pa)*(a.x-c.pa)+(c.F-c.qa)*(a.y-c.qa);return 0>(c.pa-c.D)*(a.x-c.D)+(c.qa-c.F)*(a.y-c.F)||0>d?q:rc(c.pa,c.qa,c.D,c.F,e,a.x,a.y)}if(c.type===Zc){var i=c.pa,j=c.qa,k=c.D,l=c.F,c=Math.min(i,k),m=Math.min(j,l),i=Math.abs(k-i),j=Math.abs(l-j);g.x=
c;g.y=m;g.width=i;g.height=j;if(this.fill===p){g.bh(-d,-d);if(g.Ca(a))return q;g.bh(d,d)}this.stroke!==p&&g.bh(e,e);return g.Ca(a)}if(c.type===$c){i=c.pa;j=c.qa;k=c.D;l=c.F;c=Math.min(i,k);m=Math.min(j,l);i=Math.abs(k-i);j=Math.abs(l-j);g=i/2;j/=2;c=a.x-(c+g);m=a.y-(m+j);if(this.fill===p){g-=d;j-=d;if(0>=g||0>=j||1>=c*c/(g*g)+m*m/(j*j))return q;g+=d;j+=d}this.stroke!==p&&(g+=e,j+=e);return 0>=g||0>=j?q:1>=c*c/(g*g)+m*m/(j*j)}if(c.type===Uc)return this.fill===p?zd(c,a.x,a.y,e):c.Ca(a,e,1<this.eb,b);
x.m("Unknown Geometry type");return q};
V.prototype.Is=function(a,b,c,d){var e=this.Aa,g=this.ae,a=Math.max(a,0),b=Math.max(b,0),i;if(this.Ah)i=this.La.Lb;else{var j=this.xb,k=fl[j];if(k===f){var l=gl[j];l?(k=l(p,100,100),fl[j]=k):x.m("Unsupported Figure:"+j)}i=k.Lb}var j=i.width,k=i.height,l=i.width,m=i.height;switch(rj(this)){case lj:d=c=0;break;case Wc:l=Math.max(a-g,0);m=Math.max(b-g,0);break;case nj:l=Math.max(a-g,0);d=0;break;case mj:c=0,m=Math.max(b-g,0)}isFinite(e.width)&&(l=e.width);isFinite(e.height)&&(m=e.height);e=this.he;i=
this.Ae;c=Math.max(c,i.width)-g;d=Math.max(d,i.height)-g;l=Math.min(e.width,l);m=Math.min(e.height,m);l=isFinite(l)?Math.max(c,l):Math.max(j,c);m=isFinite(m)?Math.max(d,m):Math.max(k,d);c=this.Uv;c=this.Ah?c===Xg?Wc:c:c===Xg?fl[this.xb].ec:c;switch(c){case lj:break;case Wc:j=l;k=m;break;case Yg:c=Math.min(l/j,m/k);isFinite(c)||(c=1);j*=c;k*=c;break;default:x.m(c+" is not a valid geometryStretch.")}if(this.Ah){i=this.dd;d=j;e=k;c=i.copy();i=i.Lb;d/=i.width;e/=i.height;isFinite(d)||(d=1);isFinite(e)||
(e=1);if(!(1===d&&1===e)){switch(c.type){case Xc:case Zc:case $c:c.Ib*=d;c.Tb*=e;c.Hc*=d;c.Oc*=e;break;case Uc:i=c.yb;for(var n=i.length,r=0;r<n;r++){var s=i.o[r];s.pa*=d;s.qa*=e;for(var s=s.Fa,v=s.length,y=0;y<v;y++){var C=s.o[y];switch(C.type){case bd:case rd:C.D*=d;C.F*=e;break;case sd:C.rf*=d;C.sf*=e;C.Bi*=d;C.Ci*=e;C.D*=d;C.F*=e;break;case td:C.ac*=d;C.Fc*=e;C.D*=d;C.F*=e;break;case ud:C.ua*=d;C.Ba*=e;C.radiusX*=d;C.radiusY!==f&&(C.radiusY*=e);break;case gd:C.D*=d;C.F*=e;C.radiusX*=d;C.radiusY*=
e;break;default:x.m("Unknown Segment type: "+C.type)}}}}c.Sa=h}this.La=c}else if(this.La===p||this.La.cu!==a||this.La.bu!==b)c=j,d=k,i=this.Aa,e=i.width,i=i.height,c!==f&&(!isNaN(c)&&isFinite(c))&&(e=c),d!==f&&(!isNaN(d)&&isFinite(d))&&(i=d),isFinite(e)||(e=100),isFinite(i)||(i=100),n=f,"None"!==this.Mm?n=hl(this.Mm):"None"!==this.Tv?n=hl(this.Tv):(r=gl[this.xb],"string"===typeof r&&(r=gl[r]),r===f&&x.m("Unknown Shape.figure: "+this.xb),n=r(this,e,i),n.Yd=new cb(e,i)),n===f&&(r=gl.Rectangle)&&(n=
r(this,e,i)),n.cu=c,n.bu=d,this.La=n;i=this.La.Lb;Infinity===a||Infinity===b?oj(this,i.x-g/2,i.y-g/2,0===a&&0===j?0:i.width+g,0===b&&0===k?0:i.height+g):oj(this,-(g/2),-(g/2),l+g,m+g)};
function Yk(a,b,c){if(a.fc!==q){a.cd.Na();var d=a.ae;if(0===d){var e=a.fa;e instanceof We&&(e.type===Mg&&e.Ic instanceof V)&&(d=e.Ic.eb)}d*=a.Yb;oj(a,-(d/2),-(d/2),b+d,c+d);b=a.cd;c=a.he;d=a.Ae;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.cd.freeze();a.cd.R()||x.m("Non-real measuredBounds has been set");a.fc=q}}V.prototype.Pj=function(a,b,c,d){uj(this,a,b,c,d)};
V.prototype.getNearestIntersectionPoint=V.prototype.BD=function(a,b,c){return this.ss(a.x,a.y,b.x,b.y,c)};
V.prototype.ss=function(a,b,c,d,e){var g=this.transform,i=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*i,k=-g.m12*i,l=-g.m21*i,m=g.m11*i,n=i*(g.m21*g.dy-g.m22*g.dx),r=i*(g.m12*g.dx-g.m11*g.dy),g=a*j+b*l+n,i=a*k+b*m+r,j=c*j+d*l+n,k=c*k+d*m+r,l=this.eb/2,n=this.La;n===p&&(Dh(this,Infinity,Infinity),n=this.La);r=n.Lb;m=q;if(n.type===Xc)if(1.5>=this.eb)m=Fc(n.Ib,n.Tb,n.Hc,n.Oc,g,i,j,k,e);else{var s;n.Ib===n.Hc?(s=l,r=0):(b=(n.Oc-n.Tb)/(n.Hc-n.Ib),r=l/Math.sqrt(1+b*b),s=r*b);b=[];d=new K;Fc(n.Ib+s,n.Tb+r,n.Hc+
s,n.Oc+r,g,i,j,k,d)&&b.push(d);d=new K;Fc(n.Ib-s,n.Tb-r,n.Hc-s,n.Oc-r,g,i,j,k,d)&&b.push(d);d=new K;Fc(n.Ib+s,n.Tb+r,n.Ib-s,n.Tb-r,g,i,j,k,d)&&b.push(d);d=new K;Fc(n.Hc+s,n.Oc+r,n.Hc-s,n.Oc-r,g,i,j,k,d)&&b.push(d);d=b.length;if(0===d)return q;m=h;r=Infinity;for(s=0;s<d;s++){var j=b[s],v=(j.x-g)*(j.x-g)+(j.y-i)*(j.y-i);v<r&&(r=v,e.x=j.x,e.y=j.y)}}else if(n.type===Zc)d=r.x-l,m=Hc(d,r.y-l,r.x+r.width+l,r.y+r.height+l,g,i,j,k,e);else if(n.type===$c)a:if(b=r.copy().bh(l,l),0===b.width)m=Fc(b.x,b.y,b.x,
b.y+b.height,g,i,j,k,e);else if(0===b.height)m=Fc(b.x,b.y,b.x+b.width,b.y,g,i,j,k,e);else{var a=b.width/2,y=b.height/2,d=b.x+a,b=b.y+y,c=9999;g!==j&&(c=(i-k)/(g-j));if(9999>Math.abs(c)){m=i-b-c*(g-d);if(0>a*a*c*c+y*y-m*m){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(a*a*c*c+y*y-m*m);j=(-(a*a*c*m)+a*y*l)/(y*y+a*a*c*c)+d;a=(-(a*a*c*m)-a*y*l)/(y*y+a*a*c*c)+d;k=c*(j-d)+m+b;b=c*(a-d)+m+b;d=Math.abs((g-j)*(g-j))+Math.abs((i-k)*(i-k));i=Math.abs((g-a)*(g-a))+Math.abs((i-b)*(i-b));d<i?(e.x=j,e.y=k):(e.x=a,e.y=
b)}else{j=y*y;k=g-d;j-=j/(a*a)*k*k;if(0>j){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(j);k=b+l;b-=l;d=Math.abs(k-i);i=Math.abs(b-i);d<i?(e.x=g,e.y=k):(e.x=g,e.y=b)}m=h}else if(n.type===Uc){var C,D,I,E=new K;s=j-g;r=k-i;r=s*s+r*r;e.x=j;e.y=k;for(s=0;s<n.yb.count;s++){var M=n.yb.o[s],O=M.Fa;C=M.pa;D=M.qa;for(var X=C,sa=D,ka,va,Fa=0;Fa<O.count;Fa++){ka=O.o[Fa];va=ka.type;v=ka.D;I=ka.F;var Ga=q;switch(va){case rd:X=v;sa=I;break;case bd:Ga=il(C,D,v,I,g,i,j,k,E);break;case sd:Ga=ka.ac;va=ka.Fc;var Za=ka.xg,
qb=ka.yg,Ga=Ac(C,D,Ga,va,Za,qb,v,I,g,i,j,k,0.5,E);break;case td:Ga=(C+2*ka.ac)/3;va=(D+2*ka.Fc)/3;Za=(2*ka.ac+v)/3;qb=(2*ka.ac+v)/3;Ga=Ac(C,D,Ga,va,Za,qb,v,I,g,i,j,k,0.5,E);break;case ud:case gd:I=ka.type===ud?wd(ka,M):xd(ka,M,C,D);va=I.length;for(s=0;s<va;s++)y=I[s],0===s&&il(C,D,y.x1,y.y1,g,i,j,k,E)&&(v=jl(g,i,E,r,e),v<r&&(r=v,m=h)),Ac(y.x1,y.y1,y.x2,y.y2,y.Mf,y.Nf,y.gd,y.hd,g,i,j,k,0.5,E)&&(v=jl(g,i,E,r,e),v<r&&(r=v,m=h));v=y.gd;I=y.hd;break;default:x.m("Unknown Segment type: "+ka.type)}C=v;D=
I;Ga&&(v=jl(g,i,E,r,e),v<r&&(r=v,m=h));ka.Xv&&(v=X,I=sa,il(C,D,v,I,g,i,j,k,E)&&(v=jl(g,i,E,r,e),v<r&&(r=v,m=h)))}}g=c-a;i=d-b;d=Math.sqrt(g*g+i*i);e.x-=g/d*l;e.y-=i/d*l}else x.m("Invalid Geometry type");if(!m)return q;d=ob(this.transform,e);e.x=d.x;e.y=d.y;return h};function jl(a,b,c,d,e){a=c.x-a;b=c.y-b;b=a*a+b*b;return b<d?(e.x=c.x,e.y=c.y,b):d}
function il(a,b,c,d,e,g,i,j,k){var l=q,m=(e-i)*(b-d)-(g-j)*(a-c);if(0===m)return q;k.x=((e*j-g*i)*(a-c)-(e-i)*(a*d-b*c))/m;k.y=((e*j-g*i)*(b-d)-(g-j)*(a*d-b*c))/m;if((a>c?a-c:c-a)<(b>d?b-d:d-b)){if(e=b<d?b:d,a=b<d?d:b,(k.y>e||Ta(k.y,e))&&(k.y<a||Ta(k.y,a)))l=h}else if(e=a<c?a:c,a=a<c?c:a,(k.x>e||Ta(k.x,e))&&(k.x<a||Ta(k.x,a)))l=h;return l}
V.prototype.containedInRect=V.prototype.Dv=function(a,b){if(b===f)return a.mm(this.za);var c=this.La;c===p&&(Dh(this,Infinity,Infinity),c=this.La);var c=c.Lb,d=this.eb/2;return!a.Ca(b.Xa(new K(c.x-d,c.y-d)))||!a.Ca(b.Xa(new K(c.x-d,c.bottom+d)))||!a.Ca(b.Xa(new K(c.right+d,c.bottom+d)))||!a.Ca(b.Xa(new K(c.right+d,c.y-d)))?q:h};
V.prototype.intersectsRect=V.prototype.We=function(a,b){function c(a,b){k.x=a*d.m11+b*d.m21+d.dx;k.y=a*d.m12+b*d.m22+d.dy}if(this.Dv(a,b)||b===f&&(b=this.transform,a.mm(this.za)))return h;var d=b.copy();d.RD();var e=a.left,g=a.right,i=a.top,j=a.bottom,k=new K;c(e,i);if(this.Qj(k,h))return h;c(g,i);if(this.Qj(k,h))return h;c(e,j);if(this.Qj(k,h))return h;c(g,j);if(this.Qj(k,h))return h;var l=new K,m=new K;d.set(b);d.pE(this.transform);d.RD();l.x=g;l.y=i;l.transform(d);k.x=e;k.y=i;k.transform(d);if(kl(this,
k,l,m))return h;k.x=g;k.y=j;k.transform(d);if(kl(this,k,l,m))return h;l.x=e;l.y=j;l.transform(d);if(kl(this,k,l,m))return h;k.x=e;k.y=i;k.transform(d);return kl(this,k,l,m)?h:q};function kl(a,b,c,d){if(!a.BD(b,c,d))return q;var a=b.x,b=b.y,e=c.x,g=c.y,c=d.x,d=d.y;if(a===e){var i;b<g?(i=b,a=g):(i=g,a=b);return d>=i&&d<=a}a<e?(i=a,a=e):i=e;return c>=i&&c<=a}
V.prototype.sD=function(a,b){if(this.fill!==p&&this.Qj(a,h))return h;var c=a.qm(b),d=c;1.5<this.eb&&(c=this.eb/2+Math.sqrt(c),c*=c);var e=this.La;e===p&&(Dh(this,Infinity,Infinity),e=this.La);var g=e.Ib,i=e.Tb,j=e.Hc,k=e.Oc;if(e.type===Xc){var e=ab(a.x,a.y,g,i,j,k),l=(g-j)*(a.x-j)+(i-k)*(a.y-k);if(e<=(0<=(j-g)*(a.x-g)+(k-i)*(a.y-i)&&0<=l?c:d))return h}else if(e.type===Zc){if(ab(a.x,a.y,g,i,g,k)<=c||ab(a.x,a.y,g,i,j,i)<=c||ab(a.x,a.y,j,i,j,k)<=c||ab(a.x,a.y,g,k,j,k)<=c)return h}else if(e.type===$c){var e=
a.x-(g+j)/2,d=a.y-(i+k)/2,l=Math.abs(j-g)/2,m=Math.abs(k-i)/2;if(0===l||0===m)return e=ab(a.x,a.y,g,i,j,k),e<=c?h:q;g=new K(Infinity,Infinity);Gc(e,d,0,0,-l,-m,l,m,g);Gc(e,d,0,m,-l,-m,l,m,g);Gc(e,d,0,-m,-l,-m,l,m,g);Gc(e,d,0,l,-l,-m,l,m,g);Gc(e,d,0,-l,-l,-m,l,m,g);Gc(e,d,l/2,m/2,-l,-m,l,m,g);Gc(e,d,-l/2,m/2,-l,-m,l,m,g);Gc(e,d,l/2,-m/2,-l,-m,l,m,g);Gc(e,d,-l/2,-m/2,-l,-m,l,m,g);if((g.x-e)*(g.x-e)+(g.y-d)*(g.y-d)<c)return h}else if(e.type===Uc){k=e.Lb;g=k.x;i=k.y;j=k.x+k.width;k=k.y+k.height;if(a.x>
j&&a.x<g&&a.y>k&&a.y<i&&ab(a.x,a.y,g,i,g,k)>c&&ab(a.x,a.y,g,i,j,i)>c&&ab(a.x,a.y,j,k,g,k)>c&&ab(a.x,a.y,j,k,j,i)>c)return q;c=Math.sqrt(c);if(this.fill===p?zd(e,a.x,a.y,c):e.Ca(a,c,h))return h}return q};x.g(V,"geometry",V.prototype.dd);x.defineProperty(V,{dd:"geometry"},function(){return this.tk?this.tk:this.La},function(a){var b=this.La;b!==a&&(a!==p?(u&&x.i(a,Tc,V,"geometry"),this.tk=this.La=a.freeze()):this.tk=this.La=p,this.Ah=h,this.T(),this.j("geometry",b,a))});x.g(V,"geometryString",V.prototype.xD);
x.defineProperty(V,{xD:"geometryString"},function(){return this.dd.toString()},function(a){var b=ed(a),a=b.normalize();this.dd=b;b=this.position;this.position=b.R()?new K(b.x-a.x,b.y-a.y):new K(-a.x,-a.y)});x.defineProperty(V,{Gz:"isGeometryPositioned"},t("eq"),function(a){u&&x.k(a,"boolean",V,"isGeometryPositioned");var b=this.eq;b!==a&&(this.eq=a,this.T(),this.j("isGeometryPositioned",b,a))});V.prototype.lg=function(){this.Ah?this.tk=p:this.La=p;this.T()};x.g(V,"fill",V.prototype.fill);
x.defineProperty(V,{fill:"fill"},t("Ie"),function(a){var b=this.Ie;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.Ie=a,xj(this),this.j("fill",b,a)});x.g(V,"stroke",V.prototype.stroke);x.defineProperty(V,{stroke:"stroke"},t("pc"),function(a){var b=this.pc;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.pc=a,xj(this),this.j("stroke",b,a)});x.g(V,"strokeWidth",V.prototype.eb);
x.defineProperty(V,{eb:"strokeWidth"},t("ae"),function(a){var b=this.ae;b!==a&&(u&&x.n(a,V,"strokeWidth"),0<=a&&(this.ae=a,this.T(),this.j("strokeWidth",b,a)))});x.g(V,"strokeCap",V.prototype.ZE);x.defineProperty(V,{ZE:"strokeCap"},t("Hn"),function(a){var b=this.Hn;b!==a&&("string"===typeof a&&("butt"===a||"round"===a||"square"===a)?(this.Hn=a,xj(this),this.j("strokeCap",b,a)):x.ta(a,'"butt", "round", or "square"',V,"strokeCap"))});x.g(V,"strokeJoin",V.prototype.GI);
x.defineProperty(V,{GI:"strokeJoin"},t("In"),function(a){var b=this.In;b!==a&&("string"===typeof a&&("miter"===a||"bevel"===a||"round"===a)?(this.In=a,xj(this),this.j("strokeJoin",b,a)):x.ta(a,'"miter", "bevel", or "round"',V,"strokeJoin"))});x.g(V,"strokeMiterLimit",V.prototype.HI);x.defineProperty(V,{HI:"strokeMiterLimit"},t("Jn"),function(a){var b=this.Jn;b!==a&&(u&&x.n(a,V,"strokeMiterLimit"),0<a&&(this.Jn=a,xj(this),this.j("strokeMiterLimit",b,a)))});x.g(V,"strokeDashArray",V.prototype.$E);
x.defineProperty(V,{$E:"strokeDashArray"},t("Cr"),function(a){var b=this.Cr;b!==a&&(this.Cr=a,xj(this),this.j("strokeDashArray",b,a))});x.g(V,"strokeDashOffset",V.prototype.FI);x.defineProperty(V,{FI:"strokeDashOffset"},t("xf"),function(a){var b=this.xf;b!==a&&(u&&x.n(a,V,"strokeDashOffset"),0<a&&(this.xf=a,xj(this),this.j("strokeDashOffset",b,a)))});x.g(V,"figure",V.prototype.xb);
x.defineProperty(V,{xb:"figure"},t("Op"),function(a){var b=this.Op;if(b!==a){u&&x.k(a,"string",V,"figure");var c=gl[a];"function"===typeof c?c=a:(c=gl[a.toLowerCase()])||x.m("Unknown Shape.figure: "+a);b!==c&&(this.Op=c,this.Ah=q,this.lg(),this.j("figure",b,c))}});x.g(V,"toArrow",V.prototype.Mm);
x.defineProperty(V,{Mm:"toArrow"},t("Ln"),function(a){var b=this.Ln;a===h?a="Standard":a===q&&(a="None");if(b!==a){u&&x.k(a,"string",V,"toArrow");var c=hl(a);c instanceof Tc?c=a:(c=hl(a.toLowerCase()))||x.m("Unknown Shape.toArrow: "+a);b!==c&&(this.Ln=c,this.Ah=q,this.lg(),ll(this,c),this.j("toArrow",b,c))}});x.g(V,"fromArrow",V.prototype.Tv);
x.defineProperty(V,{Tv:"fromArrow"},t("dn"),function(a){var b=this.dn;a===h?a="Standard":a===q&&(a="None");if(b!==a){u&&x.k(a,"string",V,"fromArrow");var c=hl(a);c instanceof Tc?c=a:(c=hl(a.toLowerCase()))||x.m("Unknown Shape.fromArrow: "+a);b!==c&&(this.dn=c,this.Ah=q,this.lg(),ll(this,c),this.j("fromArrow",b,c))}});
function ll(a,b){var c=a.h;if(!(c!==p&&c.xa.zb)){a.Ys=ml;c=Rb;switch(b){case "halfarrowtop":c=Ob;break;case "halftriangletop":c=Ob;break;case "openrighttriangletop":c=Ob;break;case "opentriangletop":c=Ob}"None"!==a.Ln?(a.Vh=-1,a.Kj=c):"None"!==a.dn&&(a.Vh=0,a.Kj=new N(1-c.x,c.y))}}x.defineProperty(V,{v:"spot1"},t("Ei"),function(a){x.i(a,N,V,"spot1");var b=this.Ei;b.K(a)||(this.Ei=a=a.Q(),this.T(),this.j("spot1",b,a))});
x.defineProperty(V,{w:"spot2"},t("Fi"),function(a){x.i(a,N,V,"spot2");var b=this.Fi;b.K(a)||(this.Fi=a=a.Q(),this.T(),this.j("spot2",b,a))});x.defineProperty(V,{kc:"parameter1"},t("Uq"),function(a){var b=this.Uq;b!==a&&(this.Uq=a,this.T(),this.j("parameter1",b,a))});x.defineProperty(V,{Ss:"parameter2"},t("Vq"),function(a){var b=this.Vq;b!==a&&(this.Vq=a,this.T(),this.j("parameter2",b,a))});
x.u(V,{Ma:"naturalBounds"},function(){if(this.La!==p)return this.Rc.Ya(this.La.Lb),this.Rc;var a=this.Aa;return new L(0,0,a.width,a.height)});x.g(V,"isRectangular",V.prototype.AH);x.defineProperty(V,{AH:"isRectangular"},t("kq"),function(a){var b=this.kq;b!==a&&(u&&x.k(a,"boolean",V,"isRectangular"),this.kq=a,this.T(),this.j("isRectangular",b,a))});x.g(V,"geometryStretch",V.prototype.Uv);
x.defineProperty(V,{Uv:"geometryStretch"},t("Wp"),function(a){var b=this.Wp;b!==a&&(x.ob(a,U,V,"geometryStretch"),this.Wp=a,this.j("geometryStretch",b,a))});x.g(V,"interval",V.prototype.Ti);x.defineProperty(V,{Ti:"interval"},t("bq"),function(a){var b=this.bq;u&&x.n(a,V,"interval");a=Math.floor(a);b!==a&&0<=a&&(this.bq=a,this.T(),this.j("interval",b,a))});
function ra(){U.call(this);this.Sd="";this.pc="black";this.pj="13px sans-serif";this.yf="start";this.hq=h;this.Ml=this.Nl=q;this.fm=nl;this.ou=this.Rl=0;this.zk=this.Tx=this.Ux=p;this.uq={};this.Mp=q;this.He=this.Jj=this.Gr=p}x.S("TextBlock",ra);x.Ja(ra,U);
ra.prototype.Db=function(a){U.prototype.Db.call(this,a);a.Sd=this.Sd;a.pc=this.pc;a.pj=this.pj;a.yf=this.yf;a.hq=this.hq;a.Nl=this.Nl;a.Ml=this.Ml;a.fm=this.fm;a.Rl=this.Rl;a.ou=this.ou;a.Ux=this.Ux;a.Tx=this.Tx;a.zk=this.zk;a.uq=this.uq;a.Mp=this.Mp;a.Gr=this.Gr;a.Jj=this.Jj;a.He=this.He};ra.prototype.toString=function(){return 22<this.Sd.length?'TextBlock("'+this.Sd.substring(0,20)+'"...)':'TextBlock("'+this.Sd+'")'};var ol;ra.None=ol=x.s(ra,"None",0);var pl;ra.WrapFit=pl=x.s(ra,"WrapFit",1);var nl;
ra.WrapDesiredSize=nl=x.s(ra,"WrapDesiredSize",2);ra.prototype.T=function(){U.prototype.T.call(this);this.zk=this.Tx=this.Ux=p};x.g(ra,"font",ra.prototype.font);x.defineProperty(ra,{font:"font"},t("pj"),function(a){var b=this.pj;b!==a&&(u&&x.k(a,"string",ra,"font"),this.pj=a,this.T(),this.j("font",b,a))});x.g(ra,"text",ra.prototype.text);x.defineProperty(ra,{text:"text"},t("Sd"),function(a){var b=this.Sd,a=a!==p&&a!==f?a.toString():"";b!==a&&(this.Sd=a,this.T(),this.j("text",b,a))});
x.g(ra,"textAlign",ra.prototype.textAlign);x.defineProperty(ra,{textAlign:"textAlign"},t("yf"),function(a){var b=this.yf;b!==a&&(u&&x.k(a,"string",ra,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.yf=a,xj(this),this.j("textAlign",b,a)):x.ta(a,'"start", "end", "left", "right", or "center"',ra,"textAlign"))});
x.u(ra,{Ma:"naturalBounds"},function(){if(!this.Rc.R()){var a=ql(this,this.Sd,this.font,{},999999).width,b=rl(this,a,{}),c=this.Aa;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);db(this.Rc,a,b)}return this.Rc});x.g(ra,"isMultiline",ra.prototype.$v);x.defineProperty(ra,{$v:"isMultiline"},t("hq"),function(a){var b=this.hq;b!==a&&(u&&x.k(a,"boolean",ra,"isMultiline"),this.hq=a,this.T(),this.j("isMultiline",b,a))});x.g(ra,"isUnderline",ra.prototype.CH);
x.defineProperty(ra,{CH:"isUnderline"},t("Nl"),function(a){var b=this.Nl;b!==a&&(u&&x.k(a,"boolean",ra,"isUnderline"),this.Nl=a,xj(this),this.j("isUnderline",b,a))});x.g(ra,"isStrikethrough",ra.prototype.BH);x.defineProperty(ra,{BH:"isStrikethrough"},t("Ml"),function(a){var b=this.Ml;b!==a&&(u&&x.k(a,"boolean",ra,"isStrikethrough"),this.Ml=a,xj(this),this.j("isStrikethrough",b,a))});x.g(ra,"wrap",ra.prototype.IA);
x.defineProperty(ra,{IA:"wrap"},t("fm"),function(a){var b=this.fm;b!==a&&(u&&x.ob(a,ra,ra,"wrap"),this.fm=a,this.T(),this.j("wrap",b,a))});x.g(ra,"stroke",ra.prototype.stroke);x.defineProperty(ra,{stroke:"stroke"},t("pc"),function(a){var b=this.pc;if(b!==a&&(a===p||"string"===typeof a||a instanceof be))a instanceof be&&a.freeze(),this.pc=a,xj(this),this.j("stroke",b,a)});x.u(ra,{IL:"lineCount"},t("Rl"));x.g(ra,"editable",ra.prototype.Jv);
x.defineProperty(ra,{Jv:"editable"},t("Mp"),function(a){var b=this.Mp;b!==a&&(u&&x.k(a,"boolean",ra,"editable"),this.Mp=a,this.j("editable",b,a))});x.g(ra,"textEditor",ra.prototype.zA);x.defineProperty(ra,{zA:"textEditor"},t("Gr"),function(a){var b=this.Gr;b!==a&&(a instanceof HTMLElement||x.m("textEditor must be an HTMLElement"),this.Gr=a,this.j("textEditor",b,a))});x.g(ra,"errorFunction",ra.prototype.js);
x.defineProperty(ra,{js:"errorFunction"},t("He"),function(a){var b=this.He;b!==a&&(a!==p&&x.k(a,"function",ra,"errorFunction"),this.He=a,this.j("errorFunction",b,a))});
ra.prototype.mo=function(a,b){if(this.pc!==p&&0!==this.Sd.length){var c=this.pj;if(c!==p){var d=this.Ma.width,e=Eh(this,c);a.Yw!==c&&(a.font=c,a.Yw=c);a.textAlign=this.yf;Aj(this,a,this.pc,h);(this.Nl||this.Ml)&&Aj(this,a,this.pc,q);var c=this.uq,g=0,i=q,j=this.oe.Xa(new K(0,0)),k=this.oe.Xa(new K(0,e)),j=j.qm(k),k=b.scale;8>j*k*k&&(i=h);j=c.Oj.length;for(k=0;k<j;k++){var l=c.Oj[k],m=c.co[k];l>d&&(l=d);var n=m,m=a,r=g,s=e,v=i,y=0;"start"===this.yf||"left"===this.yf?y=0:"end"===this.yf||"right"===
this.yf?y=d:"center"===this.yf?y=d/2:x.m("textAlign must be start, end, left, right, or center");v?m.fillRect(0+y,r+0.25*s,l,1):(m.fillText(n,0+y,r+s-0.25*s),n=s/20|0,this.Nl&&("end"===this.yf||"right"===this.yf?y-=l:"center"===this.yf&&(y-=l/2),m.beginPath(),m.lineWidth=n,m.moveTo(0+y,r+s-0.2*s),m.lineTo(0+y+l,r+s-0.2*s),m.stroke()),this.Ml&&(m.beginPath(),m.lineWidth=n,r=r+s-s/2.2|0,0!==n%2&&(r+=0.5),m.moveTo(0,r),m.lineTo(0+l,r),m.stroke()));g+=e}}}};
ra.prototype.Is=function(a,b,c,d){var e={},g=0,i=0;if(isNaN(this.Aa.width)){g=this.Sd;if(0===g.length)g=0;else if(this.$v){for(var j=i=0,k=q,l={ai:0};!k;){var m=sl(g,j,l);-1===m&&(m=g.length,k=h);j=tl(g.substr(j,m-j).replace(/^\s+|\s+$/g,""),this.pj);j>i&&(i=j);j=l.ai}g=i}else i=sl(g,0,{}),0<=i&&(g=g.substr(0,i)),g=j=tl(g,this.pj);g=Math.min(g,a/this.scale);g=Math.max(8,g)}else g=this.Aa.width;this.ea&&(g=Math.min(g,this.ea.he.width),g=Math.max(g,this.ea.Ae.width));i=rl(this,g,e);i=isNaN(this.Aa.height)?
Math.min(i,b/this.scale):this.Aa.height;if(this.IA===pl||isNaN(this.Aa.width))g=e.Zi,isNaN(this.Aa.width)&&(g=Math.max(8,g));g=Math.max(c,g);i=Math.max(d,i);db(this.Rc,g,i);oj(this,0,0,g,i);this.uq=e};ra.prototype.Pj=function(a,b,c,d){uj(this,a,b,c,d)};
function ql(a,b,c,d,e){b=b.replace(/^\s+|\s+$/g,"");d.Zi===f&&(d.Zi=0);d.Oj===f&&(d.Oj=[]);d.co===f&&(d.co=[]);var g=0,i;if(a.fm===ol)return d.ai=1,d.Zi=tl(b,c),d.Oj.push(d.Zi),d.co.push(b),new cb(d.Zi,Eh(a,c));a.zk===p&&(a.zk=Eh(a,c));var a=a.zk,j=b,k=0;0===j.length&&(k=1,d.Oj.push(0),d.co.push(j));for(;0<j.length;){for(var l=ul(j),j=j.substr(l.length);tl(l,c)>e;){var m=1,b=tl(l.substr(0,m),c);for(i=0;b<=e;)m++,i=b,b=tl(l.substr(0,m),c);1===m?(d.Oj[k]=b,g=Math.max(g,b)):(d.Oj[k]=i,g=Math.max(g,i));
m--;1>m&&(m=1);d.co[k]=l.substr(0,m);k++;l=l.substr(m)}i=ul(j);for(b=tl(l+i,c);0<i.length&&b<=e;)l+=i,j=j.substr(i.length),i=ul(j),b=tl((l+i).replace(/^\s+|\s+$/g,""),c);l=l.replace(/^\s+|\s+$/g,"");""!==l&&(0===i.length?(d.Oj.push(b),g=Math.max(g,b)):(i=tl(l,c),d.Oj.push(i),g=Math.max(g,i)),d.co.push(l),k++)}d.ai=k;d.Zi=Math.max(d.Zi,g);return new cb(d.Zi,a*d.ai)}function ul(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}
function tl(a,b){x.Wu!==b&&(x.Vu.font=b,x.Wu=b);return x.Vu.measureText(a).width}function Eh(a,b){if(a.zk!==p)return a.zk;x.Wu!==b&&(x.Vu.font=b,x.Wu=b);var c=0;x.Bx[b]!==f&&5E3>x.uB?c=x.Bx[b]:(c=1.3*x.Vu.measureText("M").width,x.Bx[b]=c,x.uB++);return c}function sl(a,b,c){c.ai===f&&(c.ai=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.ai="\r"===a[d]&&d+1<a.length&&"\n"===a[d+1]?d+2:d+1);return d}
function rl(a,b,c){var d=a.Sd,e=a.pj,g=Eh(a,e);if(0===d.length)return c.Zi=0,a.Rl=1,g;if(!a.$v){var i=sl(d,0,{});0<=i&&(d=d.substr(0,i))}for(var j=i=0,k=0,l=-1,m={ai:0},n=q;!n;)l=sl(d,k,m),-1===l&&(l=d.length,n=h),k<=l&&(k=d.substr(k,l-k),a.fm!==ol?(c.ai=0,k=ql(a,k,e,c,b),i+=k.height,j+=c.ai):(ql(a,k,e,c,Infinity),i+=g,j++)),k=m.ai;a.Rl=j;return a.ou=i}x.g(ra,"textValidation",ra.prototype.et);
x.defineProperty(ra,{et:"textValidation"},t("Jj"),function(a){var b=this.Jj;b!==a&&(a!==p&&x.k(a,"function",ra,"textValidation"),this.Jj=a,this.j("textValidation",b,a))});function jk(){U.call(this);this.ji=p;this.zr="";this.Ij=(new L(NaN,NaN,NaN,NaN)).freeze();this.gn=Wc;this.bv=this.He=p;this.du=this.Sl=q}x.S("Picture",jk);x.Ja(jk,U);jk.prototype.Db=function(a){U.prototype.Db.call(this,a);a.element=this.ji;a.zr=this.zr;a.Ij.Ya(this.Ij);a.gn=this.gn;a.He=this.He};
jk.prototype.toString=function(){return"Picture("+this.source+")#"+x.ic(this)};x.g(jk,"element",jk.prototype.element);
x.defineProperty(jk,{element:"element"},t("ji"),function(a){var b=this.ji;if(b!==a){a instanceof HTMLImageElement||(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement)||x.m("Picture.element must be an instance of Image, Canvas, or Video.");var c=this;a instanceof HTMLCanvasElement?this.du=h:(this.du=q,a.onerror=function(a){c.He!==p&&c.He(c,a)});this.ji=a;this.j("element",b,a);a.complete===h||a.complete===f?(this.Sl=h,this.Aa.R()||(this.fc=q,this.T())):(x.Ly.push(this),x.Mu===p&&(x.Mu=setInterval(function(){for(var a=
[],b=x.Ly,c=b.length,i=0;i<c;i++){var j=b[i];vl(j)||a.push(j)}0===a.length&&(clearInterval(x.Mu),x.Mu=p);x.Ly=a},600)))}});function vl(a){var b=a.ji;if(!b)return h;if(!b.complete)return q;if(a.Sl===h)return h;a.Sl=h;if(a.h)a.Aa.R()||(a.fc=q,a.T(),a.h.Ui()),Ih(a.h);else{var a=x.kB,c=a.length;if(0===c)for(var c=document.getElementsByTagName("canvas"),d=c.length,b=0;b<d;b++){var e=c[b];e.parentElement&&e.parentElement.da&&a.push(e.parentElement.da)}c=a.length;for(b=0;b<c;b++)Ih(a[b])}return h}
x.g(jk,"source",jk.prototype.source);x.defineProperty(jk,{source:"source"},t("zr"),function(a){var b=this.zr;if(b!==a)if(x.k(a,"string",jk,"source"),this.zr=a,this.j("source",b,a),b=x.DF,b[a]!==f)this.element=b[a];else{var c=document.createElement("img");c.src=a;b[a]=c;c instanceof HTMLImageElement&&(this.element=c)}});x.g(jk,"sourceRect",jk.prototype.Wh);
x.defineProperty(jk,{Wh:"sourceRect"},t("Ij"),function(a){var b=this.Ij;b.K(a)||(x.i(a,L,jk,"sourceRect"),this.Ij=a=a.Q(),this.j("sourceRect",b,a))});x.g(jk,"imageStretch",jk.prototype.pH);x.defineProperty(jk,{pH:"imageStretch"},t("gn"),function(a){var b=this.gn;b!==a&&(x.ob(a,U,jk,"imageStretch"),this.gn=a,this.j("imageStretch",b,a))});x.g(jk,"errorFunction",jk.prototype.js);
x.defineProperty(jk,{js:"errorFunction"},t("He"),function(a){var b=this.He;if(b!==a){a!==p&&x.k(a,"function",jk,"errorFunction");this.He=a;if(this.ji){var c=this;this.ji.onerror=function(a){c.He!==p&&c.He(c,a)}}this.j("errorFunction",b,a)}});
jk.prototype.mo=function(a,b){if(!b.Ot){if(this.bv===p){var c=document.createElement("canvas").getContext("2d");c.drawImage(this.ji,0,0);try{c.getImageData(0,0,1,1),this.bv=q}catch(d){this.bv=h}}if(this.bv)return}c=this.ji;if(c!==p){var e=c.src;(e===p||""===e)&&x.m("Element has no source attribute: "+c);var e=this.Ma,g=0,i=0,j=this.du,k=j?+c.width:c.naturalWidth,j=j?+c.height:c.naturalHeight;if(!(0===k||0===j)){k===f&&c.videoWidth&&(k=c.videoWidth||e.width);j===f&&c.videoHeight&&(j=c.videoHeight||
e.height);this.Wh.R()&&(g=this.Ij.x,i=this.Ij.y,k=this.Ij.width,j=this.Ij.height);var l=k,m=j,n=this.gn;switch(n){case lj:if(this.Wh.R())break;g+=Math.max((l-e.width)/2,0);i+=Math.max((m-e.height)/2,0);k=Math.min(e.width,l);j=Math.min(e.height,m);break;case Wc:l=e.width;m=e.height;break;case Yg:case Zg:n===Yg?(n=Math.min(e.height/m,e.width/l),l*=n,m*=n):n===Zg&&(n=Math.max(e.height/m,e.width/l),l*=n,m*=n,g+=(l-e.width)/2,i+=(m-e.height)/2,k*=1/(l/e.width),j*=1/(m/e.height),l=e.width,m=e.height)}a.drawImage(c,
g,i,k,j,Math.max((e.width-l)/2,0),Math.max((e.height-m)/2,0),Math.min(e.width,l),Math.min(e.height,m))}}};x.u(jk,{Ma:"naturalBounds"},t("Rc"));
jk.prototype.Is=function(a,b,c,d){var e=this.Aa,g=rj(this),i=this.ji,j=this.du;if(j||!this.Sl&&i&&i.complete)this.Sl=h;i===p&&(b=a=0);g!==Wc&&g!==nj?isFinite(e.width)?a=e.width:i!==p&&this.Sl!==q&&(a=this.Wh.R()?this.Wh.width:j?+i.width:i.naturalWidth):(isFinite(a)||(a=this.Wh.R()?this.Wh.width:j?+i.width:i.naturalWidth),c=0);g!==Wc&&g!==mj?isFinite(e.height)?b=e.height:i!==p&&this.Sl!==q&&(b=this.Wh.R()?this.Wh.height:j?+i.height:i.naturalHeight):(isFinite(b)||(b=this.Wh.R()?this.Wh.height:j?+i.height:
i.naturalHeight),d=0);e=this.he;g=this.Ae;c=Math.max(c,g.width);d=Math.max(d,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);i!==p&&!i.complete&&(isFinite(a)||(a=0),isFinite(b)||(b=0));db(this.Rc,a,b);oj(this,0,0,a,b)};jk.prototype.Pj=function(a,b,c,d){uj(this,a,b,c,d)};function P(){this.q=new Tc;this.Sb=p}
function Q(a,b,c,d,e,g){a.q===p&&x.m("StreamGeometryContext has been closed");e!==f&&e===h?(a.Sb===p&&x.m("Need to call beginFigure first"),d=new S(rd),d.D=b,d.F=c,a.Sb.Fa.add(d)):(a.Sb=new Vc,a.Sb.pa=b,a.Sb.qa=c,a.Sb.wo=d,a.q.yb.add(a.Sb));g!==f&&(a.Sb.Tf=g)}function hd(a){a.q===p&&x.m("StreamGeometryContext has been closed");a.Sb===p&&x.m("Need to call beginFigure first");var b=a.Sb.Fa.length;0<b&&a.Sb.Fa.o[b-1].close()}
function id(a){a.q===p&&x.m("StreamGeometryContext has been closed");a.Sb===p&&x.m("Need to call beginFigure first");a.Sb.Am=q}P.prototype.moveTo=function(a,b,c){this.q===p&&x.m("StreamGeometryContext has been closed");this.Sb===p&&x.m("Need to call beginFigure first");var d=new S(rd);d.D=a;d.F=b;c&&d.close();this.Sb.Fa.add(d)};
P.prototype.lineTo=function(a,b,c){this.q===p&&x.m("StreamGeometryContext has been closed");this.Sb===p&&x.m("Need to call beginFigure first");var d=new S(bd);d.D=a;d.F=b;c&&d.close();this.Sb.Fa.add(d)};function R(a,b,c,d,e,g,i,j){a.q===p&&x.m("StreamGeometryContext has been closed");a.Sb===p&&x.m("Need to call beginFigure first");var k=new S(sd);k.ac=b;k.Fc=c;k.xg=d;k.yg=e;k.D=g;k.F=i;j&&k.close();a.Sb.Fa.add(k)}
function fd(a,b,c,d,e){a.q===p&&x.m("StreamGeometryContext has been closed");a.Sb===p&&x.m("Need to call beginFigure first");var g=new S(td);g.ac=b;g.Fc=c;g.D=d;g.F=e;a.Sb.Fa.add(g)}P.prototype.arcTo=function(a,b,c,d,e,g,i){this.q===p&&x.m("StreamGeometryContext has been closed");this.Sb===p&&x.m("Need to call beginFigure first");var j=new S(ud);j.Ag=a;j.Yh=b;j.ua=c;j.Ba=d;j.radiusX=e;j.radiusY=g?g:e;i&&j.close();this.Sb.Fa.add(j)};
function wl(a,b,c,d,e,g,i,j,k,l,m,n,r,s){var v=1-k,a=a*v+c*k,b=b*v+d*k,c=c*v+e*k,d=d*v+g*k,e=e*v+i*k,g=g*v+j*k,j=a*v+c*k,i=b*v+d*k,c=c*v+e*k,d=d*v+g*k;l.x=a;l.y=b;m.x=j;m.y=i;n.x=j*v+c*k;n.y=i*v+d*k;r.x=c;r.y=d;s.x=e;s.y=g}function xl(a){var a=yl(a),b=[];b[0]=a[0];for(var c=1,d=1;c<a.length;c+=2,d+=3)b[d]=a[c],b[d+1]=a[c],b[d+2]=a[c+1];return b}
function yl(a){for(var b=zl(a),c=[],d=Math.floor(b.length/2),e=b.length-1,a=0===a%2?2:1,g=0;g<e;g++){var i=b[g],j=b[g+1],k=b[(d+g-1)%e],l=b[(d+g+a)%e];c[2*g]=i;c[2*g+1]=Al(i.x,i.y,k.x,k.y,j.x,j.y,l.x,l.y)}c[c.length]=c[0];return c}function Al(a,b,c,d,e,g,i,j){c=a-c;i=e-i;0===c||0===i?0===c?(i=(g-j)/i,j=a,e=i*j+(g-i*e)):(d=(b-d)/c,j=e,e=d*j+(b-d*a)):(d=(b-d)/c,i=(g-j)/i,a=b-d*a,j=(g-i*e-a)/(d-i),e=d*j+a);return new K(j,e)}
function zl(a){for(var b=[],c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new K(0.5+0.5*Math.cos(d),0.5+0.5*Math.sin(d));b.push(b[0]);return b}
var gl={None:"Rectangle",Rectangle:function(a,b,c){a=new Tc;a.type=Zc;a.pa=0;a.qa=0;a.D=b;a.F=c;return a},Square:function(a,b,c){a=new Tc;a.ec=Yg;a.type=Zc;a.pa=0;a.qa=0;a.D=b;a.F=c;return a},Ellipse:function(a,b,c){a=new Tc;a.type=$c;a.pa=0;a.qa=0;a.D=b;a.F=c;a.v=new N(0.156,0.156);a.w=new N(0.844,0.844);return a},Circle:function(a,b,c){a=new Tc;a.ec=Yg;a.type=$c;a.pa=0;a.qa=0;a.D=b;a.F=c;a.v=new N(0.156,0.156);a.w=new N(0.844,0.844);return a},Connector:"Ellipse",TriangleRight:function(a,b,c){var a=
new Tc,d=new Vc,e=new S;e.D=b;e.F=0.5*c;d.Fa.add(e);b=new S;b.D=0;b.F=c;d.Fa.add(b.close());a.yb.add(d);a.v=new N(0,0.25);a.w=new N(0.5,0.75);return a},TriangleDown:function(a,b,c){var a=new Tc,d=new Vc,e=new S;e.D=b;e.F=0;d.Fa.add(e);e=new S;e.D=0.5*b;e.F=c;d.Fa.add(e.close());a.yb.add(d);a.v=new N(0.25,0);a.w=new N(0.75,0.5);return a},TriangleLeft:function(a,b,c){var a=new Tc,d=new Vc;d.pa=b;d.qa=c;var e=new S;e.D=0;e.F=0.5*c;d.Fa.add(e);c=new S;c.D=b;c.F=0;d.Fa.add(c.close());a.yb.add(d);a.v=new N(0.5,
0.25);a.w=new N(1,0.75);return a},TriangleUp:function(a,b,c){var a=new Tc,d=new Vc;d.pa=b;d.qa=c;var e=new S;e.D=0;e.F=c;d.Fa.add(e);c=new S;c.D=0.5*b;c.F=0;d.Fa.add(c.close());a.yb.add(d);a.v=new N(0.25,0.5);a.w=new N(0.75,1);return a},Line1:function(a,b,c){a=new Tc;a.type=Xc;a.pa=0;a.qa=0;a.D=b;a.F=c;return a},Line2:function(a,b,c){a=new Tc;a.type=Xc;a.pa=b;a.qa=0;a.D=0;a.F=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new Tc;a.type=Xc;a.pa=0;a.qa=c/2;a.D=b;a.F=c/2;return a},LineV:function(a,
b,c){a=new Tc;a.type=Xc;a.pa=b/2;a.qa=0;a.D=b/2;a.F=c;return a},Curve1:function(a,b,c){a=new P;Q(a,0,0,q);R(a,ac*b,0,1*b,(1-ac)*c,b,c);return a.q},Curve2:function(a,b,c){a=new P;Q(a,0,0,q);R(a,0,ac*c,(1-ac)*b,c,b,c);return a.q},Curve3:function(a,b,c){a=new P;Q(a,1*b,0,q);R(a,1*b,ac*c,ac*b,1*c,0,1*c);return a.q},Curve4:function(a,b,c){a=new P;Q(a,1*b,0,q);R(a,(1-ac)*b,0,0,(1-ac)*c,0,1*c);return a.q},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=new P;Q(a,0.5*b,0*c,h);a.lineTo(0*
b,1*c);a.lineTo(1*b,1*c,h);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,1);return b},Decision:"Diamond",Diamond:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(0,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0.5*c,h);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.75);return b},Pentagon:function(a,b,c){var a=zl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;5>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.2,0.22);b.w=new N(0.8,0.9);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var a=
zl(6),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;6>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.07,0.25);b.w=new N(0.93,0.75);return b},Heptagon:function(a,b,c){var a=zl(7),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;7>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.2,0.15);b.w=new N(0.8,0.85);return b},Octagon:function(a,b,c){var a=zl(8),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;8>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.15,0.15);b.w=new N(0.85,0.85);
return b},Nonagon:function(a,b,c){var a=zl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;9>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.17,0.13);b.w=new N(0.82,0.82);return b},Decagon:function(a,b,c){var a=zl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.16,0.16);b.w=new N(0.84,0.84);return b},Dodecagon:function(a,b,c){var a=zl(12),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);
b=d.q;b.v=new N(0.16,0.16);b.w=new N(0.84,0.84);return b},FivePointedStar:function(a,b,c){var a=yl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.312,0.383);b.w=new N(0.693,0.765);return b},SixPointedStar:function(a,b,c){var a=yl(6),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.17,0.251);b.w=new N(0.833,0.755);return b},SevenPointedStar:function(a,b,c){var a=yl(7),d=new P;Q(d,
a[0].x*b,a[0].y*c,h);for(var e=1;14>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.363,0.361);b.w=new N(0.641,0.709);return b},EightPointedStar:function(a,b,c){var a=yl(8),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;16>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.252,0.255);b.w=new N(0.75,0.75);return b},NinePointedStar:function(a,b,c){var a=yl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;18>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.355,0.361);b.w=new N(0.645,
0.651);return b},TenPointedStar:function(a,b,c){var a=yl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;20>e;e++)d.lineTo(a[e].x*b,a[e].y*c);hd(d);b=d.q;b.v=new N(0.281,0.261);b.w=new N(0.723,0.748);return b},FivePointedBurst:function(a,b,c){var a=xl(5),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.312,0.383);b.w=new N(0.693,0.765);return b},SixPointedBurst:function(a,b,c){var a=xl(6),d=new P;
Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.17,0.251);b.w=new N(0.833,0.755);return b},SevenPointedBurst:function(a,b,c){var a=xl(7),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.363,0.361);b.w=new N(0.641,0.709);return b},EightPointedBurst:function(a,b,c){var a=xl(8),d=new P;Q(d,a[0].x*b,a[0].y*
c,h);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.252,0.255);b.w=new N(0.75,0.75);return b},NinePointedBurst:function(a,b,c){var a=xl(9),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.355,0.361);b.w=new N(0.645,0.651);return b},TenPointedBurst:function(a,b,c){var a=xl(10),d=new P;Q(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=
3)R(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);hd(d);b=d.q;b.v=new N(0.281,0.261);b.w=new N(0.723,0.748);return b},Cloud:function(a,b,c){a=new P;Q(a,0.08034461*b,0.1944299*c,h);R(a,-0.09239631*b,0.07836421*c,0.1406031*b,-0.0542823*c,0.2008615*b,0.05349299*c);R(a,0.2450511*b,-0.00697547*c,0.3776197*b,-0.01112067*c,0.4338609*b,0.074219*c);R(a,0.4539471*b,0,0.6066018*b,-0.02526587*c,0.6558228*b,0.07004196*c);R(a,0.6914277*b,-0.01904177*c,0.8921095*b,-0.01220843*c,0.8921095*b,0.08370865*
c);R(a,1.036446*b,0.04105738*c,1.020377*b,0.3022052*c,0.9147671*b,0.3194596*c);R(a,1.04448*b,0.360238*c,0.992256*b,0.5219009*c,0.9082935*b,0.562044*c);R(a,1.032337*b,0.5771781*c,1.018411*b,0.8120651*c,0.9212406*b,0.8217117*c);R(a,1.028411*b,0.9571472*c,0.8556702*b,1.052487*c,0.7592566*b,0.9156953*c);R(a,0.7431877*b,1.009325*c,0.5624123*b,1.021761*c,0.5101666*b,0.9310455*c);R(a,0.4820677*b,1.031761*c,0.3030112*b,1.002796*c,0.2609328*b,0.9344623*c);R(a,0.2329994*b,1.01518*c,0.03213784*b,1.01518*c,0.08034461*
b,0.870098*c);R(a,-0.02812061*b,0.9032597*c,-0.01205169*b,0.6835638*c,0.06829292*b,0.6545475*c);R(a,-0.01812061*b,0.6089503*c,-0.00606892*b,0.4555777*c,0.06427569*b,0.4265613*c);R(a,-0.01606892*b,0.3892545*c,-0.01205169*b,0.1944299*c,0.08034461*b,0.1944299*c);hd(a);b=a.q;b.v=new N(0.1,0.1);b.w=new N(0.9,0.9);return b},Gate:"Crescent",Crescent:function(a,b,c){a=new P;Q(a,0,0,h);R(a,1*b,0,1*b,1*c,0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.511,0.19);b.w=new N(0.776,0.76);return b},
FramedRectangle:function(a,b,c){var d=new P,e=a?a.kc:0,a=a?a.Ss:0;0===e&&(e=0.1);0===a&&(a=0.1);Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,h);Q(d,e*b,a*c,q,h);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,h);b=d.q;b.v=new N(e,a);b.w=new N(1-e,1-a);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=new P;Q(a,0,0,h);R(a,ac*b,0,1*b,(0.5-ac/2)*c,1*b,0.5*c);R(a,1*b,(0.5+ac/2)*c,ac*b,1*c,0,1*c);hd(a);b=a.q;b.v=new N(0,0.2);b.w=new N(0.75,0.8);return b},Heart:function(a,
b,c){a=new P;Q(a,0.5*b,1*c,h);R(a,0.1*b,0.8*c,0,0.5*c,0*b,0.3*c);R(a,0*b,0,0.45*b,0,0.5*b,0.3*c);R(a,0.55*b,0,1*b,0,1*b,0.3*c);R(a,b,0.5*c,0.9*b,0.8*c,0.5*b,1*c);hd(a);b=a.q;b.v=new N(0.15,0.29);b.w=new N(0.86,0.68);return b},Spade:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(0.51*b,0.01*c);R(a,0.6*b,0.2*c,b,0.25*c,b,0.5*c);R(a,b,0.8*c,0.6*b,0.8*c,0.55*b,0.7*c);R(a,0.5*b,0.75*c,0.55*b,0.95*c,0.75*b,c);a.lineTo(0.25*b,c);R(a,0.45*b,0.95*c,0.5*b,0.75*c,0.45*b,0.7*c);R(a,0.4*b,0.8*c,0,0.8*c,0,0.5*
c);R(a,0,0.25*c,0.4*b,0.2*c,0.49*b,0.01*c);hd(a);b=a.q;b.v=new N(0.19,0.26);b.w=new N(0.8,0.68);return b},Club:function(a,b,c){a=new P;Q(a,0.4*b,0.6*c,h);R(a,0.5*b,0.75*c,0.45*b,0.95*c,0.15*b,1*c);a.lineTo(0.85*b,c);R(a,0.55*b,0.95*c,0.5*b,0.75*c,0.6*b,0.6*c);var d=0.2,e=0.3,g=0,i=d*(4*(Math.SQRT2-1)/3);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+
g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e+0.05)*b,(0.5-i+g-0.02)*c,0.65*b,0.36771243*c);d=0.2;e=0;g=-0.3;i=d*(4*(Math.SQRT2-1)/3);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,0.35*b,0.36771243*c);d=0.2;e=-0.3;g=0;i=d*(4*(Math.SQRT2-1)/3);R(a,(0.5+
d+e-0.05)*b,(0.5-i+g-0.02)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,0.4*b,0.6*c);hd(a);b=a.q;b.v=new N(0.06,0.39);b.w=new N(0.93,0.58);return b},YinYang:function(a,b,c){var a=0.5,d=new P,a=0.5;Q(d,0.5*b,0,h);d.arcTo(270,180,0.5*b,0.5*b,0.5*b);R(d,1*b,a*c,0,a*c,a*b,0,h);var a=0.1,e=0.25;Q(d,
(0.5+a)*b,e*c,h,h);d.arcTo(0,-360,0.5*b,c*e,a*b);hd(d);Q(d,0.5*b,0,q);d.arcTo(270,-180,0.5*b,0.5*b,0.5*b);id(d);e=0.75;Q(d,(0.5+a)*b,e*c,h);d.arcTo(0,360,0.5*b,c*e,a*b);hd(d);b=d.q;b.ec=Yg;return b},Peace:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,b,0.5*c,h);R(a,b,(0.5-d)*c,(0.5+d)*b,0,0.5*b,0);R(a,(0.5-d)*b,0,0,(0.5-d)*c,0,0.5*c);R(a,0,(0.5+d)*c,(0.5-d)*b,c,0.5*b,c);R(a,(0.5+d)*b,c,b,(0.5+d)*c,b,0.5*c);d=0.4*(4*(Math.SQRT2-1)/3);Q(a,0.5*b,0.1*c,h,h);R(a,(0.5+d)*b,0.1*c,0.9*b,(0.5-
d)*c,0.9*b,0.5*c);R(a,0.9*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.5*b,0.9*c);R(a,(0.5-d)*b,0.9*c,0.1*b,(0.5+d)*c,0.1*b,0.5*c);R(a,0.1*b,(0.5-d)*c,(0.5-d)*b,0.1*c,0.5*b,0.1*c);var d=0.07,e=0,g=-0.707*0.11,i=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,h);R(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+i+e)*b,(0.5+d+g)*c,
(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=-0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,h);R(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);Q(a,(0.5+
d+e)*b,(0.5+g)*c,h);R(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);b=a.q;b.v=new N(0.146,0.146);b.w=new N(0.853,0.853);b.ec=Yg;return b},NotAllowed:function(a,b,c){var a=0.5*ac,d=0.5,e=new P;Q(e,0.5*b,(0.5-d)*c,h);R(e,(0.5-a)*b,(0.5-d)*c,(0.5-d)*b,
(0.5-a)*c,(0.5-d)*b,0.5*c);R(e,(0.5-d)*b,(0.5+a)*c,(0.5-a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);R(e,(0.5+a)*b,(0.5+d)*c,(0.5+d)*b,(0.5+a)*c,(0.5+d)*b,0.5*c);R(e,(0.5+d)*b,(0.5-a)*c,(0.5+a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);var d=0.4,a=0.4*ac,g=new K(0,0),i=new K(0,0),j=new K(0,0),k=new K(0,0);wl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.42,g,i,j,k,k);var l=new K(0,0),m=new K(0,0),n=new K(0,0);wl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.58,k,k,n,l,m);var r=new K(0,0),s=new K(0,0),v=new K(0,0);wl(0.5,0.5+
d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.42,r,s,v,k,k);var y=new K(0,0),C=new K(0,0),D=new K(0,0);wl(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.58,k,k,D,y,C);Q(e,D.x*b,D.y*c,h,h);R(e,y.x*b,y.y*c,C.x*b,C.y*c,(0.5-d)*b,0.5*c);R(e,(0.5-d)*b,(0.5-a)*c,(0.5-a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);R(e,g.x*b,g.y*c,i.x*b,i.y*c,j.x*b,j.y*c);e.lineTo(D.x*b,D.y*c);hd(e);Q(e,v.x*b,v.y*c,h,h);e.lineTo(n.x*b,n.y*c);R(e,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+d)*b,0.5*c);R(e,(0.5+d)*b,(0.5+a)*c,(0.5+a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);
R(e,r.x*b,r.y*c,s.x*b,s.y*c,v.x*b,v.y*c);hd(e);e.q.ec=Yg;return e.q},Fragile:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.25*b,0);a.lineTo(0.2*b,0.15*c);a.lineTo(0.3*b,0.25*c);a.lineTo(0.29*b,0.33*c);a.lineTo(0.35*b,0.25*c);a.lineTo(0.3*b,0.15*c);a.lineTo(0.4*b,0);a.lineTo(1*b,0);R(a,1*b,0.25*c,0.75*b,0.5*c,0.55*b,0.5*c);a.lineTo(0.55*b,0.9*c);a.lineTo(0.7*b,0.9*c);a.lineTo(0.7*b,1*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.9*c);a.lineTo(0.45*b,0.9*c);a.lineTo(0.45*b,0.5*c);R(a,0.25*b,0.5*c,0,0.25*
c,0,0);hd(a);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,0.4);return b},HourGlass:function(a,b,c){a=new P;Q(a,0.65*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.35*b,0.5*c);a.lineTo(0,0);a.lineTo(1*b,0);hd(a);return a.q},Lightning:function(a,b,c){a=new P;Q(a,0*b,0.55*c,h);a.lineTo(0.75*b,0);a.lineTo(0.25*b,0.45*c);a.lineTo(0.9*b,0.48*c);a.lineTo(0.4*b,1*c);a.lineTo(0.65*b,0.55*c);hd(a);return a.q},Parallelogram1:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,a*b,0,h);d.lineTo(1*b,
0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},Input:"Output",Output:function(a,b,c){a=new P;Q(a,0,1*c,h);a.lineTo(0.1*b,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);hd(a);b=a.q;b.v=new N(0.1,0);b.w=new N(0.9,1);return b},Parallelogram2:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.25);var d=new P;Q(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},ThickCross:function(a,b,c){a=a?a.kc:0;0===a&&(a=
0.25);var d=new P;Q(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);hd(d);b=d.q;b.v=new N(0.5-a/2,0.5-a/2);b.w=new N(0.5+a/2,0.5+a/2);return b},ThickX:function(a,b,c){var a=0.25/Math.SQRT2,d=new P;Q(d,0.3*b,0,h);d.lineTo(0.5*
b,0.2*c);d.lineTo(0.7*b,0);d.lineTo(1*b,0.3*c);d.lineTo(0.8*b,0.5*c);d.lineTo(1*b,0.7*c);d.lineTo(0.7*b,1*c);d.lineTo(0.5*b,0.8*c);d.lineTo(0.3*b,1*c);d.lineTo(0,0.7*c);d.lineTo(0.2*b,0.5*c);d.lineTo(0,0.3*c);hd(d);b=d.q;b.v=new N(0.5-a,0.5-a);b.w=new N(0.5+a,0.5+a);return b},ThinCross:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*
c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);hd(d);return d.q},ThinX:function(a,b,c){a=new P;Q(a,0.1*b,0,h);a.lineTo(0.5*b,0.4*c);a.lineTo(0.9*b,0);a.lineTo(1*b,0.1*c);a.lineTo(0.6*b,0.5*c);a.lineTo(1*b,0.9*c);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.6*c);a.lineTo(0.1*b,1*c);a.lineTo(0,0.9*c);a.lineTo(0.4*b,0.5*c);a.lineTo(0,0.1*c);hd(a);return a.q},RightTriangle:function(a,b,
c){a=new P;Q(a,0,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0.5);b.w=new N(0.5,1);return b},RoundedIBeam:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(1*b,0);R(a,0.5*b,0.25*c,0.5*b,0.75*c,1*b,1*c);a.lineTo(0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);hd(a);return a.q},RoundedRectangle:function(a,b,c){var d=a?a.kc:0;0>=d&&(d=5);var d=Math.min(d,b/3),d=Math.min(d,c/3),a=d*ac,e=new P;Q(e,d,0,h);e.lineTo(b-d,0);R(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);R(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);R(e,
a,c,0,c-a,0,c-d);e.lineTo(0,d);R(e,0,a,a,0,d,0);hd(e);b=e.q;1<a?(b.v=new N(0,0,a,a),b.w=new N(1,1,-a,-a)):(b.v=Eb,b.w=Ob);return b},Border:function(a,b,c){a=a?a.kc:0;0>=a&&(a=5);var a=Math.min(a,b/3),a=Math.min(a,c/3),d=new P;Q(d,a,0,h);d.lineTo(b-a,0);R(d,b-0,0,b,0,b,a);d.lineTo(b,c-a);R(d,b,c-0,b-0,c,b-a,c);d.lineTo(a,c);R(d,0,c,0,c-0,0,c-a);d.lineTo(0,a);R(d,0,0,0,0,a,0);hd(d);b=d.q;b.v=Eb;b.w=Ob;return b},SquareIBeam:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.2);var d=new P;Q(d,0,0,h);d.lineTo(1*
b,0);d.lineTo(1*b,a*c);d.lineTo((0.5+a/2)*b,a*c);d.lineTo((0.5+a/2)*b,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);d.lineTo(0,(1-a)*c);d.lineTo((0.5-a/2)*b,(1-a)*c);d.lineTo((0.5-a/2)*b,a*c);d.lineTo(0,a*c);hd(d);return d.q},Trapezoid:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.2);var d=new P;Q(d,a*b,0,h);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var a=a?a.kc:
0,d=new P;Q(d,a,0,h);d.lineTo(0,0);d.lineTo(1*b,0);d.lineTo(0.9*b,1*c);d.lineTo(0.1*b,1*c);hd(d);b=d.q;b.v=new N(0.1,0);b.w=new N(0.9,1);return b},GenderMale:function(a,b,c){var a=new P,d=0.4*ac,e=0.4,g=new K(0,0),i=new K(0,0),j=new K(0,0),k=new K(0,0);Q(a,(0.5-e)*b,0.5*c,h);R(a,(0.5-e)*b,(0.5-d)*c,(0.5-d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);wl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.44,j,k,i,g,g);R(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);var l=new K(i.x,i.y);wl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+
e,0.5,0.56,g,g,i,j,k);g=new K(i.x,i.y);a.lineTo((0.1*l.x+0.855)*b,0.1*l.y*c);a.lineTo(0.85*b,0.1*l.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,(0.1*g.y+0.05*0.9)*c);a.lineTo(g.x*b,g.y*c);R(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);e=0.35;d=0.35*ac;Q(a,0.5*b,(0.5-e)*c,h,h);R(a,(0.5-d)*b,(0.5-e)*c,(0.5-e)*
b,(0.5-d)*c,(0.5-e)*b,0.5*c);R(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5-d)*c,(0.5+d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);Q(a,(0.5-e)*b,0.5*c,h);b=a.q;b.v=new N(0.202,0.257);b.w=new N(0.692,0.839);b.ec=Yg;return b},GenderFemale:function(a,b,c){var a=new P,d=0.375,e=0,g=-0.125,i=d*(4*(Math.SQRT2-1)/3);Q(a,(0.525+e)*b,(0.5+d+g)*c,h);R(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);R(a,
(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.475+e)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c);a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);hd(a);d=0.325;e=0;g=-0.125;i=d*(4*(Math.SQRT2-
1)/3);Q(a,(0.5+d+e)*b,(0.5+g)*c,h,h);R(a,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);R(a,(0.5-i+e)*b,(0.5+d+g)*c,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-d+e)*b,(0.5+g)*c);R(a,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);R(a,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+d+e)*b,(0.5+g)*c);Q(a,(0.525+e)*b,(0.5+d+g)*c,h);b=a.q;b.v=new N(0.232,0.136);b.w=new N(0.782,0.611);b.ec=Yg;return b},PlusLine:function(a,b,c){a=new P;Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*
c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},XLine:function(a,b,c){a=new P;Q(a,0,1*c,q);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);return a.q},AsteriskLine:function(a,b,c){var a=new P,d=0.2/Math.SQRT2;Q(a,d*b,(1-d)*c,q);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);return a.q},CircleLine:function(a,b,c){var a=0.5*ac,d=new P;Q(d,1*b,0.5*c,q);R(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(d,
(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);R(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);R(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);b=d.q;b.v=new N(0.146,0.146);b.w=new N(0.853,0.853);b.ec=Yg;return b},Pie:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,h);R(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);R(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);R(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);R(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);hd(a);
return a.q},PiePiece:function(a,b,c){var a=0.5*(ac/Math.SQRT2),d=Math.SQRT2/2,e=1-Math.SQRT2/2,g=new P;Q(g,b,c,h);R(g,b,(1-a)*c,(d+a)*b,(e+a)*c,d*b,e*c);g.lineTo(0,c);hd(g);return g.q},StopSign:function(a,b,c){var d=1/(Math.SQRT2+2),e=new P;Q(e,d*b,0,h);e.lineTo((1-d)*b,0);e.lineTo(1*b,d*c);e.lineTo(1*b,(1-d)*c);e.lineTo((1-d)*b,1*c);e.lineTo(d*b,1*c);e.lineTo(0,(1-d)*c);e.lineTo(0,d*c);hd(e);b=e.q;a&&Bb(a.v)&&(a.v=new N(d/2,d/2));a&&Bb(a.w)&&(a.w=new N(1-d/2,1-d/2));return b},LogicImplies:function(a,
b,c){a=a?a.kc:0;0===a&&(a=0.2);var d=new P;Q(d,(1-a)*b,0*c,q);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);b=d.q;b.v=new N(0,0);b.w=new N(0.8,0.5);return b},LogicIff:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.2);var d=new P;Q(d,(1-a)*b,0*c,q);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);d.moveTo(a*b,0);d.lineTo(0,0.5*c);d.lineTo(a*b,c);b=d.q;b.v=new N(0.2,0);b.w=new N(0.8,0.5);return b},LogicNot:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*
b,0);a.lineTo(1*b,1*c);return a.q},LogicAnd:function(a,b,c){a=new P;Q(a,0,1*c,q);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,1);return b},LogicOr:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.q;b.v=new N(0.219,0);b.w=new N(0.78,0.409);return b},LogicXor:function(a,b,c){a=new P;Q(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*ac;R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,
0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);b=a.q;b.ec=Yg;return b},LogicTruth:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},LogicFalsity:function(a,b,c){a=new P;Q(a,0,1*c,q);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);return a.q},LogicThereExists:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);return a.q},
LogicForAll:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,0.5);return b},LogicIsDefinedAs:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.q;b.v=new N(0.01,0.01);b.w=new N(0.99,0.49);return b},LogicIntersect:function(a,b,c){var a=0.5*ac,d=new P;Q(d,0,1*c,q);d.lineTo(0,0.5*c);R(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);R(d,(0.5+a)*
b,0,1*b,(0.5-a)*c,1*b,0.5*c);d.lineTo(1*b,1*c);b=d.q;b.v=new N(0,0.5);b.w=new N(1,1);return b},LogicUnion:function(a,b,c){var a=0.5*ac,d=new P;Q(d,1*b,0,q);d.lineTo(1*b,0.5*c);R(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);d.lineTo(0,0);b=d.q;b.v=new N(0,0);b.w=new N(1,0.5);return b},Arrow:function(a,b,c){var d=a?a.kc:0,a=a?a.Ss:0;0===d&&(d=0.3);0===a&&(a=0.3);var e=new P;Q(e,0,(0.5-a/2)*c,h);e.lineTo((1-d)*b,(0.5-a/2)*c);e.lineTo((1-d)*b,0);e.lineTo(1*b,0.5*c);
e.lineTo((1-d)*b,1*c);e.lineTo((1-d)*b,(0.5+a/2)*c);e.lineTo(0,(0.5+a/2)*c);hd(e);b=e.q;b.v=new N(0,0.5-a/2);d=Al(0,0.5+a/2,1,0.5+a/2,1-d,1,1,0.5);b.w=new N(d.x,d.y);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);hd(a);return a.q},DoubleArrow:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*
c);a.lineTo(0,1*c);hd(a);Q(a,0.3*b,0.214*c,q);a.lineTo(0.3*b,0.786*c);id(a);return a.q},DoubleEndArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;c=Al(0,0.5,0.3,0,0,0.3,0.3,0.3);b.v=new N(c.x,c.y);c=Al(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},IBeamArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,h);
a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0,0.3);c=Al(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},Pointer:function(a,b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);hd(a);b=a.q;b.v=new N(0.2,0.35);c=Al(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new N(c.x,c.y);return b},RoundedPointer:function(a,
b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0,1*c);R(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.4,0.35);c=Al(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new N(c.x,c.y);return b},SplitEndArrow:function(a,b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0.2,0.3);c=Al(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new N(c.x,c.y);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,
b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.7*b,0);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.7,1);return b},Cone1:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.9*c,h);e.lineTo(0.5*b,0);e.lineTo(1*b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);hd(e);b=e.q;b.v=new N(0.25,0.5);b.w=new N(0.75,0.97);return b},Cone2:function(a,b,c){a=new P;Q(a,0,0.9*c,h);R(a,(1-0.85/0.9)*b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*
b,0);a.lineTo(0,0.9*c);hd(a);Q(a,0,0.9*c,q);R(a,(1-0.85/0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);id(a);b=a.q;b.v=new N(0.25,0.5);b.w=new N(0.75,0.82);return b},Cube1:function(a,b,c){a=new P;Q(a,0.5*b,1*c,h);a.lineTo(1*b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);hd(a);Q(a,0.5*b,1*c,q);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);id(a);b=a.q;b.v=new N(0,0.3);b.w=new N(0.5,0.85);return b},Cube2:function(a,b,c){a=
new P;Q(a,0,0.3*c,h);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);hd(a);Q(a,0,0.3*c,q);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);id(a);b=a.q;b.v=new N(0,0.3);b.w=new N(0.7,1);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.1*c,h);R(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);R(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*
b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);e.lineTo(0,0.1*c);Q(e,0,0.1*c,q);R(e,0,(0.1+d)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);R(e,(0.5+a)*b,0.2*c,1*b,(0.1+d)*c,1*b,0.1*c);id(e);b=e.q;b.v=new N(0,0.2);b.w=new N(1,0.9);return b},Cylinder2:function(a,b,c){var a=0.5*ac,d=0.1*ac,e=new P;Q(e,0,0.9*c,h);e.lineTo(0,0.1*c);R(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);R(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(1*b,0.9*c);R(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);R(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);Q(e,0,0.9*
c,q);R(e,0,(0.9-d)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);R(e,(0.5+a)*b,0.8*c,1*b,(0.9-d)*c,1*b,0.9*c);id(e);b=e.q;b.v=new N(0,0.1);b.w=new N(1,0.8);return b},Cylinder3:function(a,b,c){var a=0.1*ac,d=0.5*ac,e=new P;Q(e,0.1*b,0,h);e.lineTo(0.9*b,0);R(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);R(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);Q(e,0.1*b,0,q);R(e,(0.1+a)*b,0,0.2*b,(0.5-d)*c,0.2*b,0.5*c);R(e,0.2*b,(0.5+d)*c,(0.1+
a)*b,1*c,0.1*b,1*c);id(e);b=e.q;b.v=new N(0.2,0);b.w=new N(0.9,1);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var a=0.1*ac,d=0.5*ac,e=new P;Q(e,0.9*b,0,h);R(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);R(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);e.lineTo(0.9*b,0);Q(e,0.9*b,0,q);R(e,(0.9-a)*b,0,0.8*b,(0.5-d)*c,0.8*b,0.5*c);R(e,0.8*b,(0.5+d)*c,(0.9-a)*b,1*c,0.9*b,1*c);id(e);b=e.q;b.v=new N(0.1,0);
b.w=new N(0.8,1);return b},Prism1:function(a,b,c){a=new P;Q(a,0.25*b,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);hd(a);Q(a,0.25*b,0.25*c,q);a.lineTo(0.5*b,c);id(a);b=a.q;b.v=new N(0.408,0.172);b.w=new N(0.833,0.662);return b},Prism2:function(a,b,c){a=new P;Q(a,0,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);hd(a);Q(a,0,c,q);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);id(a);b=a.q;
b.v=new N(0.25,0.5);b.w=new N(0.75,0.75);return b},Pyramid1:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);hd(a);Q(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);id(a);b=a.q;b.v=new N(0.25,0.367);b.w=new N(0.75,0.875);return b},Pyramid2:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(b,0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);hd(a);Q(a,0.5*b,0,q);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);id(a);b=a.q;b.v=new N(0.25,
0.367);b.w=new N(0.75,0.875);return b},Actor:function(a,b,c){var d=0.2*ac,e=0.1*ac,a=0.5,g=0.1,i=new P;Q(i,a*b,(g+0.1)*c,h);R(i,(a-d)*b,(g+0.1)*c,(a-0.2)*b,(g+e)*c,(a-0.2)*b,g*c);R(i,(a-0.2)*b,(g-e)*c,(a-d)*b,(g-0.1)*c,a*b,(g-0.1)*c);R(i,(a+d)*b,(g-0.1)*c,(a+0.2)*b,(g-e)*c,(a+0.2)*b,g*c);R(i,(a+0.2)*b,(g+e)*c,(a+d)*b,(g+0.1)*c,a*b,(g+0.1)*c);d=0.05;e=ac*d;Q(i,0.5*b,0.2*c,h);i.lineTo(0.95*b,0.2*c);a=0.95;g=0.25;R(i,(a+e)*b,(g-d)*c,(a+d)*b,(g-e)*c,(a+d)*b,g*c);i.lineTo(1*b,0.6*c);i.lineTo(0.85*b,0.6*
c);i.lineTo(0.85*b,0.35*c);d=0.025;e=ac*d;a=0.825;g=0.35;R(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.8*b,1*c);i.lineTo(0.55*b,1*c);i.lineTo(0.55*b,0.7*c);d=0.05;e=ac*d;a=0.5;g=0.7;R(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.45*b,1*c);i.lineTo(0.2*b,1*c);i.lineTo(0.2*b,0.35*c);d=0.025;e=ac*d;a=0.175;g=0.35;R(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);R(i,(a-e)*b,(g-
d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.15*b,0.6*c);i.lineTo(0*b,0.6*c);i.lineTo(0*b,0.25*c);d=0.05;e=ac*d;a=0.05;g=0.25;R(i,(a-d)*b,(g-e)*c,(a-e)*b,(g-d)*c,a*b,(g-d)*c);i.lineTo(0.5*b,0.2*c);b=i.q;b.v=new N(0.2,0.2);b.w=new N(0.8,0.65);return b},Card:function(a,b,c){a=new P;Q(a,1*b,0*c,h);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);hd(a);b=a.q;b.v=new N(0,0.2);b.w=new N(1,1);return b},Collate:function(a,b,c){a=new P;Q(a,0.5*b,0.5*c,h);a.lineTo(0,0);a.lineTo(1*
b,0);a.lineTo(0.5*b,0.5*c);Q(a,0.5*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,0.25);return b},CreateRequest:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,0,a*c,q);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);id(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},Database:function(a,b,c){var a=new P,d=0.5*ac,e=0.1*ac;Q(a,1*b,0.1*c,h);a.lineTo(1*
b,0.9*c);R(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);R(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);Q(a,1*b,0.1*c,q);R(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);R(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);R(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);R(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);a.moveTo(1*b,0.3*c);R(a,1*b,(0.3+e)*c,(0.5+d)*b,0.4*c,0.5*b,0.4*c);R(a,(0.5-d)*b,0.4*c,0,(0.3+e)*c,0,
0.3*c);id(a);b=a.q;b.v=new N(0,0.4);b.w=new N(1,0.9);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);R(a,0.25*b,0.9*c,0.25*b,0.1*c,0,0);hd(a);b=a.q;b.v=new N(0.226,0);b.w=new N(0.81,1);return b},DiskStorage:function(a,b,c){var a=new P,d=0.5*ac,e=0.1*ac;Q(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);R(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);R(a,0,(0.1-e)*
c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);Q(a,1*b,0.1*c,q);R(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);R(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);R(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);R(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);id(a);b=a.q;b.v=new N(0,0.3);b.w=new N(1,0.9);return b},Display:function(a,b,c){a=new P;Q(a,0.25*b,0,h);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);hd(a);b=a.q;b.v=new N(0.25,0);b.w=
new N(0.75,1);return b},DividedEvent:function(a,b,c){a=a?a.kc:0;0===a?a=0.2:0.15>a&&(a=0.15);var d=new P,e=0.2*ac;Q(d,0,0.2*c,h);R(d,0,(0.2-e)*c,(0.2-e)*b,0,0.2*b,0);d.lineTo(0.8*b,0);R(d,(0.8+e)*b,0,1*b,(0.2-e)*c,1*b,0.2*c);d.lineTo(1*b,0.8*c);R(d,1*b,(0.8+e)*c,(0.8+e)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);R(d,(0.2-e)*b,1*c,0,(0.8+e)*c,0,0.8*c);d.lineTo(0,0.2*c);Q(d,0,a*c,q);d.lineTo(1*b,a*c);id(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},DividedProcess:function(a,b,c){a=a?a.kc:0;0.1>a&&(a=
0.1);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,0,a*c,q);d.lineTo(1*b,a*c);id(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1);return b},Document:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(1,0.6);return b},ExternalOrganization:function(a,b,c){a=a?a.kc:0;0.2>a&&(a=0.2);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);
Q(d,a*b,0,q);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);id(d);b=d.q;b.v=new N(a/2,a/2);b.w=new N(1-a/2,1-a/2);return b},ExternalProcess:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);hd(a);Q(a,0.1*b,0.4*c,q);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*
c);id(a);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.75);return b},File:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);hd(a);Q(a,0.75*b,0,q);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.25*c);id(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,1);return b},Interrupt:function(a,b,c){a=new P;Q(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,1*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,0);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,
0.75);return b},InternalStorage:function(a,b,c){var d=a?a.kc:0,a=a?a.Ss:0;0===d&&(d=0.1);0===a&&(a=0.1);var e=new P;Q(e,0,0,h);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);hd(e);Q(e,d*b,0,q);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);id(e);b=e.q;b.v=new N(d,a);b.w=new N(1,1);return b},Junction:function(a,b,c){var a=new P,d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=0.5*ac;Q(a,1*b,0.5*c,h);R(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);R(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);R(a,0,(0.5-g)*c,(0.5-
g)*b,0,0.5*b,0);R(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);Q(a,(e+d)*b,(e+d)*c,q);a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);id(a);b=a.q;b.ec=Yg;return b},LinedDocument:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);Q(a,0.1*b,0,q);a.lineTo(0.1*b,0.75*c);id(a);b=a.q;b.v=new N(0.1,0);b.w=new N(1,0.6);return b},LoopLimit:function(a,b,c){a=new P;Q(a,0,1*c,h);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);
a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,1);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0.5*b,1*c,h);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.q;b.v=new N(0.15,0.15);b.w=new N(0.85,0.8);return b},ManualInput:function(a,
b,c){a=new P;Q(a,1*b,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.25*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,1);return b},MessageFromUser:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.7);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(a*b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(0,0);b.w=new N(a,1);return b},MicroformProcessing:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.25);var d=new P;Q(d,0,0,h);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);
d.lineTo(0,1*c);hd(d);b=d.q;b.v=new N(0,a);b.w=new N(1,1-a);return b},MicroformRecording:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(1,0.75);return b},MultiDocument:function(a,b,c){c/=0.8;a=new P;Q(a,b,0,h);a.lineTo(b,0.5*c);R(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);R(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);R(a,
0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);hd(a);Q(a,0.1*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.44*c);id(a);b=a.q;b.v=new N(0,0.25);b.w=new N(0.8,0.77);return b},MultiProcess:function(a,b,c){a=new P;Q(a,0.1*b,0.1*c,h);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*
c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);hd(a);Q(a,0.2*b,0.1*c,q);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);id(a);b=a.q;b.v=new N(0,0.2);b.w=new N(0.8,1);return b},OfflineStorage:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=1-a,e=new P;Q(e,0,0,h);e.lineTo(1*b,0);e.lineTo(0.5*b,1*c);hd(e);Q(e,0.5*a*b,a*c,q);e.lineTo((1-0.5*a)*b,a*c);id(e);b=e.q;b.v=new N(d/4+0.5*a,a);b.w=
new N(3*d/4+0.5*a,a+0.5*d);return b},OffPageConnector:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.75,1);return b},Or:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,h);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*
b,0);id(a);b=a.q;b.ec=Yg;return b},PaperTape:function(a,b,c){c/=0.8;a=new P;Q(a,0,0.7*c,h);a.lineTo(0,0.3*c);R(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);R(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);hd(a);b=a.q;b.v=new N(0,0.49);b.w=new N(1,0.75);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.kc:0,a=a?a.Ss:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new P;Q(e,0,0,h);e.lineTo(1*b,0);e.lineTo((1-a)*b,0.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);hd(e);b=e.q;b.v=new N(d,0);b.w=new N(1-a,1);return b},PrimitiveToCall:function(a,
b,c){var d=a?a.kc:0,a=a?a.Ss:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new P;Q(e,0,0,h);e.lineTo((1-a)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);hd(e);b=e.q;b.v=new N(d,0);b.w=new N(1-a,1);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,(1-a)*b,0,q);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);id(d);b=d.q;b.v=new N(a,0);b.w=new N(1-a,1);return b},Process:function(a,
b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);hd(d);Q(d,a*b,0,q);d.lineTo(a*b,1*c);id(d);b=d.q;b.v=new N(a,0);b.w=new N(1,1);return b},Sort:function(a,b,c){a=new P;Q(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);hd(a);Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);id(a);b=a.q;b.v=new N(0.25,0.25);b.w=new N(0.75,0.5);return b},Start:function(a,b,c){a=new P;Q(a,0.25*b,0,h);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*
b,1*c);R(a,0,1*c,0,0,0.25*b,0);Q(a,0.25*b,0,q);a.lineTo(0.25*b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);id(a);b=a.q;b.v=new N(0.25,0);b.w=new N(0.75,1);return b},Terminator:function(a,b,c){a=new P;Q(a,0.25*b,0,h);a.lineTo(0.75*b,0);R(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);R(a,0,1*c,0,0,0.25*b,0);b=a.q;b.v=new N(0.23,0);b.w=new N(0.77,1);return b},TransmittalTape:function(a,b,c){a=a?a.kc:0;0===a&&(a=0.1);var d=new P;Q(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)*c);
d.lineTo(0,(1-a)*c);hd(d);b=d.q;b.v=new N(0,0);b.w=new N(1,1-a);return b},AndGate:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0,0,h);a.lineTo(0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0);b.w=new N(0.55,1);return b},Buffer:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);hd(a);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,0.75);return b},Clock:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,h);
R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);Q(a,1*b,0.5*c,q);a.lineTo(1*b,0.5*c);Q(a,0.8*b,0.75*c,q);a.lineTo(0.8*b,0.25*c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);id(a);b=a.q;b.ec=Yg;return b},Ground:function(a,b,c){a=new P;Q(a,0.5*b,0,q);a.lineTo(0.5*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*
b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);return a.q},Inverter:function(a,b,c){var a=new P,d=0.1*ac;Q(a,0.8*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);Q(a,1*b,0.5*c,h);R(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);R(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);R(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);R(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.q;b.v=new N(0,0.25);b.w=new N(0.4,0.75);return b},NandGate:function(a,
b,c){var a=new P,d=0.5*ac,e=0.4*ac,g=0.1*ac;Q(a,0.8*b,0.5*c,h);R(a,0.8*b,(0.5+e)*c,(0.4+d)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);R(a,(0.4+d)*b,0,0.8*b,(0.5-e)*c,0.8*b,0.5*c);Q(a,1*b,0.5*c,h);R(a,1*b,(0.5+g)*c,(0.9+g)*b,0.6*c,0.9*b,0.6*c);R(a,(0.9-g)*b,0.6*c,0.8*b,(0.5+g)*c,0.8*b,0.5*c);R(a,0.8*b,(0.5-g)*c,(0.9-g)*b,0.4*c,0.9*b,0.4*c);R(a,(0.9+g)*b,0.4*c,1*b,(0.5-g)*c,1*b,0.5*c);b=a.q;b.v=new N(0,0.05);b.w=new N(0.55,0.95);return b},NorGate:function(a,b,c){var a=new P,d=
0.5,e=ac*d,g=0,i=0.5;Q(a,0.8*b,0.5*c,h);R(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0,1*c);R(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);R(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ac;g=0.9;i=0.5;Q(a,(g-d)*b,i*c,h);R(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);R(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);R(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);R(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.q;b.v=new N(0.2,0.25);b.w=new N(0.6,0.75);return b},OrGate:function(a,b,c){var a=new P,d=0.5*
ac;Q(a,0,0,h);R(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*c,1*b,0.5*c);R(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);R(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);hd(a);b=a.q;b.v=new N(0.2,0.25);b.w=new N(0.75,0.75);return b},XnorGate:function(a,b,c){var a=new P,d=0.5,e=ac*d,g=0.2,i=0.5;Q(a,0.1*b,0,q);R(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);Q(a,0.8*b,0.5*c,h);R(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0.2*b,1*c);R(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);R(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ac;g=0.9;i=0.5;Q(a,
(g-d)*b,i*c,h);R(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);R(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);R(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);R(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.q;b.v=new N(0.4,0.25);b.w=new N(0.65,0.75);return b},XorGate:function(a,b,c){var a=new P,d=0.5*ac;Q(a,0.1*b,0,q);R(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);Q(a,0.2*b,0,h);R(a,(0.2+d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);R(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);R(a,0.45*b,0.75*c,0.45*b,
0.25*c,0.2*b,0);hd(a);b=a.q;b.v=new N(0.4,0.25);b.w=new N(0.8,0.75);return b},Capacitor:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Resistor:function(a,b,c){a=new P;Q(a,0,0.5*c,q);a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);return a.q},Inductor:function(a,b,c){var a=new P,d=0.1*ac,e=0.1,g=0.5;Q(a,(e-0.5*d)*b,(g+0.1)*c,q);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+
d)*c,(e+0.1)*b,(g+d)*c);e=0.3;g=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);g=e=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.7;g=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);R(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.9;g=0.5;R(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,(e+0.5*d)*b,(g+0.1)*c);return a.q},ACvoltageSource:function(a,
b,c){var a=new P,d=0.5*ac;Q(a,0*b,0.5*c,q);R(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);R(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*b,0.5*c);R(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.q;b.ec=Yg;return b},DCvoltageSource:function(a,b,c){a=new P;Q(a,0,0.75*c,q);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Diode:function(a,b,c){a=new P;Q(a,1*b,0,q);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,
0);a.lineTo(1*b,0.5*c);a.lineTo(1*b,1*c);b=a.q;b.v=new N(0,0.25);b.w=new N(0.5,0.75);return b},Wifi:function(a,b,c){var d=b,e=c,b=0.38*b,c=0.6*c,a=new P,g=0.8*ac,i=0.8,j=0,k=0.5,d=(d-b)/2,e=(e-c)/2;Q(a,j*b+d,(k+i)*c+e,h);R(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);R(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);R(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);R(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);hd(a);g=0.4*ac;i=0.4;j=0.2;
k=0.5;Q(a,j*b+d,(k+i)*c+e,h);R(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);R(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);R(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);R(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);hd(a);g=0.2*ac;i=0.2;k=j=0.5;Q(a,(j-i)*b+d,k*c+e,h);R(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);R(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);R(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,
j*b+d,(k+i)*c+e);R(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);g=0.4*ac;i=0.4;j=0.8;k=0.5;Q(a,j*b+d,(k-i)*c+e,h);R(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);R(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);R(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);R(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);hd(a);g=0.8*ac;i=0.8;j=1;k=0.5;Q(a,j*b+d,(k-i)*c+e,h);R(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);R(a,
(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);R(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);R(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);hd(a);return a.q},Email:function(a,b,c){a=new P;Q(a,0,0,h);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);hd(a);Q(a,0,0,q);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);id(a);return a.q},Ethernet:function(a,b,c){a=new P;Q(a,
0.35*b,0,h);a.lineTo(0.65*b,0);a.lineTo(0.65*b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);hd(a);Q(a,0.1*b,1*c,h,h);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);hd(a);Q(a,0.6*b,1*c,h,h);a.lineTo(0.9*b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);hd(a);Q(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25*b,0.6*c);id(a);return a.q},
Power:function(a,b,c){var a=new P,d=0.4*ac,e=0.4,g=new K(0,0),i=new K(0,0),j=new K(0,0),k=new K(0,0);new K(0,0);wl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);new K(i.x,i.y);Q(a,i.x*b,i.y*c,h);R(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);R(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);wl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);R(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);d=0.3*ac;e=0.3;wl(0.5-e,
0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);a.lineTo(i.x*b,i.y*c);R(a,k.x*b,k.y*c,j.x*b,j.y*c,(0.5-e)*b,0.5*c);R(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);R(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);wl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);R(a,k.x*b,k.y*c,j.x*b,j.y*c,i.x*b,i.y*c);hd(a);Q(a,0.45*b,0,h);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);hd(a);b=a.q;b.v=new N(0.25,0.55);b.w=new N(0.75,0.8);return b},Fallout:function(a,
b,c){var a=new P,d=0.5*ac;Q(a,0*b,0.5*c,h);R(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);R(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var e=d=0;Q(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.4;e=0;hd(a);Q(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.2;e=-0.3;hd(a);Q(a,
(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);hd(a);b=a.q;b.ec=Yg;return b},IrritationHazard:function(a,b,c){a=new P;Q(a,0.2*b,0*c,h);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b,0.5*c);a.lineTo(0*b,0.2*c);hd(a);b=a.q;b.v=new N(0.3,0.3);b.w=new N(0.7,0.7);return b},ElectricalHazard:function(a,
b,c){a=new P;Q(a,0.37,0*c,h);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);hd(a);return a.q},FireHazard:function(a,b,c){a=new P;Q(a,0.1*b,1*c,h);R(a,-0.25*b,0.63*c,0.45*b,0.44*c,0.29*b,0*c);R(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);R(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);R(a,0.8*b,
0.34*c,0.88*b,0.43*c,0.75*b,0.6*c);R(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);R(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);hd(a);b=a.q;b.v=new N(0.05,0.645);b.w=new N(0.884,0.908);return b},BpmnActivityLoop:function(a,b,c){var a=new P,d=0.5*(4*(Math.SQRT2-1)/3);Q(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,q);R(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);R(a,1*b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);R(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);R(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*
c);a.moveTo(0.35*b,0.8*c);a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);return a.q},BpmnActivityParallel:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},BpmnActivitySequential:function(a,b,c){a=new P;Q(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);return a.q},BpmnActivityAdHoc:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,1*b,1*c,q);Q(a,0,0.5*c,q);R(a,0.2*b,0.35*c,0.3*b,0.35*
c,0.5*b,0.5*c);R(a,0.7*b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);return a.q},BpmnActivityCompensation:function(a,b,c){a=new P;Q(a,0,0.5*c,h);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*b,1*c);hd(a);return a.q},BpmnTaskMessage:function(a,b,c){a=new P;Q(a,0,0.2*c,h);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);hd(a);Q(a,0,0.2*c,q);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);id(a);return a.q},BpmnTaskScript:function(a,
b,c){a=new P;Q(a,0.7*b,1*c,h);a.lineTo(0.3*b,1*c);R(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);R(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);hd(a);Q(a,0.45*b,0.73*c,q);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*b,0.27*c);a.lineTo(0.56*b,0.27*c);id(a);return a.q},BpmnTaskUser:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,0.335*b,(1-0.555)*c,h);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);R(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);
a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.68*c);R(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;R(a,(0.5-(e+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*b,(d+g)*c,(0.5-d)*b,d*c);R(a,(0.5-d)*b,(d-g)*c,(0.5-e)*b,(d-d)*c,0.5*b,(d-d)*c);R(a,(0.5+e)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);R(a,(0.5+d)*b,(d+g)*c,(0.5+(e+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*
c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.335*b,0.595*c);Q(a,0.2*b,1*c,q);a.lineTo(0.2*b,0.8*c);Q(a,0.8*b,1*c,q);a.lineTo(0.8*b,0.8*c);return a.q},BpmnEventConditional:function(a,b,c){a=new P;Q(a,0.1*b,0,h);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*b,1*c);hd(a);Q(a,0.2*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);id(a);return a.q},BpmnEventError:function(a,b,c){a=new P;Q(a,
0,1*c,h);a.lineTo(0.33*b,0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);hd(a);return a.q},BpmnEventEscalation:function(a,b,c){a=new P;Q(a,0,0,q);Q(a,1*b,1*c,q);Q(a,0.1*b,1*c,h);a.lineTo(0.5*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.5*c);hd(a);return a.q},BpmnEventTimer:function(a,b,c){var a=new P,d=0.5*ac;Q(a,1*b,0.5*c,h);R(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);R(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);R(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);R(a,(0.5+d)*b,0,1*b,
(0.5-d)*c,1*b,0.5*c);Q(a,0.5*b,0,q);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58*b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*b,0.54*c);id(a);b=a.q;b.ec=Yg;return b}},Bl;for(Bl in gl)gl[Bl.toLowerCase()]=Bl;
var Cl={Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",
OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",
BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",
BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",
Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",
BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",
OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z",None:""},fl,Dl={},Hl;for(Hl in gl){var Il=gl[Hl];"string"===typeof Il&&(Il=gl[Il]);"string"===typeof Il&&(Il=gl[Il]);Il&&(Dl[Hl]=Il(p,100,100));Dl[Hl].te()}fl=Dl;var Jl={};
function hl(a){if(Cl){for(var b in Cl){var c=ed(Cl[b],q);Jl[b]=c;Jl[b.toLowerCase()]=b}Cl=f}return Jl[a]}V.FigureGenerators=gl;V.ArrowheadGeometries=Jl;
function z(a){0===arguments.length?G.call(this):G.call(this,a);this.on=this.kh="";this.rq=p;this.Yq=this.Pq=this.$p=this.Fr=this.Hp=this.up=h;this.ir=this.dr=this.cr=q;this.Bn=h;this.vr="";this.sr=h;this.Rk=this.jr=this.er=this.tr=p;this.fu=q;this.Pf=this.ur=p;this.gr="";this.$l=p;this.fr=(new cb(NaN,NaN)).freeze();this.kr="";this.am=p;this.Sd="";this.fq=h;this.J=this.tp=this.uk=p;this.wj=(new K(NaN,NaN)).freeze();this.sn=new K(NaN,NaN);this.Aq="";this.xj=p;this.Bq=Eb;this.Kq=fc;this.Dq=gc;this.Ip=
p;this.gq=h;this.sq=Kl;this.Tf=q;this.En=(new K(6,6)).freeze();this.Dn="gray";this.Cn=4;this.FB=-1;this.qj=h;this.Du=this.me=q}x.S("Part",z);x.Ja(z,G);
z.prototype.Db=function(a){G.prototype.Db.call(this,a);a.kh=this.kh;a.on=this.on;a.rq=this.rq;a.up=this.up;a.Hp=this.Hp;a.Fr=this.Fr;a.$p=this.$p;a.Pq=this.Pq;a.Yq=this.Yq;a.cr=this.cr;a.dr=this.dr;a.ir=this.ir;a.Bn=this.Bn;a.vr=this.vr;a.sr=this.sr;a.tr=this.tr;a.er=this.er;a.jr=this.jr;a.fu=q;a.ur=this.ur;a.Pf=p;a.gr=this.gr;a.fr.Ya(this.fr);a.kr=this.kr;a.Sd=this.Sd;a.fq=this.fq;a.tp=this.tp;a.wj.Ya(this.wj);a.sn.Ya(this.sn);a.Aq=this.Aq;a.Bq=this.Bq.Q();a.Kq=this.Kq.Q();a.Dq=this.Dq.Q();a.Ip=
this.Ip;a.gq=this.gq;a.sq=this.sq;a.Tf=this.Tf;a.En.Ya(this.En);a.Dn=this.Dn;a.Cn=this.Cn};z.prototype.Mh=function(a){G.prototype.Mh.call(this,a);vj(a);a.Rk=p;a.$l=p;a.am=p;a.xj=p};z.prototype.toString=function(){var a=x.gl(Object.getPrototypeOf(this))+"#"+x.ic(this);this.data&&(a+="("+Wd(this.data)+")");return a};z.LayoutNone=0;var Li;z.LayoutAdded=Li=1;var Qi;z.LayoutRemoved=Qi=2;var Xj;z.LayoutShown=Xj=4;var Yj;z.LayoutHidden=Yj=8;z.LayoutNodeSized=16;var Xi;z.LayoutGroupLayout=Xi=32;var Kl;
z.LayoutStandard=Kl=Li|Qi|Xj|Yj|16|Xi;z.prototype.Fm=function(a,b,c,d,e,g,i){var j=this.h;j!==p&&(a===Ud&&"elements"===b?e instanceof G&&Mi(e,e,function(a){Ni(j,a)}):a===Vd&&"elements"===b&&e instanceof G&&Mi(e,e,function(a){Pi(j,a)}),j.Yc(a,b,c,d,e,g,i))};z.prototype.updateTargetBindings=z.prototype.Bb=function(a){G.prototype.Bb.call(this,a);if(this.data!==p)for(a=this.elements;a.next();){var b=a.value;b instanceof G&&Mi(b,b,function(a){a.data!==p&&a.Bb()})}};
x.u(z,{bG:"adornments"},function(){return this.Pf===p?p:this.Pf.l});z.prototype.findAdornment=z.prototype.oo=function(a){u&&x.k(a,"string",z,"findAdornment:category");var b=this.Pf;return b===p?p:b.va(a)};
z.prototype.addAdornment=z.prototype.Tk=function(a,b){if(b!==p){u&&(x.k(a,"string",z,"addAdornment:category"),x.i(b,We,z,"addAdornment:ad"));var c=p,d=this.Pf;d!==p&&(c=d.va(a));if(c!==b){if(c!==p){var e=c.h;e!==p&&e.remove(c)}d===p&&(this.Pf=d=new pa("string",We));b.kh!==a&&(b.Vc=a);d.add(a,b);c=this.h;c!==p&&(c.add(b),b.data=this.data)}}};
z.prototype.removeAdornment=z.prototype.pl=function(a){u&&x.k(a,"string",z,"removeAdornment:category");var b=this.Pf;if(b!==p){var c=b.va(a);if(c!==p){var d=c.h;d!==p&&d.remove(c)}b.remove(a);0===b.count&&(this.Pf=p)}};z.prototype.clearAdornments=z.prototype.Kh=function(){var a=this.Pf;if(a!==p){for(var b=[],a=a.l;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.pl(b[c])}};
z.prototype.updateAdornments=z.prototype.ej=function(){a:{var a=this.h;if(a!==p){var b=p;if(this.Va&&this.qA){var c=this.Uo;if(this.za.R()&&c!==p&&this.sb()&&c.kl()&&c.za.R()){b=this.oo("Selection");if(b===p){b=this.QE;b===p&&(this instanceof F?b=a.eE:this instanceof z&&(b=this instanceof B?a.FD:a.sE));if(!(b instanceof We))break a;Ye(b);b=b.copy();if(!(b instanceof We))break a;b.Vc="Selection";b.Ic=c}if(b!==p){a=b.placeholder;if(a!==p){var d=c.hl(),e=0;c instanceof V&&(e=c.eb);a.Aa=new cb((c.Ma.width+
e)*d,(c.Ma.height+e)*d)}b.angle=c.ro();b.type!==Mg?b.location=c.Gb(Eb):b.T()}}this.Tk("Selection",b)}else this.pl("Selection")}}c=this.h;if(c!==p){c=c.Wb.$e.o;b=c.length;for(a=0;a<b;a++)d=c[a],d.isEnabled&&d.updateAdornments(this)}};x.u(z,{Pa:"layer"},t("J"));x.u(z,{h:"diagram"},function(){var a=this.J;return a!==p?a.h:p});x.g(z,"layerName",z.prototype.Kd);
x.defineProperty(z,{Kd:"layerName"},t("on"),function(a){var b=this.on;if(b!==a){x.k(a,"string",z,"layerName");var c=this.h;if(!(c!==p&&c.el(a)==p)&&(this.on=a,this.j("layerName",b,a),b=this.Pa,b!==p&&b.name!==a&&(c=b.h,c!==p&&(a=c.el(a),a!==p&&a!==b)))){var d=b.xe(-1,this,h);0<=d&&c.Yc(Vd,"parts",b,this,p,d,h);d=a.zm(99999999,this,h);0<=d&&c.Yc(Ud,"parts",a,p,this,h,d);d=this.zo;if(d!==p){var e=c.Ra;c.Ra=h;d(this,b,a);c.Ra=e}}}});x.g(z,"layerChanged",z.prototype.zo);
x.defineProperty(z,{zo:"layerChanged"},t("rq"),function(a){var b=this.rq;b!==a&&(a!==p&&x.k(a,"function",z,"layerChanged"),this.rq=a,this.j("layerChanged",b,a))});x.g(z,"location",z.prototype.location);x.defineProperty(z,{location:"location"},t("wj"),function(a){var b=this.wj;if(!b.K(a)){u&&x.i(a,K,z,"location");this.wj=a=a.Q();if(this.Qc===q){var c=this.nb,d=this.sn,e=c.copy();c.W(a.x-d.x,a.y-d.y);c.K(e)||this.j("position",e,c);$j(this)}this.j("location",b,a)}});
function $j(a){if(a.qj===q){var b=a.h;b!==p&&(b.sh.add(a),a instanceof A&&!b.xa.zb&&a.dh(),b.Eb());a.qj=h}}function Ll(a){if(a.qj!==q){var b=a.nb,c=a.ub,d=c.copy();c.Na();c.x=b.x;c.y=b.y;c.freeze();tj(a,d,c);a.qj=q}}x.u(z,{Ub:"locationObject"},function(){if(this.xj===p){var a=this.Hs;a!==f&&a!==p&&""!==a?(a=this.Te(a),this.xj=a!==p?a:this):this.xj=this}return this.xj.visible?this.xj:this});x.g(z,"minLocation",z.prototype.mE);
x.defineProperty(z,{mE:"minLocation"},t("Kq"),function(a){var b=this.Kq;b.K(a)||(u&&x.i(a,K,z,"minLocation"),this.Kq=a=a.Q(),this.j("minLocation",b,a))});x.g(z,"maxLocation",z.prototype.gE);x.defineProperty(z,{gE:"maxLocation"},t("Dq"),function(a){var b=this.Dq;b.K(a)||(u&&x.i(a,K,z,"maxLocation"),this.Dq=a=a.Q(),this.j("maxLocation",b,a))});x.g(z,"locationObjectName",z.prototype.Hs);
x.defineProperty(z,{Hs:"locationObjectName"},t("Aq"),function(a){var b=this.Aq;b!==a&&(u&&x.k(a,"string",z,"locationObjectName"),this.Aq=a,this.xj=p,Jj(this),this.j("locationObjectName",b,a))});x.g(z,"locationSpot",z.prototype.ng);x.defineProperty(z,{ng:"locationSpot"},t("Bq"),function(a){var b=this.Bq;b.K(a)||(u&&(x.i(a,N,z,"locationSpot"),wb(a)||x.m("Part.locationSpot must be a specific Spot value, not: "+a)),this.Bq=a=a.Q(),Jj(this),this.j("locationSpot",b,a))});
z.prototype.move=z.prototype.move=function(a){this.position=a;this.Qc===q&&Ll(this)};
z.prototype.isVisible=z.prototype.sb=function(){if(!this.Zg)return q;var a=this.Pa;if(a!==p&&!a.visible)return q;a=this.Za;if(a!==p&&(!a.Xe||!a.sb()))return q;if(this instanceof A){a=this.tD();if(a!==p&&!a.Hd)return q;a=this.fd;if(a!==p){var b={};b[x.ic(this)]=h;return Ml(a,b)}}else if(this instanceof F){var b=h,c=this.h;c!==p&&(b=c.ed);c=this.ja;if(c!==p){if(b&&!c.Hd)return q;c=Nl(c);if(c===p||c===a)return q}c=this.na;if(c!==p){if(!b&&!c.Hd)return q;b=Nl(c);if(b===p||b===a)return q}}return h};
function Ml(a,b){var c=a.ja;if(c!==p){var d=c.fd;if(d!==p)b[x.ic(c)]||(b[x.ic(c)]=h,Ml(d,b));else if(!c.sb())return q}c=a.na;if(c!==p)if(d=c.fd,d!==p)b[x.ic(c)]||(b[x.ic(c)]=h,Ml(d,b));else if(!c.sb())return q;return h}
function Ol(a,b,c){Ab(c)&&(c=Lb);var d=b.Ma;if(b===p||b===a)return new K(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);c=new K(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);b.transform.Xa(c);for(b=b.ea;b!==p&&b!==a;)b.transform.Xa(c),b=b.ea;a.Kk.Xa(c);c.offset(-a.cd.x,-a.cd.y);return c}z.prototype.ensureBounds=z.prototype.Ri=function(){Dh(this,Infinity,Infinity);this.Jc()};
z.prototype.Jc=function(){sj(this);if(this.Qc===q){var a=this.position,b=this.location;if(!b.R()||!a.R())Pl(this,a,b),sj(this);Ll(this)}else{this instanceof We&&(this.V!==Mg&&this.wb!==p)&&(this.xj=this.wb,a=this.Ic,this.type!==Mg&&a!==p&&(this.location=a.Gb(Eb)));var c=this.kC;c.set(this.ub);Bj(this);this.ub.Na();var d=this.me;this.Pj(0,0,this.cd.width,this.cd.height);a=this.position;b=this.location;Pl(this,a,b);b=this.ub;b.x=a.x;b.y=a.y;b.freeze();sj(this);tj(this,c,b);c.K(b)?this.me=d:this.ge()&&
(!Ua(c.width,b.width)||!Ua(c.height,b.height))&&this.I(16);this.qj=q}};function Pl(a,b,c){var d=NaN,e=NaN,g=a.ng,e=a.Ub;Ab(g)&&x.m("Spot must be real: "+g.toString());var i=e.Ma,d=a.sn;d.Hm(0,0,i.width,i.height,g);if(e!==a){e.transform.Xa(d);e.eb&&(g=e.ae/2,d.offset(-g,-g));for(e=e.ea;e!==p&&e!==a;)e.transform.Xa(d),e=e.ea}a.Kk.Xa(d);d.offset(-a.cd.x,-a.cd.y);a=a.sn;c.R()?(d=c.x-a.x,e=c.y-a.y,b.copy(),b.W(d,e)):b.R()&&(d=b.x,e=b.y,c.copy(),c.W(d+a.x,e+a.y))}
function Oi(a,b){a.Du=q;var c=a.h;if(c!==p){a.updateAdornments();var d=a.bG;if(d!==p){sj(a);for(Bj(a);d.next();)Dh(d.value,Infinity,Infinity),d.value.Jc()}a instanceof A&&dj(c,a);!a.Pa.Dc&&!b&&Ci(c);var d=a.ub,e=c.fb;e.R()?a.me?d.We(e)||(a.me=q,Ih(c)):d.We(e)&&(a.me=h):c.Gk=h;a.ub.R()&&Ih(c,a.ub)}}z.prototype.jl=ca(h);
function Hh(a,b){if(a.Zg){var c=a.ub;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){var d=a.transform,e=a.ea,g=a.fj;g.reset();e!==p&&(e.Zh()?g.multiply(e.oe):e.ea!==p&&g.multiply(e.ea.oe));g.multiply(a.qd);a.Be!==p&&(Aj(a,b,a.Be,h,h),b.fillRect(c.x,c.y,c.width,c.height));a.Be===p&&a.Ce===p&&(b.fillStyle="rgba(0,0,0,0.4)",b.fillRect(c.x,c.y,c.width,c.height));if(a.Ce!==p){d.zs()||b.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);var i=a.Ma,e=c=0,g=i.width,i=i.height,j=0;a instanceof V&&(i=a.La.Lb,
c=i.x,e=i.y,g=i.width,i=i.height,j=a.ae);Aj(a,b,a.Ce,h);b.fillRect(c-j/2,e-j/2,g+j,i+j);d.zs()||(c=1/(d.m11*d.m22-d.m12*d.m21),b.transform(d.m22*c,-d.m12*c,-d.m21*c,d.m11*c,c*(d.m21*d.dy-d.m22*d.dx),c*(d.m12*d.dx-d.m11*d.dy)))}}}}z.prototype.ge=ca(h);x.g(z,"isInDocumentBounds",z.prototype.As);x.defineProperty(z,{As:"isInDocumentBounds"},t("fq"),function(a){var b=this.fq;b!==a&&(u&&x.k(a,"boolean",z,"isInDocumentBounds"),this.fq=a,this.j("isInDocumentBounds",b,a))});x.g(z,"category",z.prototype.Vc);
x.defineProperty(z,{Vc:"category"},t("kh"),function(a){var b=this.kh;if(b!==a){x.k(a,"string",z,"category");this.kh=a;this.j("category",b,a);var c=this.h,d=this.data;if(c!==p&&d!==p){var e=c.Y;this instanceof F?(e instanceof T?e.SE(d,a):e instanceof $d&&e.yI(d,a),c=c.findTemplateForLinkData(d,a),c instanceof F&&(Ye(c),c=c.copy(),c instanceof F&&Ql(this,c,a))):this instanceof We||(e!==p&&e.ow(d,a),c=c.findTemplateForNodeData(d,a),c instanceof z&&(Ye(c),c=c.copy(),c instanceof z&&Ql(this,c,a)))}this instanceof
We&&(a=this.Vk,a!==p&&(c=a.Pf,c!==p&&c.remove(b),0===c.count&&(a.Pf=p),a.Tk(this.kh,this)))}});function Ql(a,b,c){a.Kh();var d=a.data,e=a.Kd,g=a.Va,i=h,j=h,k=q;a instanceof A&&(i=a.Rh,j=a.Hd,k=a.bp);b.Mh(a);b.Db(a);a.kh=c;a.T();xj(a);b=a.h;c=h;b!==p&&(c=b.Ab,b.Ab=h);a.Xm=d;d!==p&&a.Bb();b!==p&&(b.Ab=c);d=a.Kd;d!==e&&(a.on=e,a.Kd=d);a instanceof A&&(a.Rh=i,a.Hd=j,a.bp=k);a.Va=g}
z.prototype.canCopy=z.prototype.nJ=function(){if(!this.lz)return q;var a=this.Pa;if(a===p)return h;if(!a.Lj)return q;a=a.h;return a===p?h:!a.Lj?q:h};z.prototype.canDelete=z.prototype.rJ=function(){if(!this.pz)return q;var a=this.Pa;if(a===p)return h;if(!a.Wk)return q;a=a.h;return a===p?h:!a.Wk?q:h};z.prototype.canEdit=z.prototype.tJ=function(){if(!this.yA)return q;var a=this.Pa;if(a===p)return h;if(!a.$n)return q;a=a.h;return a===p?h:!a.$n?q:h};
z.prototype.canGroup=z.prototype.xJ=function(){if(!this.Dz)return q;var a=this.Pa;if(a===p)return h;if(!a.Vn)return q;a=a.h;return a===p?h:!a.Vn?q:h};z.prototype.canMove=z.prototype.AJ=function(){if(!this.Wz)return q;var a=this.Pa;if(a===p)return h;if(!a.Xk)return q;a=a.h;return a===p?h:!a.Xk?q:h};z.prototype.canPrint=z.prototype.CJ=function(){if(!this.xE)return q;var a=this.Pa;if(a===p)return h;if(!a.Zr)return q;a=a.h;return a===p?h:!a.Zr?q:h};
z.prototype.canReshape=z.prototype.GJ=function(){if(!this.jA)return q;var a=this.Pa;if(a===p)return h;if(!a.Xn)return q;a=a.h;return a===p?h:!a.Xn?q:h};z.prototype.canResize=z.prototype.HJ=function(){if(!this.kA)return q;var a=this.Pa;if(a===p)return h;if(!a.Yn)return q;a=a.h;return a===p?h:!a.Yn?q:h};z.prototype.canRotate=z.prototype.IJ=function(){if(!this.lA)return q;var a=this.Pa;if(a===p)return h;if(!a.Zn)return q;a=a.h;return a===p?h:!a.Zn?q:h};
z.prototype.canSelect=z.prototype.Zk=function(){if(!this.aj)return q;var a=this.Pa;if(a===p)return h;if(!a.pe)return q;a=a.h;return a===p?h:!a.pe?q:h};x.g(z,"copyable",z.prototype.lz);x.defineProperty(z,{lz:"copyable"},t("up"),function(a){var b=this.up;b!==a&&(u&&x.k(a,"boolean",z,"copyable"),this.up=a,this.j("copyable",b,a))});x.g(z,"deletable",z.prototype.pz);
x.defineProperty(z,{pz:"deletable"},t("Hp"),function(a){var b=this.Hp;b!==a&&(u&&x.k(a,"boolean",z,"deletable"),this.Hp=a,this.j("deletable",b,a))});x.g(z,"textEditable",z.prototype.yA);x.defineProperty(z,{yA:"textEditable"},t("Fr"),function(a){var b=this.Fr;b!==a&&(u&&x.k(a,"boolean",z,"textEditable"),this.Fr=a,this.j("textEditable",b,a),this.updateAdornments())});x.g(z,"groupable",z.prototype.Dz);
x.defineProperty(z,{Dz:"groupable"},t("$p"),function(a){var b=this.$p;b!==a&&(u&&x.k(a,"boolean",z,"groupable"),this.$p=a,this.j("groupable",b,a))});x.g(z,"movable",z.prototype.Wz);x.defineProperty(z,{Wz:"movable"},t("Pq"),function(a){var b=this.Pq;b!==a&&(u&&x.k(a,"boolean",z,"movable"),this.Pq=a,this.j("movable",b,a))});x.g(z,"printable",z.prototype.xE);
x.defineProperty(z,{xE:"printable"},t("Yq"),function(a){var b=this.Yq;b!==a&&(u&&x.k(a,"boolean",z,"printable"),this.Yq=a,this.j("printable",b,a))});x.g(z,"reshapable",z.prototype.jA);x.defineProperty(z,{jA:"reshapable"},t("cr"),function(a){var b=this.cr;b!==a&&(u&&x.k(a,"boolean",z,"reshapable"),this.cr=a,this.j("reshapable",b,a),this.updateAdornments())});x.g(z,"resizable",z.prototype.kA);
x.defineProperty(z,{kA:"resizable"},t("dr"),function(a){var b=this.dr;b!==a&&(u&&x.k(a,"boolean",z,"resizable"),this.dr=a,this.j("resizable",b,a),this.updateAdornments())});x.g(z,"rotatable",z.prototype.lA);x.defineProperty(z,{lA:"rotatable"},t("ir"),function(a){var b=this.ir;b!==a&&(u&&x.k(a,"boolean",z,"rotatable"),this.ir=a,this.j("rotatable",b,a),this.updateAdornments())});x.g(z,"selectable",z.prototype.aj);
x.defineProperty(z,{aj:"selectable"},t("Bn"),function(a){var b=this.Bn;b!==a&&(u&&x.k(a,"boolean",z,"selectable"),this.Bn=a,this.j("selectable",b,a),this.updateAdornments())});x.g(z,"selectionObjectName",z.prototype.Vo);x.defineProperty(z,{Vo:"selectionObjectName"},t("vr"),function(a){var b=this.vr;b!==a&&(u&&x.k(a,"string",z,"selectionObjectName"),this.vr=a,this.Rk=p,this.j("selectionObjectName",b,a))});x.g(z,"selectionAdorned",z.prototype.qA);
x.defineProperty(z,{qA:"selectionAdorned"},t("sr"),function(a){var b=this.sr;b!==a&&(u&&x.k(a,"boolean",z,"selectionAdorned"),this.sr=a,this.j("selectionAdorned",b,a),this.updateAdornments())});x.g(z,"selectionAdornmentTemplate",z.prototype.QE);x.defineProperty(z,{QE:"selectionAdornmentTemplate"},t("tr"),function(a){var b=this.tr;b!==a&&(u&&x.i(a,We,z,"selectionAdornmentTemplate"),this instanceof F&&(a.type=Mg),this.tr=a,this.j("selectionAdornmentTemplate",b,a))});
x.u(z,{Uo:"selectionObject"},function(){if(this.Rk===p){var a=this.Vo;a!==p&&""!==a?(a=this.Te(a),this.Rk=a!==p?a:this):this instanceof F?(a=this.path,this.Rk=a!==p?a:this):this.Rk=this}return this.Rk});x.g(z,"isSelected",z.prototype.Va);
x.defineProperty(z,{Va:"isSelected"},t("fu"),function(a){var b=this.fu;if(b!==a){u&&x.k(a,"boolean",z,"isSelected");var c=this.h;if(!a||this.Zk()&&!(c!==p&&c.selection.count>=c.hE)){this.fu=a;var d=q;if(c!==p){d=c.Ab;c.Ab=h;var e=c.selection;e.Na();a?e.add(this):e.remove(this);e.freeze()}this.j("isSelected",b,a);this.updateAdornments();a=this.RE;a!==p&&a(this);c!==p&&(c.Eb(),c.Ab=d)}}});x.g(z,"selectionChanged",z.prototype.RE);
x.defineProperty(z,{RE:"selectionChanged"},t("ur"),function(a){var b=this.ur;b!==a&&(a!==p&&x.k(a,"function",z,"selectionChanged"),this.ur=a,this.j("selectionChanged",b,a))});x.g(z,"resizeAdornmentTemplate",z.prototype.GE);x.defineProperty(z,{GE:"resizeAdornmentTemplate"},t("er"),function(a){var b=this.er;b!==a&&(u&&x.i(a,We,z,"resizeAdornmentTemplate"),this.er=a,this.j("resizeAdornmentTemplate",b,a))});x.g(z,"resizeObjectName",z.prototype.IE);
x.defineProperty(z,{IE:"resizeObjectName"},t("gr"),function(a){var b=this.gr;b!==a&&(u&&x.k(a,"string",z,"resizeObjectName"),this.gr=a,this.$l=p,this.j("resizeObjectName",b,a))});x.u(z,{qI:"resizeObject"},function(){if(this.$l===p){var a=this.IE;a!==p&&""!==a?(a=this.Te(a),this.$l=a!==p?a:this):this.$l=this}return this.$l});x.g(z,"resizeCellSize",z.prototype.HE);
x.defineProperty(z,{HE:"resizeCellSize"},t("fr"),function(a){var b=this.fr;b.K(a)||(u&&x.i(a,cb,z,"resizeCellSize"),this.fr=a=a.Q(),this.j("resizeCellSize",b,a))});x.g(z,"rotateAdornmentTemplate",z.prototype.KE);x.defineProperty(z,{KE:"rotateAdornmentTemplate"},t("jr"),function(a){var b=this.jr;b!==a&&(u&&x.i(a,We,z,"rotateAdornmentTemplate"),this.jr=a,this.j("rotateAdornmentTemplate",b,a))});x.g(z,"rotateObjectName",z.prototype.LE);
x.defineProperty(z,{LE:"rotateObjectName"},t("kr"),function(a){var b=this.kr;b!==a&&(u&&x.k(a,"string",z,"rotateObjectName"),this.kr=a,this.am=p,this.j("rotateObjectName",b,a))});x.u(z,{uI:"rotateObject"},function(){if(this.am===p){var a=this.LE;a!==p&&""!==a?(a=this.Te(a),this.am=a!==p?a:this):this.am=this}return this.am});x.g(z,"text",z.prototype.text);x.defineProperty(z,{text:"text"},t("Sd"),function(a){var b=this.Sd;b!==a&&(u&&x.k(a,"string",z,"text"),this.Sd=a,this.j("text",b,a))});
x.g(z,"containingGroup",z.prototype.Za);
x.defineProperty(z,{Za:"containingGroup"},t("uk"),function(a){if(this.ge()){var b=this.uk;if(b!==a){u&&a!==p&&x.i(a,B,z,"containingGroup");if(a!==p&&(this===a||a.Bs(this)))this===a&&x.m("Cannot make a Group a member of itself: "+this.toString()),x.m("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString());this.I(Qi);var c=this.h;b!==p?Rl(b,this):this instanceof B&&c!==p&&c.cm.remove(this);this.uk=a;a!==p?Sl(a,this):this instanceof B&&c!==p&&c.cm.add(this);
this.I(Li);if(c!==p){var d=this.data,e=c.Y;d!==p&&e instanceof T&&e.sA(d,e.qb(a!==p?a.data:p))}d=this.kz;d!==p&&(e=h,c!==p&&(e=c.Ra,c.Ra=h),d(this,b,a),c!==p&&(c.Ra=e));if(this instanceof B){c=new qa(z);Ve(c,this,h,q);for(c=c.l;c.next();)if(d=c.value,d instanceof A)for(d=d.Ud;d.next();)e=d.value,Ti(e)}if(this instanceof A)for(d=this.Ud;d.next();)e=d.value,Ti(e);this.j("containingGroup",b,a);a!==p&&a.tw()}}else x.m("cannot set the Part.containingGroup of a Link or Adornment")});
function vj(a){a=a.Za;a!==p&&(a.T(),a.wb!==p&&a.wb.T(),a.dh())}z.prototype.ws=function(){var a=this.uk;a!==p&&Sl(a,this)};z.prototype.xs=function(){var a=this.uk;a!==p&&Rl(a,this)};z.prototype.pm=function(){var a=this.data;if(a!==p){var b=this.h;b!==p&&(b=b.Y,b!==p&&b.EE(a))}};x.g(z,"containingGroupChanged",z.prototype.kz);
x.defineProperty(z,{kz:"containingGroupChanged"},t("tp"),function(a){var b=this.tp;b!==a&&(a!==p&&x.k(a,"function",z,"containingGroupChanged"),this.tp=a,this.j("containingGroupChanged",b,a))});x.u(z,{HM:"topLevelPart"},function(){return Tl(this,this)});z.prototype.findTopLevelPart=z.prototype.RK=function(){return Tl(this,this)};function Tl(a,b){var c=b.Za;return c!==p?Tl(a,c):b instanceof A&&(c=b.fd,c!==p)?Tl(a,c):b}
x.u(z,{Ds:"isTopLevel"},function(){return this.Za!==p||this instanceof A&&this.Xi?q:h});z.prototype.isMemberOf=z.prototype.Bs=function(a){return!(a instanceof B)?q:Ul(this,this,a)};function Ul(a,b,c){if(b===c||c===p)return q;var d=b.Za;return d!==p&&(d===c||Ul(a,d,c))?h:b instanceof A&&(b=b.fd,b!==p)?Ul(a,b,c):q}z.prototype.findCommonContainingGroup=z.prototype.$G=function(a){return Vl(this,this,a)};
function Vl(a,b,c){if(b===p||c===p)return p;var d=b.Za;if(d===p)return p;if(b===c)return d;var e=c.Za;return e===p?p:d===e?e:Ul(a,c,d)?d:Ul(a,b,e)?e:Vl(a,d,e)}x.g(z,"isLayoutPositioned",z.prototype.Zv);x.defineProperty(z,{Zv:"isLayoutPositioned"},t("gq"),function(a){var b=this.gq;b!==a&&(u&&x.k(a,"boolean",z,"isLayoutPositioned"),this.gq=a,this.j("isLayoutPositioned",b,a),this.I(a?Xj:Yj))});x.g(z,"layoutConditions",z.prototype.aE);
x.defineProperty(z,{aE:"layoutConditions"},t("sq"),function(a){var b=this.sq;b!==a&&(u&&x.k(a,"number",z,"layoutConditions"),this.sq=a,this.j("layoutConditions",b,a))});z.prototype.canLayout=z.prototype.as=function(){if(!this.Zv||!this.sb())return q;var a=this.Pa;return a!==p&&a.Dc||this instanceof A&&this.Xi?q:h};
z.prototype.invalidateLayout=z.prototype.I=function(a){a===f&&(a=16777215);var b;!this.Zv||0===(a&this.aE)?b=q:(b=this.Pa,b!==p&&b.Dc||this instanceof A&&this.Xi?b=q:(b=this.h,b=b!==p&&b.xa.zb?q:h));if(b)if(b=this.uk,b!==p){var c=b.Nb;c!==p?c.I():b.I(a)}else a=this.h,a!==p&&(c=a.Nb,c!==p&&c.I())};x.g(z,"dragComputation",z.prototype.tz);
x.defineProperty(z,{tz:"dragComputation"},t("Ip"),function(a){var b=this.Ip;b!==a&&(a!==p&&x.k(a,"function",z,"dragComputation"),this.Ip=a,this.j("dragComputation",b,a))});x.g(z,"isShadowed",z.prototype.Am);x.defineProperty(z,{Am:"isShadowed"},t("Tf"),function(a){var b=this.Tf;b!==a&&(u&&x.k(a,"boolean",z,"isShadowed"),this.Tf=a,xj(this),this.j("isShadowed",b,a))});x.g(z,"shadowOffset",z.prototype.AI);
x.defineProperty(z,{AI:"shadowOffset"},t("En"),function(a){var b=this.En;b.K(a)||(u&&x.i(a,K,z,"shadowOffset"),this.En=a=a.Q(),xj(this),this.j("shadowOffset",b,a))});x.g(z,"shadowColor",z.prototype.shadowColor);x.defineProperty(z,{shadowColor:"shadowColor"},t("Dn"),function(a){var b=this.Dn;b!==a&&(u&&x.k(a,"string",z,"shadowColor"),this.Dn=a,xj(this),this.j("shadowColor",b,a))});x.g(z,"shadowBlur",z.prototype.shadowBlur);
x.defineProperty(z,{shadowBlur:"shadowBlur"},t("Cn"),function(a){var b=this.Cn;b!==a&&(u&&x.k(a,"number",z,"shadowBlur"),this.Cn=a,xj(this),this.j("shadowBlur",b,a))});function We(a){0===arguments.length?z.call(this,bh):z.call(this,a);this.Kd="Adornment";this.Oa=p;this.Bn=q;this.wj=new K(NaN,NaN);this.ci=new H(L);this.zh=p;this.Sc=(new H(K)).freeze();this.gv=new K;this.wb=p}x.S("Adornment",We);x.Ja(We,z);da=We.prototype;
da.toString=function(){var a=this.Vk;return"Adornment("+this.Vc+")"+(a!==p?a.toString():"")};da.ki=function(){return this.Oa&&this.Oa.fa instanceof F?this.Oa.fa.ki():p};da.Xp=ca(p);da.bw=function(){var a=this.Ic.fa,b=this.Ic;if(a instanceof F&&b instanceof V){var c=a.path,b=c.La;a.bw();for(var b=c.La,a=this.ya,c=a.length,d=0;d<c;d++){var e=a.o[d];e.Qh&&e instanceof V&&(e.La=b)}}};da.Dx=function(){var a=this.Vk;return a instanceof F?a.Sc:p};x.u(We,{placeholder:"placeholder"},t("wb"));
x.g(We,"adornedObject",We.prototype.Ic);x.defineProperty(We,{Ic:"adornedObject"},t("Oa"),function(a){u&&a!==p&&x.i(a,U,z,"adornedObject:val");var b=this.Vk,c=p;a!==p&&(c=a.fa);b!==p&&(a===p||b!==c)&&b.pl(this.Vc);this.Oa=a;c&&c.Tk(this.Vc,this)});x.u(We,{Vk:"adornedPart"},function(){var a=this.Oa;return a!==p?a.fa:p});We.prototype.jl=function(){var a=this.Oa;if(a===p)return h;a=a.fa;return a===p||!a.Qc};We.prototype.ge=ca(q);x.u(We,{Za:"containingGroup"},ca(p));
We.prototype.Fm=function(a,b,c,d,e,g,i){if(a===Ud&&"elements"===b)if(e instanceof Wg)this.wb===p?this.wb=e:this.wb!==e&&x.m("Cannot insert a second Placeholder into the visual tree of an Adornment.");else{if(e instanceof G){var j=al(e,e,function(a){return a instanceof Wg});j instanceof Wg&&(this.wb===p?this.wb=j:this.wb!==j&&x.m("Cannot insert a second Placeholder into the visual tree of an Adornment."))}}else a===Vd&&"elements"===b&&(d===this.wb?this.wb=p:d instanceof G&&this.wb.Wi(d)&&(this.wb=
p));z.prototype.Fm.call(this,a,b,c,d,e,g,i)};We.prototype.updateAdornments=We.prototype.ej=aa();We.prototype.pm=aa();function A(a){0===arguments.length?z.call(this,bh):z.call(this,a);this.nd=new H(F);this.mn=this.xq=this.wq=p;this.mq=h;this.Sr=q;this.Mr=p;this.pp=this.nq=h;this.qp=(new hb(2)).freeze();this.Tc=this.jh=p}x.S("Node",A);x.Ja(A,z);A.prototype.Db=function(a){z.prototype.Db.call(this,a);a.wq=this.wq;a.xq=this.xq;a.mq=this.mq;a.Sr=this.Sr;a.Mr=this.Mr;a.nq=this.nq;a.pp=this.pp;a.qp.Ya(this.qp)};
A.prototype.Mh=function(a){z.prototype.Mh.call(this,a);a.dh();a.jh=this.jh;a.Tc=p};var Wl;A.DirectionDefault=Wl=x.s(A,"DirectionDefault",0);A.DirectionAbsolute=x.s(A,"DirectionAbsolute",1);var Xl;A.DirectionRotatedNode=Xl=x.s(A,"DirectionRotatedNode",2);var jj;A.DirectionRotatedNodeOrthogonal=jj=x.s(A,"DirectionRotatedNodeOrthogonal",3);function Yl(a,b){b!==p&&(a.jh==p&&(a.jh=new qa(Zl)),a.jh.add(b))}
A.prototype.Fm=function(a,b,c,d,e,g,i){a===Ud&&"elements"===b?this.Tc=p:a===Vd&&"elements"===b&&(this.h===p?this.Tc=p:d instanceof U&&$k(this,d,function(a,b){ak(a,b,h)}));z.prototype.Fm.call(this,a,b,c,d,e,g,i)};A.prototype.invalidateConnectedLinks=A.prototype.dh=function(a){a===f&&(a=p);for(var b=this.Ud;b.next();){var c=b.value;if(!(a!==p&&a.contains(c))){var d=c.Lc;d!==p&&(d.Rd=p);var e=c.wd;e!==p&&e!==d&&(e.Rd=p);c.$b()}}};A.prototype.jl=ca(h);x.g(A,"avoidable",A.prototype.Zy);
x.defineProperty(A,{Zy:"avoidable"},t("pp"),function(a){var b=this.pp;if(b!==a){u&&x.k(a,"boolean",A,"avoidable");this.pp=a;var c=this.h;c!==p&&dj(c,this);this.j("avoidable",b,a)}});x.g(A,"avoidableMargin",A.prototype.JC);x.defineProperty(A,{JC:"avoidableMargin"},t("qp"),function(a){"number"===typeof a?a=new hb(a):x.i(a,hb,A,"avoidableMargin");var b=this.qp;if(!b.K(a)){this.qp=a=a.Q();var c=this.h;c!==p&&dj(c,this);this.j("avoidableMargin",b,a)}});
A.prototype.canAvoid=A.prototype.kJ=function(){return this.Zy&&!this.Xi};A.prototype.getAvoidableRectangle=A.prototype.WK=function(a){a===f&&(a=new L);a.set(this.za);a.Sn(this.JC);return a};function Nl(a){for(;a!==p&&!a.sb();)a=a.Za;return a}x.u(A,{Ud:"linksConnected"},function(){return this.nd.l});
A.prototype.findLinksConnected=A.prototype.aH=function(a){a===f&&(a=p);if(a===p)return this.nd.l;u&&x.k(a,"string",A,"findLinksConnected:pid");var b=new La(this.nd),c=this;b.iw=function(b){return b.ja===c&&b.Oh===a||b.na===c&&b.bj===a};return b};A.prototype.findLinksOutOf=A.prototype.ks=function(a){a===f&&(a=p);var b=new La(this.nd),c=this;b.iw=function(b){return b.ja!==c?q:a===p?h:b.Oh===a};return b};
A.prototype.findLinksInto=A.prototype.Hf=function(a){a===f&&(a=p);var b=new La(this.nd),c=this;b.iw=function(b){return b.na!==c?q:a===p?h:b.bj===a};return b};
A.prototype.findNodesConnected=A.prototype.pD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.nd.l;d.next();){var e=d.value;if(e.ja===this){if(a===p||e.Oh===a)e=e.na,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}else if(e.na===this&&(a===p||e.bj===a))e=e.ja,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.Of};
A.prototype.findNodesOutOf=A.prototype.rD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.nd.l;d.next();){var e=d.value;if(e.ja===this&&(a===p||e.Oh===a))e=e.na,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.Of};
A.prototype.findNodesInto=A.prototype.qD=function(a){a===f&&(a=p);for(var b=p,c=p,d=this.nd.l;d.next();){var e=d.value;if(e.na===this&&(a===p||e.bj===a))e=e.ja,b!==p?b.add(e):c!==p&&c!==e?(b=new qa(A),b.add(c),b.add(e)):c=e}return b!==p?b.l:c!==p?new Ka(c):x.Of};x.g(A,"linkConnected",A.prototype.bE);x.defineProperty(A,{bE:"linkConnected"},t("wq"),function(a){var b=this.wq;b!==a&&(a!==p&&x.k(a,"function",A,"linkConnected"),this.wq=a,this.j("linkConnected",b,a))});x.g(A,"linkDisconnected",A.prototype.cE);
x.defineProperty(A,{cE:"linkDisconnected"},t("xq"),function(a){var b=this.xq;b!==a&&(a!==p&&x.k(a,"function",A,"linkDisconnected"),this.xq=a,this.j("linkDisconnected",b,a))});function $l(a,b,c){if(!a.nd.contains(b)){a.nd.add(b);var d=a.bE;if(d!==p){var e=h,g=a.h;g!==p&&(e=g.Ra,g.Ra=h);d(a,b,c);g!==p&&(g.Ra=e)}a.Rh&&(c=h,g=a.h,g!==p&&(c=g.ed),c?b.ja===a&&(a.Rh=q):b.na===a&&(a.Rh=q))}}
function am(a,b,c){if(a.nd.remove(b)){var d=a.cE,e=a.h;if(d!==p){var g=h;e!==p&&(g=e.Ra,e.Ra=h);d(a,b,c);e!==p&&(e.Ra=g)}!a.Rh&&!(e!==p&&e.xa.zb)&&(b=a.nd.count,0===b?a.Rh=h:1===b&&Yi(a))}}function Yi(a){if(0!==a.nd.count){var b=h,c=a.h;c!==p&&(b=c.ed);for(c=a.nd.l;c.next();){var d=c.value;if(b){if(d.ja===a){a.Rh=q;return}}else if(d.na===a){a.Rh=q;return}}a.Rh=h}}A.prototype.ws=function(){z.prototype.ws.call(this);Yi(this);var a=this.mn;a!==p&&bm(a,this)};
A.prototype.xs=function(){z.prototype.xs.call(this);var a=this.mn;a!==p&&a.Je!==p&&(a.Je.remove(this),a.T())};A.prototype.pm=function(){if(0<this.nd.count){var a=this.h;if(a===p)return;for(var b=this.nd.copy().l;b.next();)a.remove(b.value)}z.prototype.pm.call(this)};x.u(A,{Xi:"isLinkLabel"},function(){return this.mn!==p});x.g(A,"labeledLink",A.prototype.fd);
x.defineProperty(A,{fd:"labeledLink"},t("mn"),function(a){var b=this.mn;if(b!==a){u&&a!==p&&x.i(a,F,A,"labeledLink");var c=this.h,d=this.data;if(b!==p&&(b.Je!==p&&(b.Je.remove(this),b.T()),c!==p&&d!==p)){var e=b.data,g=c.Y;if(e!==p&&g instanceof T){var i=g.qb(d);i!==f&&g.mI(e,i)}}this.mn=a;a!==p&&(bm(a,this),c!==p&&d!==p&&(e=a.data,g=c.Y,e!==p&&g instanceof T&&(i=g.qb(d),i!==f&&g.xC(e,i))));Jj(this);this.j("labeledLink",b,a)}});
A.prototype.findPort=A.prototype.ns=function(a){u&&x.k(a,"string",A,"findPort:pid");this.Tc===p&&bk(this);if(this.Tc!==p){var b=this.Tc.va(a);if(b!==p)return b}if(""!==a&&this.Tc!==p&&(b=this.Tc.va(""),b!==p))return b;this.Tc===p&&bk(this);return this};x.u(A,{port:"port"},function(){return this.ns("")});x.u(A,{ports:"ports"},function(){this.Tc===p&&bk(this);return this.Tc!==p?this.Tc.l:x.Of});function bk(a){a.Tc!==p&&a.Tc.clear();$k(a,a,function(a,c){ck(a,c)})}
function ck(a,b){var c=b.af;c!==p&&(a.Tc===p&&(a.Tc=new pa("string",U)),a.Tc.add(c,b))}function ak(a,b,c){var d=b.af;if(d!==p&&(a.Tc!==p&&a.Tc.remove(d),b=a.h,b!==p&&c)){c=p;for(a=a.aH(d);a.next();)c===p&&(c=[]),c.push(a.value);if(c!==p)for(a=0;a<c.length;a++)b.remove(c[a])}}
A.prototype.isInTreeOf=A.prototype.xL=function(a){if(a===p||a===this)return q;var b=h,c=this.h;c!==p&&(b=c.ed);if(b)a:{for(b=this;b!==a;){for(var c=p,d=b.Hf();d.next()&&!(c=d.value.ja,c!==b););if(c===p){a=q;break a}b=c}a=h}else a:{for(b=this;b!==a;){c=p;for(d=b.ks();d.next()&&!(c=d.value.na,c!==b););if(c===p){a=q;break a}b=c}a=h}return a};
A.prototype.findTreeParentLink=A.prototype.Rv=function(){var a=h,b=this.h;b!==p&&(a=b.ed);b=this.nd.l;if(a)for(;b.next();){if(a=b.value,a.ja!==this)return a}else for(;b.next();)if(a=b.value,a.na!==this)return a;return p};A.prototype.findTreeParentNode=A.prototype.tD=function(){var a=h,b=this.h;b!==p&&(a=b.ed);b=this.nd.l;if(a)for(;b.next();){if(a=b.value,a=a.ja,a!==this)return a}else for(;b.next();)if(a=b.value,a=a.na,a!==this)return a;return p};
A.prototype.findTreeChildrenLinks=A.prototype.Qv=function(){var a=h,b=this.h;b!==p&&(a=b.ed);return a?this.ks():this.Hf()};
A.prototype.findTreeChildrenNodes=A.prototype.SK=function(){var a=h,b=this.h;b!==p&&(a=b.ed);var c=b=p,d=this.nd.l;if(a)for(;d.next();)a=d.value,a.ja===this&&(a=a.na,b!==p?b.add(a):c!==p&&c!==a?(b=new H(A),b.add(c),b.add(a)):c=a);else for(;d.next();)a=d.value,a.na===this&&(a=a.ja,b!==p?b.add(a):c!==p&&c!==a?(b=new H(A),b.add(c),b.add(a)):c=a);return b!==p?b.l:c!==p?new Ka(c):x.Of};A.prototype.findTreeParts=A.prototype.TK=function(){var a=new qa(z);Ve(a,this,q,h);return a};
A.prototype.collapseTree=A.prototype.xv=function(){var a=this.h;if(a!==p&&!a.mg){a.mg=h;var b=a.ed,c=new qa(A);c.add(this);cm(this,c,b);a.mg=q}};function cm(a,b,c){a.Hd=q;for(var d=c?a.ks():a.Hf();d.next();){var e=d.value,g=e.CD(a);g!==p&&(g!==a&&!b.contains(g))&&(b.add(g),xj(e),e.Kh(),xj(g),g.Kh(),vj(g),g.I(Yj),g.Hd&&(g.bp=g.Hd,cm(g,b,c)))}}A.prototype.expandTree=A.prototype.Mv=function(){var a=this.h;if(a!==p&&!a.mg){a.mg=h;var b=a.ed,c=new qa(A);c.add(this);dm(this,c,b);a.mg=q}};
function dm(a,b,c){a.Hd=h;for(var d=c?a.ks():a.Hf();d.next();){var e=d.value,g=e.CD(a);g!==p&&(g!==a&&!b.contains(g))&&(b.add(g),xj(e),e.ej(),xj(g),g.ej(),vj(g),g.I(Xj),g.bp&&(g.bp=q,dm(g,b,c)))}}x.g(A,"isTreeExpanded",A.prototype.Hd);
x.defineProperty(A,{Hd:"isTreeExpanded"},t("mq"),function(a){var b=this.mq;if(b!==a){u&&x.k(a,"boolean",A,"isTreeExpanded");this.mq=a;var c=this.h;c!==p&&Ih(c);this.j("isTreeExpanded",b,a);b=this.lF;if(b!==p){var d=h;c!==p&&(d=c.Ra,c.Ra=h);b(this);c!==p&&(c.Ra=d)}c!==p&&c.xa.zb||(a?this.Mv():this.xv())}});x.g(A,"wasTreeExpanded",A.prototype.bp);
x.defineProperty(A,{bp:"wasTreeExpanded"},t("Sr"),function(a){var b=this.Sr;b!==a&&(u&&x.k(a,"boolean",A,"wasTreeExpanded"),this.Sr=a,this.j("wasTreeExpanded",b,a))});x.g(A,"treeExpandedChanged",A.prototype.lF);x.defineProperty(A,{lF:"treeExpandedChanged"},t("Mr"),function(a){var b=this.Mr;b!==a&&(a!==p&&x.k(a,"function",A,"treeExpandedChanged"),this.Mr=a,this.j("treeExpandedChanged",b,a))});x.g(A,"isTreeLeaf",A.prototype.Rh);
x.defineProperty(A,{Rh:"isTreeLeaf"},t("nq"),function(a){var b=this.nq;b!==a&&(u&&x.k(a,"boolean",A,"isTreeLeaf"),this.nq=a,this.j("isTreeLeaf",b,a))});
function F(){z.call(this,Mg);this.Sf=p;this.nh="";this.Vp=p;this.ph=Db;this.mh=NaN;this.lh=Wl;this.oh=NaN;this.eg=p;this.Gh="";this.Lr=p;this.Ih=Db;this.Fh=NaN;this.Eh=Wl;this.Hh=NaN;this.br=this.ar=q;this.kp=kj;this.vp=0;this.xp=kj;this.yp=NaN;this.zn=sk;this.yr=0.5;this.zh=this.Je=p;this.Sc=(new H(K)).freeze();this.Vg=p;this.Ii=q;this.ly=p;this.Kn=q;this.zl=this.ii=this.La=p;this.De=0;this.ci=new H(L);this.gv=new K;this.lC=this.jC=p;this.jx=q}x.S("Link",F);x.Ja(F,z);
F.prototype.Db=function(a){z.prototype.Db.call(this,a);a.nh=this.nh;a.Vp=this.Vp;a.ph=this.ph.Q();a.mh=this.mh;a.lh=this.lh;a.oh=this.oh;a.Gh=this.Gh;a.Lr=this.Lr;a.Ih=this.Ih.Q();a.Fh=this.Fh;a.Eh=this.Eh;a.Hh=this.Hh;a.ar=this.ar;a.br=this.br;a.kp=this.kp;a.vp=this.vp;a.xp=this.xp;a.yp=this.yp;a.zn=this.zn;a.yr=this.yr};F.prototype.Mh=function(a){z.prototype.Mh.call(this,a);this.nh=a.nh;this.Gh=a.Gh;a.zh=p;a.Vg=p;a.$b();a.zl=this.zl;a.De=this.De};var sk;F.Normal=sk=x.s(F,"Normal",1);var lk;
F.Orthogonal=lk=x.s(F,"Orthogonal",2);var Df;F.AvoidsNodes=Df=x.s(F,"AvoidsNodes",3);var kj;F.None=kj=x.s(F,"None",0);var mk;F.Bezier=mk=x.s(F,"Bezier",9);var nk;F.JumpGap=nk=x.s(F,"JumpGap",10);var ok;F.JumpOver=ok=x.s(F,"JumpOver",11);var pk;F.End=pk=x.s(F,"End",17);var qk;F.Scale=qk=x.s(F,"Scale",18);var rk;F.Stretch=rk=x.s(F,"Stretch",19);var ml;F.OrientAlong=ml=x.s(F,"OrientAlong",21);var em;F.OrientPlus90=em=x.s(F,"OrientPlus90",22);var fm;F.OrientMinus90=fm=x.s(F,"OrientMinus90",23);var gm;
F.OrientOpposite=gm=x.s(F,"OrientOpposite",24);var hm;F.OrientUpright=hm=x.s(F,"OrientUpright",25);var im;F.OrientPlus90Upright=im=x.s(F,"OrientPlus90Upright",26);var jm;F.OrientMinus90Upright=jm=x.s(F,"OrientMinus90Upright",27);var km;F.OrientUpright45=km=x.s(F,"OrientUpright45",28);F.prototype.jl=function(){var a=this.ja;if(a!==p&&(a.Qc||a.qj))return q;a=this.na;return a!==p&&(a.Qc||a.qj)?q:h};F.prototype.ge=ca(q);
function Zk(a,b){var c;switch(a){default:case kj:c=0;break;case ml:c=b;break;case em:c=b+90;break;case fm:c=b-90;break;case gm:c=b+180;break;case hm:c=Lc(b);90<c&&270>c&&(c-=180);break;case im:c=Lc(b+90);90<c&&270>c&&(c-=180);break;case jm:c=Lc(b-90);90<c&&270>c&&(c-=180);break;case km:c=Lc(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return Lc(c)}x.g(F,"fromNode",F.prototype.ja);
x.defineProperty(F,{ja:"fromNode"},t("Sf"),function(a){var b=this.Sf;if(b!==a){u&&a!==p&&x.i(a,A,F,"fromNode");var c=this.Lc;b!==p&&(this.eg!==b&&am(b,this,c),c!==p&&(c.Rd=p),lm(this),b.I(Qi));this.Sf=a;this.ii=p;this.$b();var d=this.h;if(d!==p){var e=this.data,g=d.Y;if(e!==p)if(g instanceof T){var i=a!==p?a.data:p;g.rw(e,g.qb(i))}else g instanceof $d&&(i=a!==p?a.data:p,d.ed?g.Lf(e,g.qb(i)):(b!==p&&g.Lf(b.data,f),g.Lf(i,g.qb(this.eg!==p?this.eg.data:p))))}e=this.Lc;g=this.yz;g!==p&&(i=h,d!==p&&(i=
d.Ra,d.Ra=h),g(this,c,e),d!==p&&(d.Ra=i));a!==p&&(this.eg!==a&&$l(a,this,e),e!==p&&(e.Rd=p),mm(this),a.I(Li));this.j("fromNode",b,a);Ti(this)}});x.g(F,"fromPortId",F.prototype.Oh);
x.defineProperty(F,{Oh:"fromPortId"},t("nh"),function(a){var b=this.nh;if(b!==a){u&&x.k(a,"string",F,"fromPortId");var c=this.Lc;c!==p&&(c.Rd=p);lm(this);this.nh=a;var d=this.Lc;d!==p&&(d.Rd=p);var e=this.h;if(e!==p){var g=this.data,i=e.Y;g!==p&&i instanceof T&&i.Zs(g,a)}c!==d&&(this.ii=p,this.$b(),g=this.yz,g!==p&&(i=h,e!==p&&(i=e.Ra,e.Ra=h),g(this,c,d),e!==p&&(e.Ra=i)));mm(this);this.j("fromPortId",b,a)}});x.u(F,{Lc:"fromPort"},function(){var a=this.Sf;return a===p?p:a.ns(this.nh)});
x.g(F,"fromPortChanged",F.prototype.yz);x.defineProperty(F,{yz:"fromPortChanged"},t("Vp"),function(a){var b=this.Vp;b!==a&&(a!==p&&x.k(a,"function",F,"fromPortChanged"),this.Vp=a,this.j("fromPortChanged",b,a))});x.g(F,"toNode",F.prototype.na);
x.defineProperty(F,{na:"toNode"},t("eg"),function(a){var b=this.eg;if(b!==a){u&&a!==p&&x.i(a,A,F,"toNode");var c=this.wd;b!==p&&(this.Sf!==b&&am(b,this,c),c!==p&&(c.Rd=p),lm(this),b.I(Qi));this.eg=a;this.ii=p;this.$b();var d=this.h;if(d!==p){var e=this.data,g=d.Y;if(e!==p)if(g instanceof T){var i=a!==p?a.data:p;g.sw(e,g.qb(i))}else g instanceof $d&&(i=a!==p?a.data:p,d.ed?(b!==p&&g.Lf(b.data,f),g.Lf(i,g.qb(this.Sf!==p?this.Sf.data:p))):g.Lf(e,g.qb(i)))}e=this.wd;g=this.CA;g!==p&&(i=h,d!==p&&(i=d.Ra,
d.Ra=h),g(this,c,e),d!==p&&(d.Ra=i));a!==p&&(this.Sf!==a&&$l(a,this,e),e!==p&&(e.Rd=p),mm(this),a.I(Li));this.j("toNode",b,a);Ti(this)}});x.g(F,"toPortId",F.prototype.bj);
x.defineProperty(F,{bj:"toPortId"},t("Gh"),function(a){var b=this.Gh;if(b!==a){u&&x.k(a,"string",F,"toPortId");var c=this.wd;c!==p&&(c.Rd=p);lm(this);this.Gh=a;var d=this.wd;d!==p&&(d.Rd=p);var e=this.h;if(e!==p){var g=this.data,i=e.Y;g!==p&&i instanceof T&&i.$s(g,a)}c!==d&&(this.ii=p,this.$b(),g=this.CA,g!==p&&(i=h,e!==p&&(i=e.Ra,e.Ra=h),g(this,c,d),e!==p&&(e.Ra=i)));mm(this);this.j("toPortId",b,a)}});x.u(F,{wd:"toPort"},function(){var a=this.eg;return a===p?p:a.ns(this.Gh)});
x.g(F,"toPortChanged",F.prototype.CA);x.defineProperty(F,{CA:"toPortChanged"},t("Lr"),function(a){var b=this.Lr;b!==a&&(a!==p&&x.k(a,"function",F,"toPortChanged"),this.Lr=a,this.j("toPortChanged",b,a))});x.g(F,"fromSpot",F.prototype.pb);x.defineProperty(F,{pb:"fromSpot"},t("ph"),function(a){var b=this.ph;b.K(a)||(u&&x.i(a,N,F,"fromSpot"),this.ph=a=a.Q(),this.j("fromSpot",b,a),this.$b())});x.g(F,"fromEndSegmentLength",F.prototype.fl);
x.defineProperty(F,{fl:"fromEndSegmentLength"},t("mh"),function(a){var b=this.mh;b!==a&&(u&&x.k(a,"number",F,"fromEndSegmentLength"),0>a&&x.ta(a,">= 0",F,"fromEndSegmentLength"),this.mh=a,this.j("fromEndSegmentLength",b,a),this.$b())});x.g(F,"fromEndSegmentDirection",F.prototype.qs);x.defineProperty(F,{qs:"fromEndSegmentDirection"},t("lh"),function(a){var b=this.lh;b!==a&&(u&&x.ob(a,A,F,"fromEndSegmentDirection"),this.lh=a,this.j("fromEndSegmentDirection",b,a),this.$b())});
x.g(F,"fromShortLength",F.prototype.rs);x.defineProperty(F,{rs:"fromShortLength"},t("oh"),function(a){var b=this.oh;b!==a&&(u&&x.k(a,"number",F,"fromShortLength"),this.oh=a,this.j("fromShortLength",b,a),this.$b())});x.g(F,"toSpot",F.prototype.tb);x.defineProperty(F,{tb:"toSpot"},t("Ih"),function(a){var b=this.Ih;b.K(a)||(u&&x.i(a,N,F,"toSpot"),this.Ih=a=a.Q(),this.j("toSpot",b,a),this.$b())});x.g(F,"toEndSegmentLength",F.prototype.sl);
x.defineProperty(F,{sl:"toEndSegmentLength"},t("Fh"),function(a){var b=this.Fh;b!==a&&(u&&x.k(a,"number",F,"toEndSegmentLength"),0>a&&x.ta(a,">= 0",F,"toEndSegmentLength"),this.Fh=a,this.j("toEndSegmentLength",b,a),this.$b())});x.g(F,"toEndSegmentDirection",F.prototype.ft);x.defineProperty(F,{ft:"toEndSegmentDirection"},t("Eh"),function(a){var b=this.Eh;b!==a&&(u&&x.ob(a,A,F,"toEndSegmentDirection"),this.Eh=a,this.j("toEndSegmentDirection",b,a),this.$b())});x.g(F,"toShortLength",F.prototype.gt);
x.defineProperty(F,{gt:"toShortLength"},t("Hh"),function(a){var b=this.Hh;b!==a&&(u&&x.k(a,"number",F,"toShortLength"),this.Hh=a,this.j("toShortLength",b,a),this.$b())});function Ti(a){var b=a.ja,c=a.na;b!==p&&c!==p?nm(a,b.$G(c)):nm(a,p)}function nm(a,b){var c=a.uk;if(c!==b){c!==p&&Rl(c,a);a.uk=b;b!==p&&Sl(b,a);var d=a.kz;if(d!==p){var e=h,g=a.h;g!==p&&(e=g.Ra,g.Ra=h);d(a,c,b);g!==p&&(g.Ra=e)}a.Ii&&(a.jC===c||a.lC===c)&&a.$b()}}
F.prototype.getOtherNode=F.prototype.CD=function(a){u&&x.i(a,A,F,"getOtherNode:node");var b=this.ja;return a===b?this.na:b};F.prototype.getOtherPort=F.prototype.bL=function(a){u&&x.i(a,U,F,"getOtherPort:port");var b=this.Lc;return a===b?this.wd:b};x.u(F,{yL:"isLabeledLink"},function(){return this.Je===p?q:0<this.Je.count});x.u(F,{Yi:"labelNodes"},function(){return this.Je===p?x.Of:this.Je.l});function bm(a,b){a.Je===p&&(a.Je=new qa(A));a.Je.add(b);a.T()}
F.prototype.ws=function(){z.prototype.ws.call(this);om(this)&&Ng(this,this.za);var a=this.Sf,b=this.eg;if(a!==p){var c=this.Lc;c!==p&&(c.Rd=p);$l(a,this,c);mm(this)}b!==p&&(c=this.wd,c!==p&&(c.Rd=p),$l(b,this,c),mm(this))};F.prototype.xs=function(){z.prototype.xs.call(this);om(this)&&Ng(this,this.za);var a=this.Sf,b=this.eg;if(a!==p){var c=this.Lc;c!==p&&(c.Rd=p);am(a,this,c);lm(this)}b!==p&&(c=this.wd,c!==p&&(c.Rd=p),am(b,this,c),lm(this))};
F.prototype.pm=function(){if(this.Je!==p){var a=this.h;if(a===p)return;for(var b=this.Je.copy().l;b.next();)a.remove(b.value)}b=this.data;b!==p&&(a=this.h,a!==p&&(a=a.Y,a instanceof T?a.nI(b):a instanceof $d&&a.Lf(b,f)))};F.prototype.move=F.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;z.prototype.move.call(this,a);this.ll(c,b);for(a=this.Yi;a.next();){var d=a.value,e=d.position;d.move(new K(e.x+c,e.y+b))}};x.g(F,"relinkableFrom",F.prototype.zE);
x.defineProperty(F,{zE:"relinkableFrom"},t("ar"),function(a){var b=this.ar;b!==a&&(u&&x.k(a,"boolean",F,"relinkableFrom"),this.ar=a,this.j("relinkableFrom",b,a))});x.g(F,"relinkableTo",F.prototype.AE);x.defineProperty(F,{AE:"relinkableTo"},t("br"),function(a){var b=this.br;b!==a&&(u&&x.k(a,"boolean",F,"relinkableTo"),this.br=a,this.j("relinkableTo",b,a))});F.prototype.canRelinkFrom=F.prototype.DJ=function(){if(!this.zE)return q;var a=this.Pa;if(a!==p&&!a.Mj)return q;a=a.h;return a!==p&&!a.Mj?q:h};
F.prototype.canRelinkTo=F.prototype.EJ=function(){if(!this.AE)return q;var a=this.Pa;if(a!==p&&!a.Mj)return q;a=a.h;return a!==p&&!a.Mj?q:h};x.u(F,{path:"path"},function(){var a=this.zh;if(a!==p)return a;a=this.ya;a=Rj(this,a,a.length);return a instanceof V?this.zh=a:p});F.prototype.Xp=t("path");F.prototype.Dx=t("Sc");F.prototype.ki=function(){this.updateRoute();var a=this.te();return this.ly=a};
F.prototype.te=function(){var a=Infinity,b=Infinity,c=this.ma,d;if(0===c)return new L(NaN,NaN,0,0);if(1===c)c=this.p(0),a=Math.min(c.x,a),b=Math.min(c.y,b),d=new L(c.x,c.y,0,0);else if(2===c){d=this.p(0);var e=this.p(1),a=Math.min(d.x,e.x),b=Math.min(d.y,e.y);d=new L(d,e)}else if(this.Cv()===mk&&3<=c&&!this.jc)if(e=this.p(0),a=e.x,b=e.y,d=new L(a,b,0,0),3===c){var c=this.p(1),a=Math.min(c.x,a),b=Math.min(c.y,b),g=this.p(2),a=Math.min(g.x,a),b=Math.min(g.y,b);tc(e.x,e.y,c.x,c.y,c.x,c.y,g.x,g.y,0.5,
d)}else for(var i,j,k=3;k<c;k+=3)i=this.p(k-2),k+3>=c&&(k=c-1),j=this.p(k-1),g=this.p(k),tc(e.x,e.y,i.x,i.y,j.x,j.y,g.x,g.y,0.5,d),a=Math.min(g.x,a),b=Math.min(g.y,b),e=g;else{d=this.p(0);e=this.p(1);a=Math.min(d.x,e.x);b=Math.min(d.y,e.y);d=new L(d,e);for(k=2;k<c;k++)e=this.p(k),a=Math.min(e.x,a),b=Math.min(e.y,b),d.xw(e)}this.gv.W(a-d.x,b-d.y);return d};x.u(F,{lE:"midPoint"},function(){this.updateRoute();return pm(this)});
function pm(a){var b=a.ma;if(0===b)return nc;if(1===b)return a.p(0);if(2===b){var c=a.p(0),d=a.p(1);return new K((c.x+d.x)/2,(c.y+d.y)/2)}if(a.Cv()===mk&&3<=b&&!a.jc){if(3===b)return a.p(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=a.p(e),d=a.p(e+1),g=a.p(e+2),a=a.p(e+3),e=new K,b=d.x,i=d.y,d=g.x,j=g.y,g=(b+d)/2,k=(i+j)/2,i=((c.y+i)/2+k)/2,j=(k+(j+a.y)/2)/2;e.x=(((c.x+b)/2+g)/2+(g+(d+a.x)/2)/2)/2;e.y=(i+j)/2;return e}return a.p(e)}e=0;g=[];for(i=0;i<b-1;i++)c=a.p(i),d=a.p(i+1),Ta(c.x,d.x)?(c=
d.y-c.y,0>c&&(c=-c)):Ta(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.qm(d)),g.push(c),e+=c;for(d=i=c=0;c<e/2&&i<b;){d=g[i];if(c+d>e/2)break;c+=d;i++}b=a.p(i);a=a.p(i+1);if(b.x===a.x)return b.y>a.y?new K(b.x,b.y-(e/2-c)):new K(b.x,b.y+(e/2-c));if(b.y===a.y)return b.x>a.x?new K(b.x-(e/2-c),b.y):new K(b.x+(e/2-c),b.y);c=(e/2-c)/d;return new K(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))}x.u(F,{kE:"midAngle"},function(){this.updateRoute();return qm(this)});
function qm(a){var b=a.ma;if(2>b)return NaN;if(a.Cv()===mk&&4<=b&&!a.jc){var c=(b-1)/3|0,d=3*(c/2|0);if(1===c%2){var d=Math.floor(d),b=a.p(d),e=a.p(d+1),c=a.p(d+2),a=a.p(d+3),d=e.x,e=e.y,g=c.x,c=c.y,i=(d+g)/2,j=(e+c)/2;return bb(((b.x+d)/2+i)/2,((b.y+e)/2+j)/2,(i+(g+a.x)/2)/2,(j+(c+a.y)/2)/2)}if(0<d&&d+1<b)return b=a.p(d-1),e=a.p(d+1),b.Oi(e)}c=b/2|0;if(0===b%2)return b=a.p(c-1),e=a.p(c),b.Oi(e);b=a.p(c-1);e=a.p(c);c=a.p(c+1);a=b.qm(e);d=e.qm(c);return a>d?b.Oi(e):e.Oi(c)}x.g(F,"points",F.prototype.points);
x.defineProperty(F,{points:"points"},t("Sc"),function(a){u&&x.i(a,H,F,"points");var b=this.Sc;if(b!==a&&a!==p){for(var c=a.l;c.next();){var d=c.value;d.freeze()}a.freeze();this.Sc=a.copy();this.lg();rm(this);for(var c=a.count,e=new H,g=0;g<c;g++)d=a.o[g],e.add(d.copy());this.j("points",b,e)}});x.u(F,{ma:"pointsCount"},function(){return this.Sc.count});F.prototype.getPoint=F.prototype.p=function(a){return this.Sc.o[a]};
F.prototype.setPoint=F.prototype.L=function(a,b){u&&(x.i(b,K,F,"setPoint"),b.R()||x.m("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));this.Vg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Sc.qw(a,b)};
F.prototype.insertPoint=F.prototype.A=function(a,b){u&&(x.i(b,K,F,"insertPoint"),b.R()||x.m("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));this.Vg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Sc.Cc(a,b)};
F.prototype.addPoint=F.prototype.Fd=function(a){u&&(x.i(a,K,F,"addPoint"),a.R()||x.m("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));this.Vg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Sc.add(a)};F.prototype.removePoint=F.prototype.FE=function(a){this.Vg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Sc.bf(a)};
F.prototype.clearPoints=F.prototype.fo=function(){this.Vg===p&&x.m("Call Link.startRoute before modifying the points of the route.");this.Sc.clear()};F.prototype.movePoints=F.prototype.ll=function(a,b){for(var c=new H(K),d=this.Sc.l;d.next();){var e=d.value;c.add(new K(e.x+a,e.y+b))}this.points=c};F.prototype.startRoute=F.prototype.rl=function(){if(this.Vg===p){for(var a=new H(K),b=this.Sc.l;b.next();)a.add(b.value.Q());this.Vg=a;this.Sc.Na()}};
F.prototype.commitRoute=F.prototype.Mi=function(){if(this.Vg!==p){for(var a=this.Vg,b=Infinity,c=Infinity,d=a.count,e=0;e<d;e++)var g=a.o[e],b=Math.min(g.x,b),c=Math.min(g.y,c);for(var i=Infinity,j=Infinity,k=this.Sc,l=k.count,e=0;e<l;e++)g=k.o[e],i=Math.min(g.x,i),j=Math.min(g.y,j);if(l===d)for(e=0;e<l;e++)if(g=a.o[e],d=k.o[e],g.x-b!==d.x-i||g.y-c!==d.y-j){this.lg();break}this.Vg=p;this.Sc.freeze();rm(this);b=new H(K);for(e=0;e<l;e++)g=k.o[e],b.add(g.copy());this.j("points",a,b)}};
F.prototype.rollbackRoute=F.prototype.rI=function(){this.Vg=p};function rm(a){0===a.Sc.count?a.Ii=q:(a.Ii=h,sm(a,q))}F.prototype.invalidateRoute=F.prototype.$b=function(){if(!this.Kn&&(!this.h||!this.h.xa.zb)){this.Ii=q;this.lg();var a=this.Xp();a!==p&&a.T()}};F.prototype.updateRoute=F.prototype.GA=function(){if(!this.Ii&&!this.jx){var a=h;try{this.jx=h,this.rl(),a=this.computePoints()}finally{this.jx=q,a?this.Mi():this.rI()}}};
F.prototype.computePoints=F.prototype.YJ=function(){var a=this.ja,b=p,b=a===p?p:this.Lc;if(b!==p){var c=dk(b);c===a||!a.sb()?(c=Nl(a),c!==p&&c!==a?(a=c,b=c.ns("")):a=c):b=c}this.jC=a;if(a===p||b===p||!a.location.R())return q;var d=this.na,e=p,e=d===p?p:this.wd;e!==p&&(c=dk(e),c===d||!d.sb()?(c=Nl(d),c!==p&&c!==d?(d=c,e=c.ns("")):d=c):e=c);this.lC=d;if(d===p||e===p||!d.location.R())return q;var g=this.ma,i=tm(this,b),c=um(this,e),j=b===e,k=this.jc,l=this.Ef===mk;this.ii=j&&!k?l=h:q;var m=this.pv===
kj||j;if(!k&&i===Cb&&c===Cb&&!j){if(c=q,!m&&3<=g&&(c=this.getLinkPoint(a,b,Cb,h,q,d,e),j=this.getLinkPoint(d,e,Cb,q,q,a,b),c=vm(this,0,c,g-1,j)),!c)if(this.fo(),l){var c=a,j=b,k=d,l=e,e=this.getLinkPoint(c,j,Cb,h,q,k,l),d=this.getLinkPoint(k,l,Cb,q,q,c,j),a=d.x-e.x,b=d.y-e.y,g=this.computeCurviness(),n=m=0,i=e.x+a/3,r=e.y+b/3,s=i,v=r;Ua(b,0)?v=0<a?v-g:v+g:(m=-a/b,n=Math.sqrt(g*g/(m*m+1)),0>g&&(n=-n),s=(0>b?-1:1)*n+i,v=m*(s-i)+r);var i=e.x+2*a/3,r=e.y+2*b/3,y=i,C=r;Ua(b,0)?C=0<a?C-g:C+g:(y=(0>b?-1:
1)*n+i,C=m*(y-i)+r);this.fo();this.Fd(e);this.Fd(new K(s,v));this.Fd(new K(y,C));this.Fd(d);this.L(0,this.getLinkPoint(c,j,Cb,h,q,k,l));this.L(3,this.getLinkPoint(k,l,Cb,q,q,c,j))}else j=a,k=b,l=d,c=this.getLinkPoint(j,k,Cb,h,q,l,e),j=this.getLinkPoint(l,e,Cb,q,q,j,k),this.hasCurviness()?(b=j.x-c.x,k=j.y-c.y,l=this.computeCurviness(),e=c.x+b/2,d=c.y+k/2,a=e,g=d,Ua(k,0)?g=0<b?g-l:g+l:(b=-b/k,a=Math.sqrt(l*l/(b*b+1)),0>l&&(a=-a),a=(0>k?-1:1)*a+e,g=b*(a-e)+d),this.Fd(c),this.Fd(new K(a,g))):this.Fd(c),
this.Fd(j)}else{s=this.Uh===Df;m&&(k&&s||j)&&this.fo();var D=this.computeCurviness(),v=this.getLinkPoint(a,b,i,h,k,d,e),r=C=y=0;if(k||i!==Cb||j)l=this.getEndSegmentLength(a,b,i,h),r=this.getLinkDirection(a,b,v,i,h,k,d,e),j&&(r-=k?90:30,0>D&&(r-=180)),0>r?r+=360:360<=r&&(r-=360),j&&(l+=Math.abs(D)),0===r?y=l:90===r?C=l:180===r?y=-l:270===r?C=-l:(y=l*Math.cos(r*Math.PI/180),C=l*Math.sin(r*Math.PI/180)),Ab(i)&&j&&(l=b.Gb(Lb),v=this.getLinkPointFromPoint(a,b,l,new K(l.x+1E3*y,l.y+1E3*C),h));var l=this.getLinkPoint(d,
e,c,q,k,a,b),I=0,E=0,n=0;if(k||c!==Cb||j){var M=this.getEndSegmentLength(d,e,c,q),n=this.getLinkDirection(d,e,l,c,q,k,a,b);j&&(n+=k?0:30,0>D&&(n+=180));0>n?n+=360:360<=n&&(n-=360);j&&(M+=Math.abs(D));0===n?I=M:90===n?E=M:180===n?I=-M:270===n?E=-M:(I=M*Math.cos(n*Math.PI/180),E=M*Math.sin(n*Math.PI/180));Ab(c)&&j&&(l=e.Gb(Lb),l=this.getLinkPointFromPoint(d,e,l,new K(l.x+1E3*I,l.y+1E3*E),q))}b=v;if(k||i!==Cb||j)b=new K(v.x+y,v.y+C);e=l;if(k||c!==Cb||j)e=new K(l.x+I,l.y+E);if(m||k||!Ab(i)||!(3<g&&vm(this,
0,v,g-2,e)))if(!m&&!k&&Ab(c)&&3<g&&vm(this,1,b,g-1,l))this.L(0,v);else if(!m&&!k&&4<g&&vm(this,1,b,g-2,e))this.L(0,v),this.L(g-1,l);else if(!m&&k&&6<=g&&!s&&vm(this,1,b,g-2,e))this.L(0,v),this.L(g-1,l);else{this.fo();this.Fd(v);(k||i!==Cb||j)&&this.Fd(b);if(k&&(m=r,g=e,i=a,v=d,m=-45<=m&&45>m?0:45<=m&&135>m?90:135<=m&&225>m?180:270,n=-45<=n&&45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270,r=i.za.copy(),s=v.za.copy(),r.R()&&s.R())){r.bh(8,8);s.bh(8,8);r.xw(b);s.xw(g);if(0===m)if(g.x>b.x||270===n&&g.y<
b.y&&s.right>b.x||90===n&&g.y>b.y&&s.right>b.x)d=new K(g.x,b.y),a=new K(g.x,(b.y+g.y)/2),180===n?(d.x=wm(this,b.x,g.x),a.x=d.x,a.y=g.y):270===n&&g.y<b.y||90===n&&g.y>b.y?(d.x=b.x<s.left?wm(this,b.x,s.left):b.x<s.right&&(270===n&&b.y<s.top||90===n&&b.y>s.bottom)?wm(this,b.x,g.x):s.right,a.x=d.x,a.y=g.y):0===n&&(b.x<s.left&&b.y>s.top&&b.y<s.bottom)&&(d.x=b.x,d.y=b.y<g.y?Math.min(g.y,s.top):Math.max(g.y,s.bottom),a.y=d.y);else{d=new K(b.x,g.y);a=new K((b.x+g.x)/2,g.y);if(180===n||90===n&&g.y<r.top||
270===n&&g.y>r.bottom){if(180===n&&(s.Ca(b)||r.Ca(g)))d.y=wm(this,b.y,g.y);else if(g.y<b.y&&(180===n||90===n))d.y=wm(this,r.top,Math.max(g.y,s.bottom));else if(g.y>b.y&&(180===n||270===n))d.y=wm(this,r.bottom,Math.min(g.y,s.top));a.x=g.x;a.y=d.y}if(d.y>r.top&&d.y<r.bottom)if(g.x>=r.left&&g.x<=b.x||b.x<=s.right&&b.x>=g.x){if(90===n||270===n)d=new K(Math.max((b.x+g.x)/2,b.x),b.y),a=new K(d.x,g.y)}else d.y=270===n||(0===n||180===n)&&g.y<b.y?Math.min(g.y,0===n?r.top:Math.min(r.top,s.top)):Math.max(g.y,
0===n?r.bottom:Math.max(r.bottom,s.bottom)),a.x=g.x,a.y=d.y}else if(180===m)if(g.x<b.x||270===n&&g.y<b.y&&s.left<b.x||90===n&&g.y>b.y&&s.left<b.x)d=new K(g.x,b.y),a=new K(g.x,(b.y+g.y)/2),0===n?(d.x=wm(this,b.x,g.x),a.x=d.x,a.y=g.y):270===n&&g.y<b.y||90===n&&g.y>b.y?(d.x=b.x>s.right?wm(this,b.x,s.right):b.x>s.left&&(270===n&&b.y<s.top||90===n&&b.y>s.bottom)?wm(this,b.x,g.x):s.left,a.x=d.x,a.y=g.y):180===n&&(b.x>s.right&&b.y>s.top&&b.y<s.bottom)&&(d.x=b.x,d.y=b.y<g.y?Math.min(g.y,s.top):Math.max(g.y,
s.bottom),a.y=d.y);else{d=new K(b.x,g.y);a=new K((b.x+g.x)/2,g.y);if(0===n||90===n&&g.y<r.top||270===n&&g.y>r.bottom){if(0===n&&(s.Ca(b)||r.Ca(g)))d.y=wm(this,b.y,g.y);else if(g.y<b.y&&(0===n||90===n))d.y=wm(this,r.top,Math.max(g.y,s.bottom));else if(g.y>b.y&&(0===n||270===n))d.y=wm(this,r.bottom,Math.min(g.y,s.top));a.x=g.x;a.y=d.y}if(d.y>r.top&&d.y<r.bottom)if(g.x<=r.right&&g.x>=b.x||b.x>=s.left&&b.x<=g.x){if(90===n||270===n)d=new K(Math.min((b.x+g.x)/2,b.x),b.y),a=new K(d.x,g.y)}else d.y=270===
n||(0===n||180===n)&&g.y<b.y?Math.min(g.y,180===n?r.top:Math.min(r.top,s.top)):Math.max(g.y,180===n?r.bottom:Math.max(r.bottom,s.bottom)),a.x=g.x,a.y=d.y}else if(90===m)if(g.y>b.y||180===n&&g.x<b.x&&s.bottom>b.y||0===n&&g.x>b.x&&s.bottom>b.y)d=new K(b.x,g.y),a=new K((b.x+g.x)/2,g.y),270===n?(d.y=wm(this,b.y,g.y),a.x=g.x,a.y=d.y):180===n&&g.x<b.x||0===n&&g.x>b.x?(d.y=b.y<s.top?wm(this,b.y,s.top):b.y<s.bottom&&(180===n&&b.x<s.left||0===n&&b.x>s.right)?wm(this,b.y,g.y):s.bottom,a.x=g.x,a.y=d.y):90===
n&&(b.y<s.top&&b.x>s.left&&b.x<s.right)&&(d.x=b.x<g.x?Math.min(g.x,s.left):Math.max(g.x,s.right),d.y=b.y,a.x=d.x);else{d=new K(g.x,b.y);a=new K(g.x,(b.y+g.y)/2);if(270===n||0===n&&g.x<r.left||180===n&&g.x>r.right){if(270===n&&(s.Ca(b)||r.Ca(g)))d.x=wm(this,b.x,g.x);else if(g.x<b.x&&(270===n||0===n))d.x=wm(this,r.left,Math.max(g.x,s.right));else if(g.x>b.x&&(270===n||180===n))d.x=wm(this,r.right,Math.min(g.x,s.left));a.x=d.x;a.y=g.y}if(d.x>r.left&&d.x<r.right)if(g.y>=r.top&&g.y<=b.y||b.y<=s.bottom&&
b.y>=g.y){if(0===n||180===n)d=new K(b.x,Math.max((b.y+g.y)/2,b.y)),a=new K(g.x,d.y)}else d.x=180===n||(90===n||270===n)&&g.x<b.x?Math.min(g.x,90===n?r.left:Math.min(r.left,s.left)):Math.max(g.x,90===n?r.right:Math.max(r.right,s.right)),a.x=d.x,a.y=g.y}else if(g.y<b.y||180===n&&g.x<b.x&&s.top<b.y||0===n&&g.x>b.x&&s.top<b.y)d=new K(b.x,g.y),a=new K((b.x+g.x)/2,g.y),90===n?(d.y=wm(this,b.y,g.y),a.x=g.x,a.y=d.y):180===n&&g.x<b.x||0===n&&g.x>=b.x?(d.y=b.y>s.bottom?wm(this,b.y,s.bottom):b.y>s.top&&(180===
n&&b.x<s.left||0===n&&b.x>s.right)?wm(this,b.y,g.y):s.top,a.x=g.x,a.y=d.y):270===n&&(b.y>s.bottom&&b.x>s.left&&b.x<s.right)&&(d.x=b.x<g.x?Math.min(g.x,s.left):Math.max(g.x,s.right),d.y=b.y,a.x=d.x);else{d=new K(g.x,b.y);a=new K(g.x,(b.y+g.y)/2);if(90===n||0===n&&g.x<r.left||180===n&&g.x>r.right){if(90===n&&(s.Ca(b)||r.Ca(g)))d.x=wm(this,b.x,g.x);else if(g.x<b.x&&(90===n||0===n))d.x=wm(this,r.left,Math.max(g.x,s.right));else if(g.x>b.x&&(90===n||180===n))d.x=wm(this,r.right,Math.min(g.x,s.left));a.x=
d.x;a.y=g.y}if(d.x>r.left&&d.x<r.right)if(g.y<=r.bottom&&g.y>=b.y||b.y>=s.top&&b.y<=g.y){if(0===n||180===n)d=new K(b.x,Math.min((b.y+g.y)/2,b.y)),a=new K(g.x,d.y)}else d.x=180===n||(90===n||270===n)&&g.x<b.x?Math.min(g.x,270===n?r.left:Math.min(r.left,s.left)):Math.max(g.x,270===n?r.right:Math.max(r.right,s.right)),a.x=d.x,a.y=g.y}y=d;C=a;if(this.Uh!==Df)b=q;else if(I=this.h,I===p||r.Ca(g)||s.Ca(b)||i===v||this.Pa.Dc)b=q;else if(i=la(I,h,this),xm(i,Math.min(b.x,y.x),Math.min(b.y,y.y),Math.abs(b.x-
y.x),Math.abs(b.y-y.y))&&xm(i,Math.min(y.x,C.x),Math.min(y.y,C.y),Math.abs(y.x-C.x),Math.abs(y.y-C.y))&&xm(i,Math.min(C.x,g.x),Math.min(C.y,g.y),Math.abs(C.x-g.x),Math.abs(C.y-g.y)))b=q;else if(r=r.copy().cj(s),r.bh(2*i.km,2*i.jm),ym(i,b,m,g,n,r),s=zm(i,g.x,g.y),!i.abort&&s===na&&(bj(i),s=i.UE,r.bh(i.km*s,i.jm*s),ym(i,b,m,g,n,r),s=zm(i,g.x,g.y)),!i.abort&&s===na&&(bj(i),s=i.ZD,r.bh(i.km*s,i.jm*s),ym(i,b,m,g,n,r),s=zm(i,g.x,g.y)),!i.abort&&(s===na&&i.rF)&&(bj(i),ym(i,b,m,g,n,i.Lb),s=zm(i,g.x,g.y)),
!i.abort&&s<na&&zm(i,g.x,g.y)!==ma){Am(this,i,g.x,g.y,n,h);n=this.p(2);if(4>this.ma)0===m||180===m?(n.x=b.x,n.y=g.y):(n.x=g.x,n.y=b.y),this.L(2,n),this.A(3,n);else if(g=this.p(3),0===m||180===m)Ua(n.x,g.x)?(m=0===m?Math.max(n.x,b.x):Math.min(n.x,b.x),this.L(2,new K(m,b.y)),this.L(3,new K(m,g.y))):Ua(n.y,g.y)?(Math.abs(b.y-n.y)<=i.jm/2&&(this.L(2,new K(n.x,b.y)),this.L(3,new K(g.x,b.y))),this.A(2,new K(n.x,b.y))):this.L(2,new K(b.x,n.y));else if(90===m||270===m)Ua(n.y,g.y)?(m=90===m?Math.max(n.y,b.y):
Math.min(n.y,b.y),this.L(2,new K(b.x,m)),this.L(3,new K(g.x,m))):Ua(n.x,g.x)?(Math.abs(b.x-n.x)<=i.km/2&&(this.L(2,new K(b.x,n.y)),this.L(3,new K(b.x,g.y))),this.A(2,new K(b.x,n.y))):this.L(2,new K(n.x,b.y));b=h}else b=q;b||(this.Fd(d),this.Fd(a))}(k||c!==Cb||j)&&this.Fd(e);this.Fd(l)}}return h};function Bm(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}
F.prototype.getLinkPointFromPoint=F.prototype.aL=function(a,b,c,d){if(a===p||b===p)return c;if(!a.sb()){var e=Nl(a);e!==p&&e!==a&&(b=e.port)}var g,a=p;if(b.ea===p)e=d.x,d=d.y,g=c.x,c=c.y;else{a=b.ea.oe;e=1/(a.m11*a.m22-a.m12*a.m21);g=a.m22*e;var i=-a.m12*e,j=-a.m21*e,k=a.m11*e,l=e*(a.m21*a.dy-a.m22*a.dx),m=e*(a.m12*a.dx-a.m11*a.dy),e=d.x*g+d.y*j+l,d=d.x*i+d.y*k+m;g=c.x*g+c.y*j+l;c=c.x*i+c.y*k+m}i=new K;b.ss(e,d,g,c,i);a&&i.transform(a);return i};
function Cm(a,b){var c=a.Rd;c===p&&(c=new Dm,c.port=a,c.hh=a.fa,a.Rd=c);return Em(c,b)}F.prototype.getLinkPoint=F.prototype.$K=function(a,b,c,d,e,g,i){if(wb(c))return c=b.Gb(c);if(xb(c)&&(c=Cm(b,this),c!==p))return c=c.Eo;c=b.Gb(Lb);this.ma>(e?6:2)?(i=d?this.p(1):this.p(this.ma-2),e&&(i=Bm(c,i.copy()))):(i=i.Gb(Lb),e&&(i=Bm(c,i)));return this.getLinkPointFromPoint(a,b,c,i,d)};
F.prototype.getLinkDirection=F.prototype.ZK=function(a,b,c,d,e,g,i,j){a:if(wb(d))c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:0.5>d.x?225:0.5<d.x?45:0;else{if(xb(d)&&(d=Cm(b,this),d!==p))switch(d.ke){case x.xd:c=270;break a;case x.Zc:c=180;break a;default:case x.kd:c=0;break a;case x.jd:c=90;break a}d=b.Gb(Lb);this.ma>(g?6:2)?(j=e?this.p(1):this.p(this.ma-2),j=g?Bm(d,j.copy()):c):j=j.Gb(Lb);c=Math.abs(j.x-d.x)>Math.abs(j.y-d.y)?j.x>=d.x?0:180:j.y>=d.y?90:270}g=Wl;
g=e?this.qs:this.ft;g===Wl&&(g=e?b.qs:b.ft);switch(g){case Xl:a=a.angle;c+=a;360<=c&&(c-=360);break;case Wl:case jj:a=a.angle;if(0===a)break;45<=a&&135>a?c+=90:135<=a&&225>a?c+=180:225<=a&&315>a&&(c+=270);360<=c&&(c-=360)}return c};F.prototype.getEndSegmentLength=F.prototype.YK=function(a,b,c,d){if(xb(c)&&(a=Cm(b,this),a!==p))return a.Kv;a=NaN;a=d?this.fl:this.sl;isNaN(a)&&(a=d?b.fl:b.sl);isNaN(a)&&(a=10);return a};
F.prototype.computeSpot=F.prototype.QC=function(a){return a?tm(this,this.Lc):um(this,this.wd)};function tm(a,b){var c=a.pb;Bb(c)&&(b===f&&(b=a.Lc),b!==p&&(c=b.pb));return c===Db?Cb:c}function um(a,b){var c=a.tb;Bb(c)&&(b===f&&(b=a.wd),b!==p&&(c=b.tb));return c===Db?Cb:c}F.prototype.computeShortLength=F.prototype.bK=function(a){return a?Fm(this):Gm(this)};function Fm(a){var b=a.rs;isNaN(b)&&(a=a.Lc,a!==p&&(b=a.rs));return isNaN(b)?0:b}
function Gm(a){var b=a.gt;isNaN(b)&&(a=a.wd,a!==p&&(b=a.gt));return isNaN(b)?0:b}x.u(F,{jc:"isOrthogonal"},function(){var a=this.zn;return a===lk||a===Df});F.prototype.computeCurve=F.prototype.Cv=function(){if(this.ii===p){var a=this.jc;this.ii=this.Lc===this.wd&&!a}return this.ii?mk:this.Ef};function Hm(a){if(a.Ef===mk)return 0;a=a.WC;if(isNaN(a)||0>a)a=10;return a}
F.prototype.computeCurviness=F.prototype.SJ=function(){var a=this.mz;if(isNaN(a)){var b=this.De;if(0!==b){var c=this.zl,a=c!==p?c.spacing:10,c=Math.abs(b),a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};F.prototype.hasCurviness=F.prototype.iL=function(){return!isNaN(this.mz)||0!==this.De&&!this.jc};
function vm(a,b,c,d,e){var g=a.pv;if(a.jc){if(g===qk)return q;g===rk&&(g=pk)}switch(g){case qk:var i=a.p(b),j=a.p(d);if(!i.K(c)||!j.K(e)){var g=i.x,i=i.y,k=j.x-g,l=j.y-i,m=Math.sqrt(k*k+l*l);if(!Ua(m,0)){var n;Ua(k,0)?n=0>l?-Math.PI/2:Math.PI/2:(n=Math.atan(l/Math.abs(k)),0>k&&(n=Math.PI-n));var j=c.x,r=c.y,k=e.x-j,s=e.y-r,l=Math.sqrt(k*k+s*s);Ua(k,0)?s=0>s?-Math.PI/2:Math.PI/2:(s=Math.atan(s/Math.abs(k)),0>k&&(s=Math.PI-s));m=l/m;n=s-n;a.L(b,c);for(b+=1;b<d;b++)c=a.p(b),k=c.x-g,l=c.y-i,c=Math.sqrt(k*
k+l*l),Ua(c,0)||(Ua(k,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+n,c*=m,a.L(b,new K(j+c*Math.cos(k),r+c*Math.sin(k))));a.L(d,e)}}return h;case rk:i=a.p(b);r=a.p(d);if(!i.K(c)||!r.K(e)){g=i.x;i=i.y;j=r.x;r=r.y;m=(j-g)*(j-g)+(r-i)*(r-i);k=c.x;n=c.y;var l=e.x,s=e.y,v=0,y=1,v=0!==l-k?(s-n)/(l-k):9E9;0!==v&&(y=Math.sqrt(1+1/(v*v)));a.L(b,c);for(b+=1;b<d;b++){var c=a.p(b),C=c.x,D=c.y,I=0.5;0!==m&&(I=((g-C)*(g-j)+(i-D)*(i-r))/m);var E=g+I*(j-g),M=i+I*(r-i),c=Math.sqrt((C-
E)*(C-E)+(D-M)*(D-M));D<v*(C-E)+M&&(c=-c);0<v&&(c=-c);C=k+I*(l-k);I=n+I*(s-n);0!==v?(c=C+c/y,a.L(b,new K(c,I-(c-C)/v))):a.L(b,new K(C,I+c))}a.L(d,e)}return h;case pk:return a.jc&&(g=a.p(b),i=a.p(b+1),j=a.p(b+2),Ua(g.y,i.y)?Ua(i.x,j.x)?a.L(b+1,new K(i.x,c.y)):Ua(i.y,j.y)&&a.L(b+1,new K(c.x,i.y)):Ua(g.x,i.x)&&(Ua(i.y,j.y)?a.L(b+1,new K(c.x,i.y)):Ua(i.x,j.x)&&a.L(b+1,new K(i.x,c.y))),g=a.p(d),i=a.p(d-1),j=a.p(d-2),Ua(g.y,i.y)?Ua(i.x,j.x)?a.L(d-1,new K(i.x,e.y)):Ua(i.y,j.y)&&a.L(d-1,new K(e.x,i.y)):Ua(g.x,
i.x)&&(Ua(i.y,j.y)?a.L(d-1,new K(e.x,i.y)):Ua(i.x,j.x)&&a.L(d-1,new K(i.x,e.y)))),a.L(b,c),a.L(d,e),h;default:return q}}function wm(a,b,c){return a.hasCurviness()?(a=a.computeCurviness(),(b+c)/2+a):(b+c)/2}
function Am(a,b,c,d,e,g){var i=b.km,j=b.jm,k=zm(b,c,d),l=c,m=d;for(0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j;k>Im&&zm(b,l,m)===k-Jm;)c=l,d=m,0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j,k-=Jm;if(g){if(k>Im)if(180===e||0===e)c=Math.floor(c/i)*i+i/2;else if(90===e||270===e)d=Math.floor(d/j)*j+j/2}else c=Math.floor(c/i)*i+i/2,d=Math.floor(d/j)*j+j/2;k>Im&&(g=e,l=c,m=d,0===e?(g=90,m+=j):90===e?(g=180,l-=i):180===e?(g=270,m-=j):270===e&&(g=0,l+=i),zm(b,l,m)===k-Jm?Am(a,b,l,m,g,q):(l=c,m=d,0===e?(g=270,m-=j):
90===e?(g=0,l+=i):180===e?(g=90,m+=j):270===e&&(g=180,l-=i),zm(b,l,m)===k-Jm&&Am(a,b,l,m,g,q)));a.Fd(new K(c,d))}F.prototype.findClosestSegment=F.prototype.HK=function(a){u&&x.i(a,K,F,"findClosestSegment:p");for(var b=a.x,a=a.y,c=this.p(0),d=this.p(1),e=ab(b,a,c.x,c.y,d.x,d.y),g=0,i=1;i<this.ma-1;i++){var c=this.p(i+1),j=ab(b,a,d.x,d.y,c.x,c.y),d=c;j<e&&(g=i,e=j)}return g};F.prototype.invalidateGeometry=F.prototype.lg=function(){this.zh=this.La=p;this.T()};
x.u(F,{dd:"geometry"},function(){this.La===p&&(this.updateRoute(),this.La=Km(this));return this.La});F.prototype.bw=function(){if(this.La===p&&this.Ii!==q){this.La=Km(this);var a=this.Xp();if(a!==p){a.La=this.La;for(var b=this.ya,c=b.length,d=0;d<c;d++){var e=b.o[d];e!==a&&(e.Qh&&e instanceof V)&&(e.La=this.La)}}}};
function Km(a){var b=a.ma;if(2>b){var a=new Tc(Uc),c=new Vc(0,0);a.yb.add(c);return a}var d,e=a.p(0).copy(),g=new K(Infinity,Infinity);g.x=Math.min(e.x,g.x);g.y=Math.min(e.y,g.y);var i=a.Cv();if(i===mk&&3<=b&&!Ta(a.bt,0))if(3===b){var j=a.p(1),c=Math.min(e.x,j.x);d=Math.min(e.y,j.y);j=a.p(2);c=Math.min(c,j.x);d=Math.min(d,j.y)}else{if(a.jc)for(j=0;j<b;j++)c=a.Sc.o[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);else for(var k,j=3;j<b;j+=3)j+3>=b&&(j=b-1),k=a.p(j),g.x=Math.min(k.x,g.x),g.y=Math.min(k.y,
g.y);c=g.x;d=g.y}else{for(j=0;j<b;j++)c=a.Sc.o[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}c-=a.gv.x;d-=a.gv.y;e.x-=c;e.y-=d;if(2===b){var l=a.p(1).copy();l.x-=c;l.y-=d;0!==Fm(a)&&Lm(a,e,h,g);0!==Gm(a)&&Lm(a,l,q,g);a=new Tc(Xc);a.pa=e.x;a.qa=e.y;a.D=l.x;a.F=l.y;return a}l=new P;0!==Fm(a)&&Lm(a,e,h,g);Q(l,e.x,e.y,q,q);if(i===mk&&3<=b&&!Ta(a.bt,0))if(3===b)j=a.p(1),b=j.x-c,e=j.y-d,j=a.p(2).copy(),j.x-=c,j.y-=d,0!==Gm(a)&&Lm(a,j,q,g),R(l,b,e,b,e,j.x,j.y);else if(a.jc){e=new K(c,d);i=a.p(1).copy();
k=new K(c,d);for(var b=new K(c,d),g=a.p(0),m=p,n=a.bt/3,j=1;j<a.ma-1;j++){var m=a.p(j),r=g,s=m,v=a.p(Mm(a,m,j,q));if(!Ta(r.x,s.x)||!Ta(s.x,v.x))if(!Ta(r.y,s.y)||!Ta(s.y,v.y)){var y=n,C=k,D=b;isNaN(y)&&(y=a.bt/3);var I=r.x,r=r.y,E=s.x,s=s.y,M=v.x,v=v.y,O=y*Nm(I,r,E,s),y=y*Nm(E,s,M,v);Ta(r,s)&&Ta(E,M)&&(E>I?v>s?(C.x=E-O,C.y=s-O,D.x=E+y,D.y=s+y):(C.x=E-O,C.y=s+O,D.x=E+y,D.y=s-y):v>s?(C.x=E+O,C.y=s-O,D.x=E-y,D.y=s+y):(C.x=E+O,C.y=s+O,D.x=E-y,D.y=s-y));Ta(I,E)&&Ta(s,v)&&(s>r?(M>E?(C.x=E-O,C.y=s-O,D.x=
E+y):(C.x=E+O,C.y=s-O,D.x=E-y),D.y=s+y):(M>E?(C.x=E-O,C.y=s+O,D.x=E+y):(C.x=E+O,C.y=s+O,D.x=E-y),D.y=s-y));if(Ta(I,E)&&Ta(E,M)||Ta(r,s)&&Ta(s,v))I=0.5*(I+M),r=0.5*(r+v),C.x=I,C.y=r,D.x=I,D.y=r;1===j?(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y)):2===j&&(Ta(g.x,a.p(0).x)&&Ta(g.y,a.p(0).y))&&(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y));R(l,i.x-c,i.y-d,k.x-c,k.y-d,m.x-c,m.y-d);e.set(k);i.set(b);g=m}}j=g.x;g=g.y;a=a.p(a.ma-1);j=0.5*(j+a.x);g=0.5*(g+a.y);R(l,b.x-c,b.y-d,j-c,g-d,a.x-c,a.y-d)}else for(j=3;j<b;j+=3)g=a.p(j-
2),j+3>=b&&(j=b-1),e=a.p(j-1),k=a.p(j),j===b-1&&0!==Gm(a)&&(k=k.copy(),Lm(a,k,q,bc)),R(l,g.x-c,g.y-d,e.x-c,e.y-d,k.x-c,k.y-d);else{m=a.p(0);for(j=1;j<b;){j=Mm(a,m,j,1<j);n=a.p(j);if(j>=b-1){m!==n&&(0!==Gm(a)&&(n=n.copy(),Lm(a,n,q,bc)),Om(a,l,-c,-d,m,n));break}j=Mm(a,n,j+1,j<b-3);g=a;e=l;i=-c;k=-d;C=a.p(j);Ua(m.y,n.y)&&Ua(n.x,C.x)?(D=Hm(g),D=Math.min(D,Math.abs(n.x-m.x)/2),D=I=Math.min(D,Math.abs(C.y-n.y)/2),Ua(D,0)?(Om(g,e,i,k,m,n),m=n):(r=n.x,y=n.y,E=r,s=y,r=n.x>m.x?n.x-D:n.x+D,s=C.y>n.y?n.y+I:n.y-
I,Om(g,e,i,k,m,new K(r,y)),fd(e,n.x+i,n.y+k,E+i,s+k),m=new K(E,s))):Ua(m.x,n.x)&&Ua(n.y,C.y)?(D=Hm(g),I=Math.min(D,Math.abs(n.y-m.y)/2),I=D=Math.min(I,Math.abs(C.x-n.x)/2),Ua(D,0)?(Om(g,e,i,k,m,n),m=n):(r=n.x,s=y=n.y,y=n.y>m.y?n.y-I:n.y+I,E=C.x>n.x?n.x+D:n.x-D,Om(g,e,i,k,m,new K(r,y)),fd(e,n.x+i,n.y+k,E+i,s+k),m=new K(E,s))):(Om(g,e,i,k,m,n),m=n)}}return l.q}
function Nm(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return Ta(a,0)?b:Ta(b,0)?a:Math.sqrt(a*a+b*b)}
function Lm(a,b,c,d){var e=a.ma;if(!(2>e))if(c){var g=a.p(1),c=g.x-d.x,d=g.y-d.y,g=Nm(b.x,b.y,c,d);0!==g&&(e=2===e?0.5*g:g,a=Fm(a),a>e&&(a=e),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.p(e-2),c=g.x-d.x,d=g.y-d.y,g=Nm(b.x,b.y,c,d),0!==g&&(e=2===e?0.5*g:g,a=Gm(a),a>e&&(a=e),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)}
function Mm(a,b,c,d){for(var e=a.ma,g=b;Ta(b.x,g.x)&&Ta(b.y,g.y);){if(c>=e)return e-1;g=a.p(c++)}if(!Ta(b.x,g.x)&&!Ta(b.y,g.y))return c-1;for(var i=g;Ta(b.x,g.x)&&Ta(g.x,i.x)&&(!d||(b.y>=g.y?g.y>=i.y:g.y<=i.y))||Ta(b.y,g.y)&&Ta(g.y,i.y)&&(!d||(b.x>=g.x?g.x>=i.x:g.x<=i.x));){if(c>=e)return e-1;i=a.p(c++)}return c-2}
function Om(a,b,c,d,e,g){if(om(a)){var i=new H("number"),j;a:if(j=a.h,j===p)j=0;else{Math.min(e.x,g.x);Math.min(e.y,g.y);Math.max(e.x,g.x);Math.max(e.y,g.y);for(j=j.Bm;j.next();){var k=j.value;if(k!==p&&k.visible)for(k=k.$i;k.next();){var l=k.value;if(l===a){0<i.length&&i.sort(function(a,b){return a-b});j=i.length;break a}if(l instanceof F&&a.sb()&&l.sb()&&om(l)){var m=l.ki();if(m.R()&&(a.ki().We(m)&&!a.usesSamePort(l))&&(m=l.path,m!==p&&m.kl()))for(var m=e,n=g,r=i,s=l.ma,v=1;v<s;v++){var y=l.p(v-
1),C=l.p(v),D=new K,I;b:{I=m;var E=n,M=D;if(Ua(I.x,E.x)){if(Ua(y.y,C.y)&&Math.min(I.y,E.y)<=y.y&&Math.max(I.y,E.y)>=y.y&&Math.min(y.x,C.x)<=I.x&&Math.max(y.x,C.x)>=I.x&&!Ua(y.x,C.x)){M.x=I.x;M.y=y.y;I=h;break b}}else if(Ua(y.x,C.x)&&Math.min(I.x,E.x)<=y.x&&Math.max(I.x,E.x)>=y.x&&Math.min(y.y,C.y)<=I.y&&Math.max(y.y,C.y)>=I.y&&!Ua(y.y,C.y)){M.x=y.x;M.y=I.y;I=h;break b}M.x=0;M.y=0;I=q}I&&(Ua(m.y,n.y)?r.add(D.x):r.add(D.y))}}}}0<i.length&&i.sort(function(a,b){return a-b});j=i.length}m=e.x;m=e.y;if(0<
j)if(Ua(e.y,g.y))if(e.x<g.x)for(k=0;k<j;){r=Math.max(e.x,Math.min(i.o[k++]-5,g.x-10));b.lineTo(r+c,g.y+d);m=r+c;for(n=Math.min(r+10,g.x);k<j;)if(l=i.o[k],l<n+10)k++,n=Math.min(l+5,g.x);else break;l=(r+n)/2+c;l=g.y-10+d;r=n+c;n=g.y+d;a.Ef===nk?Q(b,r,n,q,q):R(b,m,l,r,l,r,n)}else for(k=j-1;0<=k;){r=Math.min(e.x,Math.max(i.o[k--]+5,g.x+10));b.lineTo(r+c,g.y+d);m=r+c;for(n=Math.max(r-10,g.x);0<=k;)if(l=i.o[k],l>n-10)k--,n=Math.max(l-5,g.x);else break;l=g.y-10+d;r=n+c;n=g.y+d;a.Ef===nk?Q(b,r,n,q,q):R(b,
m,l,r,l,r,n)}else if(Ua(e.x,g.x))if(e.y<g.y)for(k=0;k<j;){r=Math.max(e.y,Math.min(i.o[k++]-5,g.y-10));b.lineTo(g.x+c,r+d);m=r+d;for(n=Math.min(r+10,g.y);k<j;)if(l=i.o[k],l<n+10)k++,n=Math.min(l+5,g.y);else break;l=g.x-10+c;r=g.x+c;n+=d;a.Ef===nk?Q(b,r,n,q,q):R(b,l,m,l,n,r,n)}else for(k=j-1;0<=k;){r=Math.min(e.y,Math.max(i.o[k--]+5,g.y+10));b.lineTo(g.x+c,r+d);m=r+d;for(n=Math.max(r-10,g.y);0<=k;)if(l=i.o[k],l>n-10)k--,n=Math.max(l-5,g.y);else break;l=g.x-10+c;r=g.x+c;n+=d;a.Ef===nk?Q(b,r,n,q,q):R(b,
l,m,l,n,r,n)}}b.lineTo(g.x+c,g.y+d)}x.u(F,{Sv:"firstPickIndex"},function(){return 2>=this.ma?0:this.jc||tm(this)!==Cb?1:0});x.u(F,{Kz:"lastPickIndex"},function(){var a=this.ma;return 0===a?0:2>=a?a-1:this.jc||um(this)!==Cb?a-2:a-1});function om(a){a=a.Ef;return a===ok||a===nk}function sm(a,b){if(b||om(a)){var c=a.h;c!==p&&(!c.mj.contains(a)&&a.ly!==p)&&c.mj.add(a,a.ly)}}
function Ng(a,b){var c=a.Pa;if(!(c===p||!c.visible||c.Dc)){var d=c.h;if(d!==p)for(var e=q,d=d.Bm;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=h,i=q,g=g.$i;g.next();){var j=g.value;j instanceof F&&(j===a?i=h:i&&Pm(a,j,b))}else if(e)for(g=g.$i;g.next();)j=g.value,j instanceof F&&Pm(a,j,b)}}}function Pm(a,b,c){if(b!==p&&om(b)&&b.La!==p){var d=b.ki();if(d.R()&&(a.ki().We(d)||c.We(b.ki())))a.usesSamePort(b)||b.lg()}}
F.prototype.usesSamePort=F.prototype.NM=function(a){var b=this.ma,c=a.ma;if(0<b&&0<c){if(this.p(0).Si(a.p(0))||this.p(b-1).Si(a.p(c-1)))return h}else if(this.ja===a.ja||this.na===a.na)return h;return q};x.g(F,"adjusting",F.prototype.pv);x.defineProperty(F,{pv:"adjusting"},t("kp"),function(a){var b=this.kp;b!==a&&(u&&x.ob(a,F,F,"adjusting"),this.kp=a,this.j("adjusting",b,a))});x.g(F,"corner",F.prototype.WC);
x.defineProperty(F,{WC:"corner"},t("vp"),function(a){var b=this.vp;b!==a&&(u&&x.k(a,"number",F,"corner"),this.vp=a,this.lg(),this.j("corner",b,a))});x.g(F,"curve",F.prototype.Ef);x.defineProperty(F,{Ef:"curve"},t("xp"),function(a){var b=this.xp;b!==a&&(u&&x.ob(a,F,F,"curve"),this.xp=a,this.$b(),sm(this,b===nk||b===ok||a===nk||a===ok),this.j("curve",b,a))});x.g(F,"curviness",F.prototype.mz);
x.defineProperty(F,{mz:"curviness"},t("yp"),function(a){var b=this.yp;b!==a&&(u&&x.k(a,"number",F,"curviness"),this.yp=a,this.$b(),this.j("curviness",b,a))});x.g(F,"routing",F.prototype.Uh);x.defineProperty(F,{Uh:"routing"},t("zn"),function(a){var b=this.zn;b!==a&&(u&&x.ob(a,F,F,"routing"),this.zn=a,this.ii=p,this.$b(),sm(this,b===lk||b===Df||a===lk||a===Df),this.j("routing",b,a))});x.g(F,"smoothness",F.prototype.bt);
x.defineProperty(F,{bt:"smoothness"},t("yr"),function(a){var b=this.yr;b!==a&&(u&&x.k(a,"number",F,"smoothness"),this.yr=a,this.lg(),this.j("smoothness",b,a))});
function mm(a){var b=a.Sf;if(b!==p){var c=a.eg;if(c!==p){var d=a.nh,a=a.Gh,e;a:{if(!(c===p||b.jh===p))for(e=b.jh.l;e.next();){var g=e.value;if(g.Lo===b&&g.Ps===c&&g.fw===d&&g.gw===a||g.Lo===c&&g.Ps===b&&g.fw===a&&g.gw===d){e=g;break a}}e=p}for(var i=g=p,j=b.nd.o,k=j.length,l=0;l<k;l++){var m=j[l];if(m.Sf===b&&m.nh===d&&m.eg===c&&m.Gh===a||m.Sf===c&&m.nh===a&&m.eg===b&&m.Gh===d)i===p?i=m:(g===p&&(g=new H(F),g.add(i)),g.add(m))}if(g!==p){e===p&&(e=new Zl,e.Lo=b,e.fw=d,e.Ps=c,e.gw=a,Yl(b,e),Yl(c,e));
e.links=g;for(l=0;l<g.count;l++)if(m=g.o[l],0===m.De){b=1;for(c=0;c<g.count;c++)Math.abs(g.o[c].De)===b&&(b++,c=-1);m.zl=e;m.De=m.ja===e.Lo?b:-b;m.$b()}}}}}
function lm(a){var b=a.zl;if(b!==p){var c=a.De;a.zl=p;a.De=0;a.$b();b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.o[0],c.zl=p,c.De=0,c.$b()),c=b.Lo,b!==p&&c.jh!==p&&c.jh.remove(b),c=b.Ps,b!==p&&c.jh!==p&&c.jh.remove(b);else{c=Math.abs(c);a=0===c%2;for(b=b.links.l;b.next();){var d=b.value,e=Math.abs(d.De),g=0===e%2;e>c&&a===g&&(d.De=0<d.De?d.De-2:d.De+2,d.$b())}}}}function Zl(){x.nc(this);this.links=this.gw=this.Ps=this.fw=this.Lo=p;this.spacing=10}
x.jg(Zl,{Lo:h,fw:h,Ps:h,gw:h,links:h,spacing:h});function $i(){x.nc(this);this.group=p;this.uo=h;this.abort=q;this.of=this.nf=1;this.Fq=this.Eq=-1;this.ad=this.ld=8;this.Xb=p;this.rF=q;this.UE=22;this.ZD=111}x.jg($i,{group:h,uo:h,abort:h,rF:h,UE:h,ZD:h});var ma=0,Im=1,Jm=1,na=999999999,Qm=na;
$i.prototype.initialize=function(a){if(!(0>=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.nf=Math.floor((a.x-this.ld)/this.ld)*this.ld;this.of=Math.floor((b-this.ad)/this.ad)*this.ad;this.Eq=Math.ceil((c+2*this.ld)/this.ld)*this.ld;this.Fq=Math.ceil((d+2*this.ad)/this.ad)*this.ad;a=1+(Math.ceil((this.Eq-this.nf)/this.ld)|0);b=1+(Math.ceil((this.Fq-this.of)/this.ad)|0);if(this.Xb===p||this.dm<a-1||this.em<b-1){c=[];for(d=0;d<=a;d++){for(var e=[],g=0;g<=b;g++)e[g]=0;c[d]=e}this.Xb=
c;this.dm=a-1;this.em=b-1}if(this.Xb!==p)for(a=0;a<=this.dm;a++)for(b=0;b<=this.em;b++)this.Xb[a][b]=Qm}};x.u($i,{Lb:p},function(){return new L(this.nf,this.of,this.Eq-this.nf,this.Fq-this.of)});x.g($i,"cellWidth",$i.prototype.km);x.defineProperty($i,{km:p},t("ld"),function(a){0<a&&a!==this.ld&&(this.ld=a,this.initialize(this.Lb))});x.g($i,"cellHeight",$i.prototype.jm);x.defineProperty($i,{jm:p},t("ad"),function(a){0<a&&a!==this.ad&&(this.ad=a,this.initialize(this.Lb))});
function Rm(a,b,c){return a.nf<=b&&b<=a.Eq&&a.of<=c&&c<=a.Fq}function zm(a,b,c){if(!Rm(a,b,c))return 0;b-=a.nf;b/=a.ld;c-=a.of;c/=a.ad;return a.Xb[b|0][c|0]}function cj(a,b,c){Rm(a,b,c)&&(b-=a.nf,b/=a.ld,c-=a.of,c/=a.ad,a.Xb[b|0][c|0]=ma)}function bj(a){if(a.Xb!==p)for(var b=0;b<=a.dm;b++)for(var c=0;c<=a.em;c++)a.Xb[b][c]>=Im&&(a.Xb[b][c]|=na)}
function xm(a,b,c,d,e){if(b>a.Eq||b+d<a.nf||c>a.Fq||c+e<a.of)return h;var b=(b-a.nf)/a.ld|0,c=(c-a.of)/a.ad|0,d=Math.max(0,d)/a.ld+1|0,g=Math.max(0,e)/a.ad+1|0;0>b&&(d+=b,b=0);0>c&&(g+=c,c=0);if(0>d||0>g)return h;e=Math.min(b+d-1,a.dm)|0;for(d=Math.min(c+g-1,a.em)|0;b<=e;b++)for(g=c;g<=d;g++)if(a.Xb[b][g]===ma)return q;return h}
function Sm(a,b,c,d,e,g,i,j,k){if(!(b<g||b>i||c<j||c>k)){var l,m;l=b|0;m=c|0;var n=a.Xb[l][m];if(n>=Im&&n<na){e?m+=d:l+=d;for(n+=Jm;g<=l&&(l<=i&&j<=m&&m<=k)&&!(n>=a.Xb[l][m]);)a.Xb[l][m]=n,n+=Jm,e?m+=d:l+=d}l=e?m:l;if(e)if(0<d)for(c+=d;c<l;c+=d)Sm(a,b,c,1,!e,g,i,j,k),Sm(a,b,c,-1,!e,g,i,j,k);else for(c+=d;c>l;c+=d)Sm(a,b,c,1,!e,g,i,j,k),Sm(a,b,c,-1,!e,g,i,j,k);else if(0<d)for(b+=d;b<l;b+=d)Sm(a,b,c,1,!e,g,i,j,k),Sm(a,b,c,-1,!e,g,i,j,k);else for(b+=d;b>l;b+=d)Sm(a,b,c,1,!e,g,i,j,k),Sm(a,b,c,-1,!e,g,
i,j,k)}}function Tm(a,b,c,d,e,g,i,j,k,l,m){for(var n=b|0,r=c|0,s=a.Xb[n][r];0===s&&n>j&&n<k&&r>l&&r<m;)if(i?r+=g:n+=g,s=a.Xb[n][r],1>=Math.abs(n-d)&&1>=Math.abs(r-e))return a.abort=h,0;n=b|0;r=c|0;s=a.Xb[n][r];b=Im;for(a.Xb[n][r]=b;0===s&&n>j&&n<k&&r>l&&r<m;)i?r+=g:n+=g,s=a.Xb[n][r],a.Xb[n][r]=b,b+=Jm;return i?r:n}
function ym(a,b,c,d,e,g){if(a.Xb!==p){a.abort=q;var i=b.x,j=b.y;if(Rm(a,i,j)){var i=i-a.nf,i=i/a.ld,j=j-a.of,j=j/a.ad,k=d.x,l=d.y;if(Rm(a,k,l))if(k-=a.nf,k/=a.ld,l-=a.of,l/=a.ad,1>=Math.abs(i-k)&&1>=Math.abs(j-l))a.abort=h;else{var m=g.x,b=g.y,d=g.x+g.width,n=g.y+g.height,m=m-a.nf,m=m/a.ld,b=b-a.of,b=b/a.ad,d=d-a.nf,d=d/a.ld,n=n-a.of,n=n/a.ad,g=Math.max(0,Math.min(a.dm,m|0)),d=Math.min(a.dm,Math.max(0,d|0)),b=Math.max(0,Math.min(a.em,b|0)),n=Math.min(a.em,Math.max(0,n|0)),i=i|0,j=j|0,k=k|0,l=l|0,
m=i,r=j,s=0===c||90===c?1:-1;(c=90===c||270===c)?r=Tm(a,i,j,k,l,s,c,g,d,b,n):m=Tm(a,i,j,k,l,s,c,g,d,b,n);if(!a.abort){a:{for(var c=0===e||90===e?1:-1,e=90===e||270===e,s=k|0,v=l|0,y=a.Xb[s][v];0===y&&s>g&&s<d&&v>b&&v<n;)if(e?v+=c:s+=c,y=a.Xb[s][v],1>=Math.abs(s-i)&&1>=Math.abs(v-j)){a.abort=h;break a}s=k|0;v=l|0;y=a.Xb[s][v];for(a.Xb[s][v]=Qm;0===y&&s>g&&s<d&&v>b&&v<n;)e?v+=c:s+=c,y=a.Xb[s][v],a.Xb[s][v]=Qm}a.abort||(Sm(a,m,r,1,q,g,d,b,n),Sm(a,m,r,-1,q,g,d,b,n),Sm(a,m,r,1,h,g,d,b,n),Sm(a,m,r,-1,h,
g,d,b,n))}}}}}function Dm(){x.nc(this);this.rg=this.port=this.hh=p;this.Os=q}x.jg(Dm,{hh:h,port:h,rg:h,Os:h});Dm.prototype.toString=function(){for(var a=this.rg,b=this.hh.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];d!==p&&(b+="\n  "+d.toString())}return b};
function Um(a,b,c,d){b=b.offsetY;switch(b){case x.jd:return 90;case x.Zc:return 180;case x.xd:return 270;case x.kd:return 0}switch(b){case x.jd|x.xd:return 180<c?270:90;case x.Zc|x.kd:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case x.Zc|x.xd:return c>a&&c<=180+a?180:270;case x.xd|x.kd:return c>180-a&&c<=360-a?270:0;case x.kd|x.jd:return c>a&&c<=180+a?90:0;case x.jd|x.Zc:return c>180-a&&c<=360-a?180:90;case x.Zc|x.xd|x.kd:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case x.xd|x.kd|x.jd:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case x.kd|x.jd|x.Zc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case x.jd|x.Zc|x.xd:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(x.Zc|x.xd|x.kd|x.jd)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
function Em(a,b){var c=a.rg;if(c===p){if(!a.Os){c=a.Os;a.Os=h;var d=a.hh.Ud;a.rg=[];for(var e=0,g=new L(a.port.Gb(Eb),a.port.Gb(Ob)),d=d.l;d.next();){var i=d.value;if(i.sb()){var j=Cb,j=i.Lc===a.port?tm(i,a.port):um(i,a.port);if(xb(j)){var k;k=i.Lc===a.port?i.wd:i.Lc;if(k!==p&&k.fa!==p){var l=k.Gb(Lb);k=k.Rd;k=k!==p?Em(k,i):p;k!==p&&(l=k.Eo);k=g.uv.Oi(l);var j=Um(g,j,k,i.jc),m;0===j?(m=x.kd,180<k&&(k-=360)):m=90===j?x.jd:180===j?x.Zc:x.xd;(j=a.rg[e])?(j.link=i,j.angle=k,j.ke=m):(j=new Vm(i,k,m),a.rg[e]=
j);j.ew.set(l);e++}}}}a.rg.sort(Dm.prototype.UH);g=a.rg.length;d=-1;for(e=i=0;e<g;e++)j=a.rg[e],j!==p&&(j.ke!==d&&(d=j.ke,i=0),j.xm=i,i++);d=-1;i=0;for(e=g-1;0<=e;e--)j=a.rg[e],j!==p&&(j.ke!==d&&(d=j.ke,i=j.xm+1),j.es=i);e=a.rg;for(g=0;g<e.length;g++)if(d=e[g],d!==p){l=d;j=a.port;i=d=f;switch(l.ke){case x.jd:d=j.Gb(Ob);i=j.Gb(Mb);break;case x.Zc:d=j.Gb(Mb);i=j.Gb(Eb);break;case x.xd:d=j.Gb(Eb);i=j.Gb(Kb);break;default:case x.kd:d=j.Gb(Kb),i=j.Gb(Ob)}j=i.y-d.y;k=(l.xm+1)/(l.es+1);l=l.Eo;l.x=d.x+(i.x-
d.x)*k;l.y=d.y+j*k}e=a.rg;for(g=0;g<e.length;g++)if(i=e[g],i!==p){d=i;k=i;m=k.link;i=m.getEndSegmentLength(a.hh,a.port,Cb,m.Lc===a.port);l=k.xm;if(!(0>l)&&(j=k.es,!(1>=j)&&m.jc)){m=k.ew;var n=k.Eo;if(k.ke===x.Zc||k.ke===x.jd)l=j-1-l;i=((k=k.ke===x.Zc||k.ke===x.kd)?m.y<n.y:m.x<n.x)?i+8*l:(k?m.y===n.y:m.x===n.x)?i:i+8*(j-1-l)}d.Kv=i}a.Os=c}c=a.rg}for(e=0;e<c.length;e++)if(g=c[e],g!==p&&g.link===b)return g;return p}
Dm.prototype.UH=function(a,b){return a===b?0:a===p?-1:b===p?1:a.ke<b.ke?-1:a.ke>b.ke?1:a.angle<b.angle?-1:a.angle>b.angle?1:0};function Vm(a,b,c){this.link=a;this.angle=b;this.ke=c;this.ew=new K;this.xm=this.es=this.xm=0;this.Eo=new K;this.Kv=0}x.jg(Vm,{link:h,angle:h,ke:h,ew:h,xm:h,es:h,Eo:h,Kv:h});
Vm.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ke.toString()+":"+this.xm.toString()+"/"+this.es.toString()+" "+this.Eo.toString()+" "+this.Kv.toString()+" "+this.ew.toString()};function B(a){0===arguments.length?A.call(this,bh):A.call(this,a);this.Hq=new qa(z);this.Wl=new qa(B);this.Lk=this.Iq=this.Gq=p;this.Pr=q;this.lq=h;this.Rr=q;this.wb=this.Er=p;this.sp=q;this.Bd=new Yh;this.Bd.group=this}x.S("Group",B);x.Ja(B,A);da=B.prototype;
da.Db=function(a){A.prototype.Db.call(this,a);a.Gq=this.Gq;a.Iq=this.Iq;a.Lk=this.Lk;a.Pr=this.Pr;a.lq=this.lq;a.Rr=this.Rr;a.Er=this.Er;var b=al(a,a,function(a){return a instanceof Wg});a.wb=b instanceof Wg?b:p;a.sp=this.sp;this.Bd!==p?(a.Bd=this.Bd.copy(),a instanceof B&&(a.Bd.group=a)):(a.Bd!==p&&(a.Bd.group=p),a.Bd=p)};
da.Mh=function(a){A.prototype.Mh.call(this,a);for(var b=a.Pv(),a=a.Ec;a.next();){var c=a.value;c.T();c.I(Yj);c.Kh();c instanceof B&&(c.zw=c.Xe,Wm(c,b));if(c instanceof A)c.dh(b);else if(c instanceof F)for(c=c.Yi;c.next();)c.value.dh(b)}};
da.Fm=function(a,b,c,d,e,g,i){if(a===Ud&&"elements"===b)if(e instanceof Wg)this.wb===p?this.wb=e:this.wb!==e&&x.m("Cannot insert a second Placeholder into the visual tree of a Group.");else{if(e instanceof G){var j=al(e,e,function(a){return a instanceof Wg});j instanceof Wg&&(this.wb===p?this.wb=j:this.wb!==j&&x.m("Cannot insert a second Placeholder into the visual tree of a Group."))}}else a===Vd&&"elements"===b&&(d===this.wb?this.wb=p:d instanceof G&&this.wb.Wi(d)&&(this.wb=p));A.prototype.Fm.call(this,
a,b,c,d,e,g,i)};da.Pj=function(a,b,c,d){this.xj=this.wb;G.prototype.Pj.call(this,a,b,c,d);this.wb!==p&&(a=this.wb.An,this.location=new K(a.x,a.y))};da.jl=function(){if(!A.prototype.jl.call(this))return q;for(var a=this.Ec;a.next();){var b=a.value;if(b instanceof A){if(b.sb()&&b.Qc)return q}else if(b instanceof F&&b.sb()&&b.Qc&&b.ja!==this&&b.na!==this)return q}return h};x.u(B,{placeholder:"placeholder"},t("wb"));x.g(B,"computesBoundsAfterDrag",B.prototype.jz);
x.defineProperty(B,{jz:"computesBoundsAfterDrag"},t("sp"),function(a){var b=this.sp;b!==a&&(x.k(a,"boolean",B,"computesBoundsAfterDrag"),this.sp=a,this.j("computesBoundsAfterDrag",b,a))});x.u(B,{Ec:"memberParts"},function(){return this.Hq.l});function Sl(a,b){if(a.Hq.add(b)){b instanceof B&&a.Wl.add(b);var c=a.iE;if(c!==p){var d=h,e=a.h;e!==p&&(d=e.Ra,e.Ra=h);c(a,b);e!==p&&(e.Ra=d)}}c=a.wb;c===p&&(c=a);c.T()}
function Rl(a,b){if(a.Hq.remove(b)){b instanceof B&&a.Wl.remove(b);var c=a.jE;if(c!==p){var d=h,e=a.h;e!==p&&(d=e.Ra,e.Ra=h);c(a,b);e!==p&&(e.Ra=d)}}c=a.wb;c===p&&(c=a);c.T()}B.prototype.pm=function(){if(0<this.Hq.count){var a=this.h;if(a===p)return;for(var b=this.Hq.copy().l;b.next();)a.remove(b.value)}A.prototype.pm.call(this)};B.prototype.tw=function(){var a=this.Pa;a!==p&&a.tw(this)};x.g(B,"layout",B.prototype.Nb);
x.defineProperty(B,{Nb:"layout"},t("Bd"),function(a){var b=this.Bd;b!==a&&(a!==p&&x.i(a,Yh,B,"layout"),b!==p&&(b.h=p,b.group=p),this.Bd=a,a!==p&&(a.h=this.h,a.group=this),this.j("layout",b,a))});x.g(B,"memberAdded",B.prototype.iE);x.defineProperty(B,{iE:"memberAdded"},t("Gq"),function(a){var b=this.Gq;b!==a&&(a!==p&&x.k(a,"function",B,"memberAdded"),this.Gq=a,this.j("memberAdded",b,a))});x.g(B,"memberRemoved",B.prototype.jE);
x.defineProperty(B,{jE:"memberRemoved"},t("Iq"),function(a){var b=this.Iq;b!==a&&(a!==p&&x.k(a,"function",B,"memberRemoved"),this.Iq=a,this.j("memberRemoved",b,a))});x.g(B,"memberValidation",B.prototype.Js);x.defineProperty(B,{Js:"memberValidation"},t("Lk"),function(a){var b=this.Lk;b!==a&&(a!==p&&x.k(a,"function",B,"memberValidation"),this.Lk=a,this.j("memberValidation",b,a))});
B.prototype.canAddMembers=B.prototype.jJ=function(a){var b=this.h;if(b===p)return q;b=b.ig;for(a=b.findUnnestedNodes(a).l;a.next();)if(!b.isValidMember(this,a.value))return q;return h};B.prototype.addMembers=B.prototype.eJ=function(a,b){var c=this.h;if(c===p)return q;for(var c=c.ig,d=h,e=c.findUnnestedNodes(a).l;e.next();){var g=e.value;!b||c.isValidMember(this,g)?g.Za=this:d=q}return d};x.g(B,"ungroupable",B.prototype.nF);
x.defineProperty(B,{nF:"ungroupable"},t("Pr"),function(a){var b=this.Pr;b!==a&&(x.k(a,"boolean",B,"ungroupable"),this.Pr=a,this.j("ungroupable",b,a))});B.prototype.canUngroup=B.prototype.LJ=function(){if(!this.nF)return q;var a=this.Pa;if(a!==p&&!a.ao)return q;a=a.h;return a!==p&&!a.ao?q:h};B.prototype.findSubGraphParts=B.prototype.Pv=function(){var a=new qa(z);Ve(a,this,h,q);a.remove(this);return a};
B.prototype.collapseSubGraph=B.prototype.wv=function(){var a=this.h;if(a!==p&&!a.mg){a.mg=h;var b=this.Pv();Wm(this,b);a.mg=q}};function Wm(a,b){a.Xe=q;for(var c=a.Ec;c.next();){var d=c.value;d.T();d.I(Yj);d.Kh();d instanceof B&&(d.zw=d.Xe,Wm(d,b));if(d instanceof A)d.dh(b);else if(d instanceof F)for(d=d.Yi;d.next();)d.value.dh(b)}}B.prototype.expandSubGraph=B.prototype.Lv=function(){var a=this.h;if(a!==p&&!a.mg){a.mg=h;var b=this.Pv();Xm(this,b);a.mg=q}};
function Xm(a,b){a.Xe=h;for(var c=a.Ec;c.next();){var d=c.value;d.T();d.I(Xj);d.ej();d instanceof B&&d.zw&&Xm(d,b);if(d instanceof A)d.dh(b);else if(d instanceof F)for(d=d.Yi;d.next();)d.value.dh(b)}}x.g(B,"isSubGraphExpanded",B.prototype.Xe);
x.defineProperty(B,{Xe:"isSubGraphExpanded"},t("lq"),function(a){var b=this.lq;if(b!==a){x.k(a,"boolean",B,"isSubGraphExpanded");this.lq=a;var c=this.h;c!==p&&Ih(c);this.j("isSubGraphExpanded",b,a);b=this.aF;if(b!==p){var d=h;c!==p&&(d=c.Ra,c.Ra=h);b(this);c!==p&&(c.Ra=d)}c!==p&&c.xa.zb||(a?this.Lv():this.wv())}});x.g(B,"wasSubGraphExpanded",B.prototype.zw);
x.defineProperty(B,{zw:"wasSubGraphExpanded"},t("Rr"),function(a){var b=this.Rr;b!==a&&(x.k(a,"boolean",B,"wasSubGraphExpanded"),this.Rr=a,this.j("wasSubGraphExpanded",b,a))});x.g(B,"subGraphExpandedChanged",B.prototype.aF);x.defineProperty(B,{aF:"subGraphExpandedChanged"},t("Er"),function(a){var b=this.Er;b!==a&&(a!==p&&x.k(a,"function",B,"subGraphExpandedChanged"),this.Er=a,this.j("subGraphExpandedChanged",b,a))});
B.prototype.move=B.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;A.prototype.move.call(this,a);for(a=this.Pv().l;a.next();){var d=a.value,e=d.position;A.prototype.move.call(d,new K(e.x+c,e.y+b))}};function Wg(){U.call(this);this.ne=(new hb(0)).freeze();this.An=new L(NaN,NaN,NaN,NaN)}x.S("Placeholder",Wg);x.Ja(Wg,U);Wg.prototype.Db=function(a){U.prototype.Db.call(this,a);a.ne=this.ne.Q();a.An=this.An.copy()};
Wg.prototype.Qj=function(a){if(this.background===p&&this.Nj===p)return q;var b=this.Ma;return lb(0,0,b.width,b.height,a.x,a.y)};
Wg.prototype.Is=function(){var a=this.fa;(a===p||!(a instanceof B)&&!(a instanceof We))&&x.m("Placeholder is not inside a Group or Adornment.");if(a instanceof B){var b;a:{b=this.fa;if(b instanceof B&&b.jz&&this.An.R()){var c=b.h;if(c!==p&&(c=c.Ka,c instanceof hf&&!c.Jp&&c.hc!==p&&!c.hc.contains(b))){b=this.An;break a}}b=this.fa;if(b instanceof B){for(var d=c=Infinity,e=-Infinity,g=-Infinity,i=b.Ec;i.next();){var j=i.value;if(j.sb()){if(j instanceof F){if(j.fc)continue;if(j.ja===b||j.na===b)continue}j=
j.za;j.left<c&&(c=j.left);j.top<d&&(d=j.top);j.right>e&&(e=j.right);j.bottom>g&&(g=j.bottom)}}!isFinite(c)||!isFinite(d)?(b=b.location,c=this.padding,b=new L(b.x+c.left,b.y+c.top,0,0)):b=new L(c,d,e-c,g-d)}else b=new L;c=this.padding;b=new L(b.x-c.left,b.y-c.top,b.width+c.left+c.right,b.height+c.top+c.bottom)}this.An=b;c=this.Rc;db(c,b.width||0,b.height||0);oj(this,0,0,c.width,c.height);c=a.Ec;for(d=q;c.next();)if(c.value.sb()){d=h;break}d&&(!isNaN(b.x)&&!isNaN(b.y))&&(a.location=new K(b.x,b.y))}else b=
this.Aa,c=this.Rc,a=this.padding,db(c,b.width+(a.left+a.right)||0,b.height+(a.top+a.bottom)||0),oj(this,-a.left,-a.top,c.width,c.height)};Wg.prototype.Pj=function(a,b,c,d){var e=this.za;e.x=a;e.y=b;e.width=c;e.height=d};x.g(Wg,"padding",Wg.prototype.padding);x.defineProperty(Wg,{padding:"padding"},t("ne"),function(a){"number"===typeof a?a=new hb(a):x.i(a,hb,G,"padding");var b=this.ne;b.K(a)||(this.ne=a=a.Q(),this.j("padding",b,a))});
function Yh(){x.nc(this);this.Hx=this.da=p;this.eu=this.iq=h;this.pq=this.oq=q;this.mp=(new K(0,0)).freeze();this.Nx=h;this.B=p}x.S("Layout",Yh);Yh.prototype.cloneProtected=Yh.prototype.Db=function(a){a.iq=this.iq;a.eu=this.eu;a.pq=this.pq;a.mp=this.mp.Q()};Yh.prototype.copy=Yh.prototype.copy=function(){var a=new this.constructor;this.Db(a);return a};
Yh.prototype.toString=function(){var a=x.gl(Object.getPrototypeOf(this)),a=a+"(";this.group!==p&&(a+=" in "+this.group);this.h!==p&&(a+=" for "+this.h);return a+")"};x.g(Yh,"diagram",Yh.prototype.h);x.defineProperty(Yh,{h:"diagram"},t("da"),function(a){this.da!==a&&(a!==p&&x.i(a,w,Yh,"diagram"),this.da=a)});x.g(Yh,"group",Yh.prototype.group);x.defineProperty(Yh,{group:"group"},t("Hx"),function(a){this.Hx!==a&&(a!==p&&x.i(a,B,Yh,"group"),this.Hx=a)});x.g(Yh,"isOngoing",Yh.prototype.WD);
x.defineProperty(Yh,{WD:"isOngoing"},t("iq"),function(a){this.iq!==a&&(x.k(a,"boolean",Yh,"isOngoing"),this.iq=a)});x.g(Yh,"isInitial",Yh.prototype.VD);x.defineProperty(Yh,{VD:"isInitial"},t("eu"),function(a){x.k(a,"boolean",Yh,"isInitial");this.eu=a;a||(this.oq=h)});x.g(Yh,"isValidLayout",Yh.prototype.Ye);x.defineProperty(Yh,{Ye:"isValidLayout"},t("oq"),function(a){this.oq!==a&&(this.oq=a,a||(a=this.h,a!==p&&(a.ut=h)))});
Yh.prototype.invalidateLayout=Yh.prototype.I=function(){if(this.oq){var a=this.h;if(a!==p&&!a.xa.zb&&(this.WD&&a.Og||this.VD&&!a.Og))this.Ye=q,a.Nn=h,a.Eb(h)}};x.g(Yh,"isViewportSized",Yh.prototype.Es);x.defineProperty(Yh,{Es:"isViewportSized"},t("pq"),function(a){this.pq!==a&&(this.pq=a)&&this.I()});x.g(Yh,"isRouting",Yh.prototype.Cs);x.defineProperty(Yh,{Cs:"isRouting"},t("Nx"),function(a){this.Nx!==a&&(x.k(a,"boolean",Yh,"isRouting"),this.Nx=a)});x.g(Yh,"network",Yh.prototype.Xc);
x.defineProperty(Yh,{Xc:"network"},t("B"),function(a){var b=this.B;b!==a&&(a!==p&&x.i(a,Ym,Yh,"network"),b!==p&&Zm(b,p),this.B=a,a!==p&&Zm(a,this))});Yh.prototype.createNetwork=Yh.prototype.Fv=function(){var a=new Ym;Zm(a,this);return a};Yh.prototype.makeNetwork=Yh.prototype.NH=function(a){var b=this.createNetwork();a instanceof w?(b.Xr(a.ol,h),b.Xr(a.links,h)):a instanceof B?b.Xr(a.Ec):b.Xr(a.l);return b};
Yh.prototype.updateParts=Yh.prototype.LM=function(){var a=this.h;if(a===p&&this.B!==p)for(var b=this.B.oa.l;b.next();){var c=b.value.kb;if(c!==p&&(a=c.h,a!==p))break}this.Ye=h;a!==p&&a.lc("Layout");this.commitLayout();a!==p&&a.se("Layout")};Yh.prototype.commitLayout=Yh.prototype.Av=aa();
Yh.prototype.doLayout=Yh.prototype.gs=function(a){a===p&&x.m("Layout.doLayout(collection) argument must not be null");var b=new qa(z);a===this.h?($m(this,b,a.ol,h,this.Xz,h,q,h),$m(this,b,a.$i,h,this.Xz,h,q,h)):a===this.group?$m(this,b,a.Ec,q,this.Xz,h,q,h):b.Pe(a.l);var c=b.count;if(0<c){a=this.h;a!==p&&a.lc("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.sd.x,e=d,g=this.sd.y,i=0,j=0,b=b.l;b.next();){var k=b.value;k.Ri();var l=k.Da,m=l.width,l=l.height;k.move(new K(e,g));delete k.QB;e+=Math.max(m,
50)+20;j=Math.max(j,Math.max(l,50));i>=c-1?(i=0,e=d,g+=j+20,j=0):i++}a!==p&&a.se("Layout")}this.Ye=h};Yh.prototype.Xz=function(a){return!a.location.R()||a instanceof B&&a.QB?h:q};function $m(a,b,c,d,e,g,i,j){for(c=c.l;c.next();){var k=c.value;if(!d||k.Ds)if(!e||e(k))k.as()&&(g&&k instanceof A?k.Xi||(k instanceof B&&k.Nb===p?$m(a,b,k.Ec,q,e,g,i,j):b.add(k)):i&&k instanceof F?b.add(k):j&&(k.ge()&&!(k instanceof A))&&b.add(k))}}x.g(Yh,"arrangementOrigin",Yh.prototype.sd);
x.defineProperty(Yh,{sd:"arrangementOrigin"},t("mp"),function(a){this.mp.K(a)||(u&&x.i(a,K,Yh,"arrangementOrigin"),this.mp.Ya(a),this.I())});function an(a,b){var c=a.group;if(c!==p){var d=c.location;if(isNaN(d.x)||isNaN(d.y))return b;var e=c.placeholder;e!==p?(d=e.Gb(Eb),d.x+=e.padding.left,d.y+=e.padding.top):d=c.position.copy();return d}return b}function Ym(){x.nc(this);this.Bd=p;this.clear()}x.S("LayoutNetwork",Ym);
Ym.prototype.clear=function(){if(this.Qr)for(var a=this.Qr.l;a.next();){var b=a.value;b.clear();b.B=p}if(this.Lp)for(a=this.Lp.l;a.next();)b=a.value,b.clear(),b.B=p;this.Qr=new qa(bn);this.Lp=new qa(cn);this.Zx=new pa(A,bn);this.Sx=new pa(F,cn)};Ym.prototype.toString=function(){return"LayoutNetwork"+(this.Nb!==p?"("+this.Nb.toString()+")":"")};x.u(Ym,{Nb:"layout"},t("Bd"));function Zm(a,b){u&&b!==p&&x.i(b,Yh,Ym,"setLayout");a.Bd=b}x.u(Ym,{oa:"vertexes"},t("Qr"));x.u(Ym,{rc:"edges"},t("Lp"));
Ym.prototype.createVertex=Ym.prototype.Sj=function(){return new bn};Ym.prototype.createEdge=Ym.prototype.jo=function(){return new cn};
Ym.prototype.addParts=Ym.prototype.Xr=function(a,b){if(a!==p){b===f&&(b=q);x.k(b,"boolean",Ym,"addParts:toplevelonly");for(var c=a.l;c.next();){var d=c.value;if(d instanceof A&&(!b||d.Ds)&&d.as()&&!d.Xi)if(d instanceof B&&d.Nb===p)this.Xr(d.Ec,q);else if(this.Ve(d)===p){var e=this.Sj();e.hh=d;this.Uk(e)}}for(c.reset();c.next();)if(d=c.value,d instanceof F&&(!b||d.Ds)&&d.as()&&this.Nv(d)===p){var g=d.ja,e=d.na;g!==e&&(g=this.Ov(g),e=this.Ov(e),g!==p&&e!==p&&this.Cm(g,e,d))}}};
Ym.prototype.findGroupVertex=Ym.prototype.Ov=function(a){if(a===p)return p;a=Nl(a);if(a===p)return p;var b=this.Ve(a);if(b!==p)return b;a=a.Za;return a!==p&&(b=this.Ve(a),b!==p)?b:p};Ym.prototype.addVertex=Ym.prototype.Uk=function(a){if(a!==p){u&&x.i(a,bn,Ym,"addVertex:vertex");this.Qr.add(a);var b=a.kb;b!==p&&this.Zx.add(b,a);a.B=this}};Ym.prototype.addNode=Ym.prototype.Tn=function(a){if(a===p)return p;u&&x.i(a,A,Ym,"addNode:node");var b=this.Ve(a);b===p&&(b=this.Sj(),b.hh=a,this.Uk(b));return b};
Ym.prototype.deleteVertex=Ym.prototype.gD=function(a){if(a!==p&&(u&&x.i(a,bn,Ym,"deleteVertex:vertex"),dn(this,a))){for(var b=a.cg,c=b.count-1;0<=c;c--){var d=b.ia(c);this.lo(d)}b=a.hf;for(c=b.count-1;0<=c;c--)d=b.ia(c),this.lo(d)}};function dn(a,b){if(b===p)return q;var c=a.Qr.remove(b);c&&(a.Zx.remove(b.kb),b.B=p);return c}Ym.prototype.deleteNode=Ym.prototype.nK=function(a){a!==p&&(u&&x.i(a,A,Ym,"deleteNode:node"),a=this.Ve(a),a!==p&&this.gD(a))};
Ym.prototype.findVertex=Ym.prototype.Ve=function(a){if(a===p)return p;u&&x.i(a,A,Ym,"findVertex:node");return this.Zx.va(a)};Ym.prototype.addEdge=Ym.prototype.Rn=function(a){if(a!==p){u&&x.i(a,cn,Ym,"addEdge:edge");this.Lp.add(a);var b=a.Wa;b!==p&&this.Nv(b)===p&&this.Sx.add(b,a);b=a.U;b!==p&&b.zC(a);b=a.Z;b!==p&&b.vC(a);a.B=this}};
Ym.prototype.addLink=Ym.prototype.dJ=function(a){if(a===p)return p;u&&x.i(a,F,Ym,"addLink:link");var b=a.ja,c=a.na,d=this.Nv(a);d===p?(d=this.jo(),d.Wa=a,b!==p&&(d.Z=this.Tn(b)),c!==p&&(d.U=this.Tn(c)),this.Rn(d)):(d.Z=b!==p?this.Tn(b):p,d.U=c!==p?this.Tn(c):p);return d};Ym.prototype.deleteEdge=Ym.prototype.lo=function(a){if(a!==p){u&&x.i(a,cn,Ym,"deleteEdge:edge");var b=a.U;b!==p&&b.fD(a);b=a.Z;b!==p&&b.eD(a);en(this,a)}};function en(a,b){b!==p&&a.Lp.remove(b)&&(a.Sx.remove(b.Wa),b.B=p)}
Ym.prototype.deleteLink=Ym.prototype.mK=function(a){a!==p&&(u&&x.i(a,F,Ym,"deleteLink:link"),a=this.Nv(a),a!==p&&this.lo(a))};Ym.prototype.findEdge=Ym.prototype.Nv=function(a){if(a===p)return p;u&&x.i(a,F,Ym,"findEdge:link");return this.Sx.va(a)};
Ym.prototype.linkVertexes=Ym.prototype.Cm=function(a,b,c){if(a===p||b===p)return p;u&&(x.i(a,bn,Ym,"linkVertexes:fromVertex"),x.i(b,bn,Ym,"linkVertexes:toVertex"),c!==p&&x.i(c,F,Ym,"linkVertexes:link"));if(a.B===this&&b.B===this){var d=this.jo();d.Wa=c;d.Z=a;d.U=b;this.Rn(d);return d}return p};Ym.prototype.reverseEdge=Ym.prototype.kw=function(a){if(a!==p){u&&x.i(a,cn,Ym,"reverseEdge:edge");var b=a.Z,c=a.U;b===p||c===p||(b.eD(a),c.fD(a),a.kw(),b.zC(a),c.vC(a))}};
Ym.prototype.deleteSelfEdges=Ym.prototype.Iv=function(){for(var a=[],b=this.rc.l;b.next();){var c=b.value;c.Z===c.U&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.lo(a[c])};Ym.prototype.deleteArtificialVertexes=Ym.prototype.KG=function(){for(var a=[],b=this.oa.l;b.next();){var c=b.value;c.kb===p&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.gD(a[b]);a=[];for(b=this.rc.l;b.next();)c=b.value,c.Wa===p&&a.push(c);c=a.length;for(b=0;b<c;b++)this.lo(a[b])};
Ym.prototype.splitIntoSubNetworks=Ym.prototype.CI=function(){this.KG();for(var a=[],b=this.rc.l;b.next();){var c=b.value;(c.Z===p||c.U===p)&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.lo(a[c]);this.Iv();a=new H(Ym);for(c=h;c;)for(var c=q,d=this.oa.l;d.next();)if(b=d.value,0<b.cg.count||0<b.hf.count){c=this.Nb.createNetwork();a.add(c);fn(this,c,b);c=h;break}a.sort(function(a,b){return a===p||b===p||a===b?0:b.oa.count-a.oa.count});return a};
function fn(a,b,c){if(c!==p&&c.B!==b){dn(a,c);b.Uk(c);for(var d=c.Ob;d.next();){var e=d.value;e.B!==b&&(en(a,e),b.Rn(e),fn(a,b,e.Z))}for(d=c.Mb;d.next();)e=d.value,e.B!==b&&(en(a,e),b.Rn(e),fn(a,b,e.U))}}Ym.prototype.getParts=Ym.prototype.findAllParts=Ym.prototype.GK=function(){for(var a=new qa(z),b=this.oa.l;b.next();)a.add(b.value.kb);for(b=this.rc.l;b.next();)a.add(b.value.Wa);return a};
function bn(){x.nc(this);this.B=p;this.O=(new L(0,0,10,10)).freeze();this.M=(new K(5,5)).freeze();this.clear()}x.S("LayoutVertex",bn);bn.prototype.clear=function(){this.kb=p;this.cg=new H(cn);this.hf=new H(cn)};bn.prototype.toString=function(){return"LayoutVertex#"+x.ic(this)+(this.kb!==p?"("+this.kb.toString()+")":"")};x.g(bn,"network",bn.prototype.Xc);x.defineProperty(bn,{Xc:"network"},t("B"),function(a){this.B!==a&&(a!==p&&x.i(a,Ym,bn,"network"),this.B=a)});x.g(bn,"node",bn.prototype.hh);
x.defineProperty(bn,{hh:"node"},t("kb"),function(a){if(this.kb!==a){u&&a!==p&&x.i(a,A,bn,"node");this.kb=a;a.Ri();var b=a.za,c=b.x,d=b.y,e=b.width,b=b.height;isNaN(c)&&(c=0);isNaN(d)&&(d=0);this.O.W(c,d,e,b);c=a.Ub;c!==a&&!(a instanceof B)?(a=c.za,this.M.W(a.x+a.width/2,a.y+a.height/2)):this.M.W(e/2,b/2)}});x.g(bn,"bounds",bn.prototype.Lb);x.defineProperty(bn,{Lb:"bounds"},t("O"),function(a){this.O.K(a)||(u&&x.i(a,L,bn,"bounds"),this.O.Ya(a))});x.g(bn,"focus",bn.prototype.focus);
x.defineProperty(bn,{focus:"focus"},t("M"),function(a){this.M.K(a)||(u&&x.i(a,K,bn,"focus"),this.M.Ya(a))});x.g(bn,"centerX",bn.prototype.ua);x.defineProperty(bn,{ua:"centerX"},function(){return this.O.x+this.M.x},function(a){var b=this.O;b.x+this.M.x!==a&&(u&&x.n(a,bn,"centerX"),b.Na(),b.x=a-this.M.x,b.freeze())});x.g(bn,"centerY",bn.prototype.Ba);
x.defineProperty(bn,{Ba:"centerY"},function(){return this.O.y+this.M.y},function(a){var b=this.O;b.y+this.M.y!==a&&(u&&x.n(a,bn,"centerY"),b.Na(),b.y=a-this.M.y,b.freeze())});x.g(bn,"focusX",bn.prototype.bH);x.defineProperty(bn,{bH:"focusX"},function(){return this.M.x},function(a){var b=this.M;b.x!==a&&(b.Na(),b.x=a,b.freeze())});x.g(bn,"focusY",bn.prototype.cH);x.defineProperty(bn,{cH:"focusY"},function(){return this.M.y},function(a){var b=this.M;b.y!==a&&(b.Na(),b.y=a,b.freeze())});x.g(bn,"x",bn.prototype.x);
x.defineProperty(bn,{x:"x"},function(){return this.O.x},function(a){var b=this.O;b.x!==a&&(b.Na(),b.x=a,b.freeze())});x.g(bn,"y",bn.prototype.y);x.defineProperty(bn,{y:"y"},function(){return this.O.y},function(a){var b=this.O;b.y!==a&&(b.Na(),b.y=a,b.freeze())});x.g(bn,"width",bn.prototype.width);x.defineProperty(bn,{width:"width"},function(){return this.O.width},function(a){var b=this.O;b.width!==a&&(b.Na(),b.width=a,b.freeze())});x.g(bn,"height",bn.prototype.height);
x.defineProperty(bn,{height:"height"},function(){return this.O.height},function(a){var b=this.O;b.height!==a&&(b.Na(),b.height=a,b.freeze())});bn.prototype.commit=bn.prototype.zv=function(){var a=this.kb;a!==p&&a.move(this.Lb.position)};bn.prototype.addSourceEdge=bn.prototype.zC=function(a){a!==p&&(u&&x.i(a,cn,bn,"addSourceEdge:edge"),this.cg.contains(a)||this.cg.add(a))};bn.prototype.deleteSourceEdge=bn.prototype.fD=function(a){a!==p&&(u&&x.i(a,cn,bn,"deleteSourceEdge:edge"),this.cg.remove(a))};
bn.prototype.addDestinationEdge=bn.prototype.vC=function(a){a!==p&&(u&&x.i(a,cn,bn,"addDestinationEdge:edge"),this.hf.contains(a)||this.hf.add(a))};bn.prototype.deleteDestinationEdge=bn.prototype.eD=function(a){a!==p&&(u&&x.i(a,cn,bn,"deleteDestinationEdge:edge"),this.hf.remove(a))};x.u(bn,{BI:"sourceVertexes"},function(){for(var a=new qa(bn),b=this.Ob;b.next();){var c=b.value.Z;c!==p&&!a.contains(c)&&a.add(c)}return a.l});
x.u(bn,{MG:"destinationVertexes"},function(){for(var a=new qa(bn),b=this.Mb;b.next();){var c=b.value.U;c!==p&&!a.contains(c)&&a.add(c)}return a.l});x.u(bn,{oa:"vertexes"},function(){for(var a=new qa(bn),b=this.Ob;b.next();){var c=b.value,c=c.Z;c!==p&&!a.contains(c)&&a.add(c)}for(b=this.Mb;b.next();)c=b.value,c=c.U,c!==p&&!a.contains(c)&&a.add(c);return a.l});x.u(bn,{Ob:"sourceEdges"},function(){return this.cg.l});x.u(bn,{Mb:"destinationEdges"},function(){return this.hf.l});
x.u(bn,{rc:"edges"},function(){for(var a=new H(cn),b=this.Ob;b.next();){var c=b.value;a.add(c)}for(b=this.Mb;b.next();)c=b.value,a.add(c);return a.l});x.u(bn,{ZG:"edgesCount"},function(){return this.cg.count+this.hf.count});var gn;bn.standardComparer=gn=function(a,b){u&&x.i(a,bn,bn,"standardComparer:m");u&&x.i(b,bn,bn,"standardComparer:n");var c=a.kb,d=b.kb;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:d!==p?-1:0};
bn.smartComparer=function(a,b){u&&x.i(a,bn,bn,"smartComparer:m");u&&x.i(b,bn,bn,"smartComparer:n");if(a!==p){if(b!==p){var c=a.kb,d=b.kb;if(c!==p){if(d!==p){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;
else{if(isNaN(i))return-1;if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return d!==p?-1:0}return 1}return b!==p?-1:0};function cn(){x.nc(this);this.B=p;this.clear()}x.S("LayoutEdge",cn);cn.prototype.clear=function(){this.U=this.Z=this.Wa=p};cn.prototype.toString=function(){return"LayoutEdge#"+x.ic(this)+(this.Wa!==p?"("+this.Wa.toString()+")":"")};x.g(cn,"network",cn.prototype.Xc);
x.defineProperty(cn,{Xc:"network"},t("B"),function(a){this.B!==a&&(u&&a!==p&&x.i(a,Ym,cn,"network"),this.B=a)});x.g(cn,"link",cn.prototype.link);x.defineProperty(cn,{link:"link"},t("Wa"),function(a){this.Wa!==a&&(u&&a!==p&&x.i(a,F,cn,"link"),this.Wa=a)});x.g(cn,"fromVertex",cn.prototype.zz);x.defineProperty(cn,{zz:"fromVertex"},t("Z"),function(a){this.Z!==a&&(u&&a!==p&&x.i(a,bn,cn,"fromVertex"),this.Z=a)});x.g(cn,"toVertex",cn.prototype.DA);
x.defineProperty(cn,{DA:"toVertex"},t("U"),function(a){this.U!==a&&(u&&a!==p&&x.i(a,bn,cn,"toVertex"),this.U=a)});cn.prototype.kw=function(){var a=this.Z;this.Z=this.U;this.U=a};cn.prototype.commit=cn.prototype.zv=aa();cn.prototype.getOtherVertex=cn.prototype.iH=function(a){u&&x.i(a,bn,cn,"getOtherVertex:v");return this.U===a?this.Z:this.Z===a?this.U:p};
function fj(){Yh.call(this);this.Es=h;this.Tr=this.Ur=NaN;this.jj=(new cb(NaN,NaN)).freeze();this.Ch=(new cb(10,10)).freeze();this.Ga=zk;this.$c=xk;this.zc=tk;this.wc=hn}x.S("GridLayout",fj);x.Ja(fj,Yh);fj.prototype.cloneProtected=fj.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Ur=this.Ur;a.Tr=this.Tr;a.jj=this.jj.Q();a.Ch=this.Ch.Q();a.Ga=this.Ga;a.$c=this.$c;a.zc=this.zc;a.wc=this.wc};
fj.prototype.doLayout=fj.prototype.gs=function(a){var b=this.h;b===p&&x.m("The diagram for this layout is not set.");this.sd=an(this,this.sd);var c=new qa(z);a===this.h?($m(this,c,a.ol,h,p,h,q,h),$m(this,c,a.links,h,p,h,q,h),$m(this,c,a.$i,h,p,h,q,h)):a===this.group?$m(this,c,a.Ec,q,p,h,q,h):c.Pe(a.l);for(a=c.copy().l;a.next();){var d=a.value;if(d instanceof F&&(d.ja!==p||d.na!==p))c.remove(d);else if(d.Ri(),d instanceof B)for(d=d.Ec;d.next();)c.remove(d.value)}c=c.Eg();if(0!==c.length){switch(this.zg){case wk:c.reverse();
break;case tk:c.sort(this.Lh);break;case uk:c.sort(this.Lh),c.reverse()}d=this.sF;isNaN(d)&&(d=0);a=this.JA;a=isNaN(a)?Math.max(this.h.fb.width-b.padding.left-b.padding.right,0):Math.max(this.JA,0);0>=d&&0>=a&&(d=1);var e=this.spacing.width;isFinite(e)||(e=0);var g=this.spacing.height;isFinite(g)||(g=0);b.lc("Layout");switch(this.Jb){case Ak:var i=Math.max(this.al.width,1);if(!isFinite(i))for(var j=i=0;j<c.length;j++)var k=c[j],l=k.Da,i=Math.max(i,l.width);var i=Math.max(i+e,1),m=Math.max(this.al.height,
1);if(!isFinite(m))for(j=m=0;j<c.length;j++)k=c[j],l=k.Da,m=Math.max(m,l.height);for(var m=Math.max(m+g,1),n=this.qe,r=this.sd.x,s=r,v=this.sd.y,y=0,C=0,j=0;j<c.length;j++){var k=c[j],l=k.Da,D=Math.ceil((l.width+e)/i)*i,I=Math.ceil((l.height+g)/m)*m,E;switch(n){case yk:E=Math.abs(s-l.width)+r;break;default:E=s+l.width-r}if(0<d&&y>d-1||0<a&&0<y&&E>a)y=0,s=r,v+=C,C=0;C=Math.max(C,I);switch(n){case yk:l=-l.width;break;default:l=0}k.move(new K(s+l,v));switch(n){case yk:s-=D;break;default:s+=D}y++}break;
case zk:i=Math.max(this.al.width,1);for(k=j=y=v=0;k<c.length;k++)m=c[k],n=m.Da,r=Ol(m,m.Ub,m.ng),v=Math.max(v,r.x),y=Math.max(y,n.width-r.x),j=Math.max(j,r.y);s=this.qe;switch(s){case yk:v+=e;break;default:y+=e}var i=isFinite(i)?Math.max(i+e,1):Math.max(v+y,1),M=v=this.sd.x,y=this.sd.y,D=C=0,l=Math.max(this.al.height,1),I=j=0;E=h;for(k=0;k<c.length;k++){m=c[k];n=m.Da;r=Ol(m,m.Ub,m.ng);if(0<C)switch(s){case yk:M=Math.floor((M-v-(n.width-r.x))/i)*i+v;break;default:M=Math.ceil((M-v+r.x)/i)*i+v}else switch(s){case yk:D=
M+r.x+n.width;break;default:D=M-r.x}var O;switch(s){case yk:O=-(M+r.x)+v+D;break;default:O=M+n.width-r.x-v-D}if(0<d&&C>d-1||0<a&&0<C&&O>a){for(M=0;M<C&&k!==C;M++){O=c[k-C+M];var X=Ol(O,O.Ub,O.ng);O.move(new K(O.position.x,O.position.y+j-X.y))}I+=g;y=E?y+I:y+(I+j);C=I=j=0;M=v;E=q}j=Math.max(j,r.y);I=Math.max(I,n.height-r.y);isFinite(l)&&(I=Math.max(I,Math.max(n.height,l)-r.y));E?m.move(new K(M-r.x,y-r.y)):m.move(new K(M-r.x,y));switch(s){case yk:M-=r.x+e;break;default:M+=n.width-r.x+e}C++}for(M=0;M<
C&&k!==C;M++)O=c[k-C+M],X=Ol(O,O.Ub,O.ng),O.move(new K(O.position.x,O.position.y+j-X.y))}b.se("Layout");this.Ye=h}};x.g(fj,"wrappingWidth",fj.prototype.JA);x.defineProperty(fj,{JA:"wrappingWidth"},t("Ur"),function(a){if(this.Ur!==a&&(0<a||isNaN(a)))this.Ur=a,this.Es=isNaN(a),this.I()});x.g(fj,"wrappingColumn",fj.prototype.sF);x.defineProperty(fj,{sF:"wrappingColumn"},t("Tr"),function(a){if(this.Tr!==a&&(0<a||isNaN(a)))this.Tr=a,this.I()});x.g(fj,"cellSize",fj.prototype.al);
x.defineProperty(fj,{al:"cellSize"},t("jj"),function(a){this.jj.K(a)||(this.jj.Ya(a),this.I())});x.g(fj,"spacing",fj.prototype.spacing);x.defineProperty(fj,{spacing:"spacing"},t("Ch"),function(a){this.Ch.K(a)||(this.Ch.Ya(a),this.I())});x.g(fj,"alignment",fj.prototype.Jb);x.defineProperty(fj,{Jb:"alignment"},t("Ga"),function(a){if(this.Ga!==a&&(u&&x.i(a,oa,fj,"alignment"),a===zk||a===Ak))this.Ga=a,this.I()});x.g(fj,"arrangement",fj.prototype.qe);
x.defineProperty(fj,{qe:"arrangement"},t("$c"),function(a){if(this.$c!==a&&(u&&x.i(a,oa,fj,"arrangement"),a===xk||a===yk))this.$c=a,this.I()});x.g(fj,"sorting",fj.prototype.zg);x.defineProperty(fj,{zg:"sorting"},t("zc"),function(a){if(this.zc!==a&&(u&&x.i(a,oa,fj,"sorting"),a===vk||a===wk||a===tk||a===uk))this.zc=a,this.I()});x.g(fj,"comparer",fj.prototype.Lh);x.defineProperty(fj,{Lh:"comparer"},t("wc"),function(a){this.wc!==a&&(u&&x.k(a,"function",fj,"comparer"),this.wc=a,this.I())});var hn;
fj.standardComparer=hn=function(a,b){u&&x.i(a,z,fj,"standardComparer:a");u&&x.i(b,z,fj,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
fj.smartComparer=function(a,b){u&&x.i(a,z,fj,"standardComparer:a");u&&x.i(b,z,fj,"standardComparer:b");if(a!==p){if(b!==p){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;else{if(isNaN(i))return-1;
if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return b!==p?-1:0};var Ak;fj.Position=Ak=x.s(fj,"Position",0);var zk;fj.Location=zk=x.s(fj,"Location",1);var xk;fj.LeftToRight=xk=x.s(fj,"LeftToRight",2);var yk;fj.RightToLeft=yk=x.s(fj,"RightToLeft",3);var vk;fj.Forward=vk=x.s(fj,"Forward",4);var wk;fj.Reverse=wk=x.s(fj,"Reverse",5);var tk;fj.Ascending=tk=x.s(fj,"Ascending",6);var uk;fj.Descending=uk=x.s(fj,"Descending",7);
function Bk(){Yh.call(this);this.wx=this.an=this.md=0;this.Kp=360;this.vx=Nk;this.xk=0;this.sB=Nk;this.Dt=this.hg=this.oC=0;this.lv=new jn;this.Gt=this.Yl=0;this.HF=600;this.Zq=NaN;this.op=1;this.$d=0;this.be=360;this.$c=Nk;this.ga=Jk;this.zc=Gk;this.wc=gn;this.Ch=6;this.Tq=Qk}x.S("CircularLayout",Bk);x.Ja(Bk,Yh);
Bk.prototype.cloneProtected=Bk.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Zq=this.Zq;a.op=this.op;a.$d=this.$d;a.be=this.be;a.$c=this.$c;a.ga=this.ga;a.zc=this.zc;a.wc=this.wc;a.Ch=this.Ch;a.Tq=this.Tq};Bk.prototype.createNetwork=Bk.prototype.Fv=function(){var a=new kn;Zm(a,this);return a};
Bk.prototype.doLayout=Bk.prototype.gs=function(a){this.Xc===p&&(this.Xc=this.makeNetwork(a));a=this.Xc.oa;if(1>=a.count)1==a.count&&(a=a.Fb(),a.ua=0,a.Ba=0);else{var b=new H(ln);b.Pe(a.l);var a=new H(ln),c=new H(ln),b=this.sort(b),a=new H(ln),c=new H(ln),d=this.vx,e=this.sB,g=this.md,i=this.an,j=this.wx,k=this.Kp,l=this.xk,m=this.oC,n=this.hg,r=this.Dt,d=this.qe,e=this.Qs,g=this.yE;if(!isFinite(g)||0>=g)g=NaN;i=this.GC;if(!isFinite(i)||0>=i)i=1;j=this.Ag;isFinite(j)||(j=0);k=this.Yh;if(!isFinite(k)||
360<k||1>k)k=360;l=this.spacing;isFinite(l)||(l=NaN);d===Ok&&e===Pk?d=Nk:d===Ok&&e!==Pk&&(e=Pk,d=this.qe);if((this.direction===Hk||this.direction===Ik)&&this.zg!==Gk){for(var s=0;!(s>=b.length);s+=2){a.add(b.ia(s));if(s+1>=b.length)break;c.add(b.ia(s+1))}this.direction===Hk?(this.qe===Ok&&a.reverse(),b=new H(ln),b.Pe(a),b.Pe(c)):(this.qe===Ok&&c.reverse(),b=new H(ln),b.Pe(c),b.Pe(a))}for(var v=b.length,y=m=0,s=0;s<b.length;s++){var n=j+k*y*(this.direction===Jk?1:-1)/v,C=b.ia(s).Ff;isNaN(C)&&(C=mn(b.ia(s),
n));if(360>k&&(0===s||s===b.length-1))C/=2;m+=C;y++}if(isNaN(g)||d===Ok){isNaN(l)&&(l=6);if(d!==Nk&&d!==Ok){C=-Infinity;for(s=0;s<v;s++){var r=b.ia(s),D=b.ia(s===v-1?0:s+1);isNaN(r.Ff)&&mn(r,0);isNaN(D.Ff)&&mn(D,0);C=Math.max(C,(r.Ff+D.Ff)/2)}r=C+l;d===Lk?(n=2*Math.PI/v,g=(C+l)/n):g=nn(this,r*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180)}else g=nn(this,m+(360<=k?v:v-1)*(d!==Ok?l:1.6*l),i,j*Math.PI/180,k*Math.PI/180);n=g*i}else if(n=g*i,y=on(this,g,n,j*Math.PI/180,k*Math.PI/180),isNaN(l)){if(d===Nk||
d===Ok)l=(y-m)/(360<=k?v:v-1)}else if(d===Nk||d===Ok)s=(y-m)/(360<=k?v:v-1),s<l?(g=nn(this,m+l*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180),n=g*i):l=s;else{C=-Infinity;for(s=0;s<v;s++)r=b.ia(s),D=b.ia(s===v-1?0:s+1),isNaN(r.Ff)&&mn(r,0),isNaN(D.Ff)&&mn(D,0),C=Math.max(C,(r.Ff+D.Ff)/2);r=C+l;s=nn(this,r*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180);s>g?(g=s,n=g*i):r=y/(360<=k?v:v-1)}this.vx=d;this.sB=e;this.md=g;this.an=i;this.wx=j;this.Kp=k;this.xk=l;this.oC=m;this.hg=n;this.Dt=r;c=[b,a,c];b=c[0];
a=c[1];c=c[2];d=this.vx;e=this.md;i=this.wx;j=this.Kp;k=this.xk;l=this.hg;m=this.Dt;if((this.direction===Hk||this.direction===Ik)&&d===Ok)pn(this,b,j,i-j/2,Jk);else if(this.direction===Hk||this.direction===Ik){g=0;switch(d){case Mk:g=180*qn(this,e,l,i,m)/Math.PI;break;case Nk:m=b=0;g=a.Fb();g!==p&&(b=mn(g,Math.PI/2));g=c.Fb();g!==p&&(m=mn(g,Math.PI/2));g=180*qn(this,e,l,i,k+(b+m)/2)/Math.PI;break;case Lk:g=j/b.length}if(this.direction===Hk){switch(d){case Mk:rn(this,a,i,Kk);break;case Nk:sn(this,
a,i,Kk);break;case Lk:tn(this,a,j/2,i,Kk)}switch(d){case Mk:rn(this,c,i+g,Jk);break;case Nk:sn(this,c,i+g,Jk);break;case Lk:tn(this,c,j/2,i+g,Jk)}}else{switch(d){case Mk:rn(this,c,i,Kk);break;case Nk:sn(this,c,i,Kk);break;case Lk:tn(this,c,j/2,i,Kk)}switch(d){case Mk:rn(this,a,i+g,Jk);break;case Nk:sn(this,a,i+g,Jk);break;case Lk:tn(this,a,j/2,i+g,Jk)}}}else switch(d){case Mk:rn(this,b,i,this.direction);break;case Nk:sn(this,b,i,this.direction);break;case Lk:tn(this,b,j,i,this.direction);break;case Ok:pn(this,
b,j,i,this.direction)}}this.updateParts();this.Xc=p;this.Ye=h};function tn(a,b,c,d,e){for(var g=a.Kp,i=a.md,a=a.hg,d=d*Math.PI/180,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=d+(e===Jk?k*c/(360<=g?j:j-1):-(k*c)/j),m=b.ia(k),n=i*Math.tan(l)/a,n=Math.sqrt((i*i+a*a*n*n)/(1+n*n));m.ua=n*Math.cos(l);m.Ba=n*Math.sin(l);m.ov=180*l/Math.PI}}
function sn(a,b,c,d){for(var e=a.md,g=a.hg,i=a.xk,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.ia(k),m=b.ia(k===j-1?0:k+1),n=g*Math.sin(c);l.ua=e*Math.cos(c);l.Ba=n;l.ov=180*c/Math.PI;isNaN(l.Ff)&&mn(l,0);isNaN(m.Ff)&&mn(m,0);l=qn(a,e,g,d===Jk?c:-c,(l.Ff+m.Ff)/2+i);c+=d===Jk?l:-l}}function rn(a,b,c,d){for(var e=a.md,g=a.hg,i=a.Dt,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.ia(k);l.ua=e*Math.cos(c);l.Ba=g*Math.sin(c);l.ov=180*c/Math.PI;l=qn(a,e,g,d===Jk?c:-c,i);c+=d===Jk?l:-l}}
function pn(a,b,c,d,e){var g=a.Gt,g=a.Kp;a.Yl=0;a.lv=new jn;if(360>c){for(g=d+(e===Jk?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.Gt=g;un(a,b,c,d,e)}else vn(a,b,c,d,e);a.lv.zv(b)}
function vn(a,b,c,d,e){var g=a.md,i=a.hg,j=a.xk,k=a.an,l=g*Math.cos(d*Math.PI/180),m=i*Math.sin(d*Math.PI/180),n=b.Eg();if(3===n.length)n[0].ua=g*Math.cos(0),n[0].Ba=i*Math.sin(0),n[1].ua=n[0].ua-n[0].width/2-n[1].width/2-j,n[1].y=n[0].y,n[2].ua=(n[0].ua+n[1].ua)/2,n[2].y=n[0].y-n[2].height-j;else if(4===n.length)n[0].ua=g*Math.cos(0),n[0].Ba=i*Math.sin(0),n[2].ua=-n[0].ua,n[2].Ba=n[0].Ba,n[1].ua=0,n[1].y=Math.min(n[0].y,n[2].y)-n[1].height-j,n[3].ua=0,n[3].y=Math.max(n[0].y+n[0].height+j,n[2].y+
n[2].height+j);else{for(g=0;g<n.length;g++){n[g].ua=l;n[g].Ba=m;if(g>=n.length-1)break;i=wn(a,l,m,n,g,e);i[0]||(i=xn(a,l,m,n,g,e));l=i[1];m=i[2]}a.Yl++;if(!(23<a.Yl)){var l=n[0].ua,m=n[0].Ba,g=n[n.length-1].ua,i=n[n.length-1].Ba,r=Math.abs(l-g)-((n[0].width+n[n.length-1].width)/2+j),s=Math.abs(m-i)-((n[0].height+n[n.length-1].height)/2+j),j=0;1>Math.abs(s)?Math.abs(l-g)<(n[0].width+n[n.length-1].width)/2&&(j=0):j=0<s?s:1>Math.abs(r)?0:r;r=q;r=Math.abs(g)>Math.abs(i)?0<g!==m>i:0<i!==l<g;if(r=e===Jk?
r:!r)j=-Math.abs(j),j=Math.min(j,-n[n.length-1].width),j=Math.min(j,-n[n.length-1].height);l=a.lv;if(0<j&&0>l.en||Math.abs(j)<Math.abs(l.en)&&!(0>j&&0<l.en)){l.en=j;l.gm=[];l.Qn=[];for(m=0;m<n.length;m++)l.gm[m]=n[m].Lb.x,l.Qn[m]=n[m].Lb.y}1<Math.abs(j)&&(a.md=8>a.Yl?a.md-j/(2*Math.PI):5>n.length&&10<j?a.md/2:a.md-(0<j?1.7:-2.3),a.hg=a.md*k,vn(a,b,c,d,e))}}}
function un(a,b,c,d,e){for(var g=a.md,i=a.hg,j=a.an,k=g*Math.cos(d*Math.PI/180),l=i*Math.sin(d*Math.PI/180),m=b.Eg(),n=0;n<m.length;n++){m[n].ua=k;m[n].Ba=l;if(n>=m.length-1)break;var r=wn(a,k,l,m,n,e);r[0]||(r=xn(a,k,l,m,n,e));k=r[1];l=r[2]}a.Yl++;if(!(23<a.Yl)){b.ia(b.length-1);k=Math.atan2(l,k);k=e===Jk?a.Gt-k:k-a.Gt;k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI;g=k*(g+i)/2;i=a.lv;if(Math.abs(g)<Math.abs(i.en)){i.en=g;i.gm=[];i.Qn=[];for(k=0;k<m.length;k++)i.gm[k]=m[k].Lb.x,i.Qn[k]=m[k].Lb.y}1<
Math.abs(g)&&(a.md=8>a.Yl?a.md-g/(2*Math.PI):a.md-(0<g?1.7:-2.3),a.hg=a.md*j,un(a,b,c,d,e))}}function wn(a,b,c,d,e,g){var i=a.md,j=a.hg,k=0,l=0,a=(d[e].width+d[e+1].width)/2+a.xk,m=q;if(0<=c!==(g===Jk)){if(k=b+a,k>i){k=b-a;if(k<-i)return[q,k,l];m=h}}else if(k=b-a,k<-i){k=b+a;if(k>i)return[q,k,l];m=h}l=Math.sqrt(1-Math.min(1,k*k/(i*i)))*j;0>c!==m&&(l=-l);return Math.abs(c-l)>(d[e].height+d[e+1].height)/2?[q,k,l]:[h,k,l]}
function xn(a,b,c,d,e,g){var i=a.md,j=a.hg,k=0,l=0,a=(d[e].height+d[e+1].height)/2+a.xk,m=q;if(0<=b!==(g===Jk)){if(l=c-a,l<-j){l=c+a;if(l>j)return[q,k,l];m=h}}else if(l=c+a,l>j){l=c-a;if(l<-j)return[q,k,l];m=h}k=Math.sqrt(1-Math.min(1,l*l/(j*j)))*i;0>b!==m&&(k=-k);return Math.abs(b-k)>(d[e].width+d[e+1].width)/2?[q,k,l]:[h,k,l]}function jn(){this.en=-Infinity;this.Qn=this.gm=p}
jn.prototype.zv=function(a){if(!(this.gm===p||this.Qn===p))for(var b=0;b<this.gm.length;b++){var c=a.ia(b);c.x=this.gm[b];c.y=this.Qn[b]}};Bk.prototype.commitLayout=Bk.prototype.Av=function(){this.commitNodes();this.Cs&&this.commitLinks()};Bk.prototype.commitNodes=Bk.prototype.iz=function(){for(var a=this.WF,b=this.B.oa.l,c;b.next();)c=b.value,c.x+=a.x,c.y+=a.y,c.commit()};Bk.prototype.commitLinks=Bk.prototype.hz=function(){for(var a=this.B.rc.l;a.next();)a.value.commit()};
function on(a,b,c,d,e){var g=a.HF;if(0.001>Math.abs(a.an-1))return d!==f&&e!==f?e*b:2*Math.PI*b;var a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,j;j=d!==f&&e!==f?e/(g+1):Math.PI/(2*(g+1));for(var k=0;k<=g;k++)var l=Math.sin(d!==f&&e!==f?d+k*e/g:k*Math.PI/(2*g)),i=i+Math.sqrt(1-a*a*l*l)*j;return d!==f&&e!==f?(b>c?b:c)*i:4*(b>c?b:c)*i}function nn(a,b,c,d,e){return b/(d!==f&&e!==f?on(a,1,c,d,e):on(a,1,c))}
function qn(a,b,c,d,e){if(0.001>Math.abs(a.an-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,a=2*Math.PI/(700*a.B.oa.count);b>c&&(d+=Math.PI/2);for(var j=0;;j++){var k=Math.sin(d+j*a),i=i+(b>c?b:c)*Math.sqrt(1-g*g*k*k)*a;if(i>=e)return j*a}return 0}
Bk.prototype.sort=function(a){switch(this.zg){case Ek:break;case Fk:a.reverse();break;case Ck:a.sort(this.Lh);break;case Dk:a.sort(this.Lh);a.reverse();break;case Gk:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new H(ln),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var i=0;i<a.length;i++){var j=a.ia(i).ZG;j>e&&(e=j,g=i)}else for(i=0;i<a.length;i++)j=b[i],j>e&&(e=j,g=i);d.add(a.ia(g));b[g]=-1;g=a.ia(g);e=g.Ob;for(g=g.Mb;e.next();)i=e.value,i=i.zz,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++;for(;g.next();)i=
g.value,i=i.DA,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++}a=[];for(b=0;b<d.length;b++){j=d.ia(b);a[b]=[];for(var c=j.Mb,e=j.Ob,k,l;c.next();)k=c.value,l=d.indexOf(k.DA),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(;e.next();)k=e.value,l=d.indexOf(k.zz),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}j=[];for(b=0;b<a.length;b++)j[b]=0;for(var c=[],m=[],n=[],e=[],g=new H(ln),i=b=0;b<a.length;b++){var r=a[b].length;if(1===r)e.push(b);else if(0===r)g.add(d.ia(b));else{if(0===i)c.push(b);else{for(var s=Infinity,v=Infinity,
y=-1,C=[],r=0;r<c.length;r++)if(0>a[c[r]].indexOf(c[r===c.length-1?0:r+1]))C.push(r===c.length-1?0:r+1);if(0===C.length)for(r=0;r<c.length;r++)C.push(r);for(r=0;r<C.length;r++){var D=C[r],I;l=a[b];k=m;I=n;for(var E=j,M=D,O=c,X=0,sa=0;sa<k.length;sa++){var ka=E[k[sa]],va=E[I[sa]],Fa=0,Ga=0;ka<va?(Fa=ka,Ga=va):(Fa=va,Ga=ka);if(Fa<M&&M<=Ga)for(ka=0;ka<l.length;ka++)va=l[ka],0>O.indexOf(va)||Fa<E[va]&&E[va]<Ga||(Fa===E[va]||Ga===E[va])||X++;else for(ka=0;ka<l.length;ka++)va=l[ka],0>O.indexOf(va)||Fa<
E[va]&&E[va]<Ga&&!(Fa===E[va]||Ga===E[va])&&X++}I=X;for(k=E=0;k<a[b].length;k++)l=c.indexOf(a[b][k]),0<=l&&(l=Math.abs(D-(l>=D?l+1:l)),E+=l<c.length+1-l?l:c.length+1-l);for(k=0;k<m.length;k++)l=j[m[k]],M=j[n[k]],l>=D&&l++,M>=D&&M++,l>M&&(O=M,M=l,l=O),M-l<(c.length+2)/2===(l<D&&D<=M)&&E++;if(I<s||I===s&&E<v)s=I,v=E,y=D}c.splice(y,0,b);for(r=0;r<c.length;r++)j[c[r]]=r;for(r=0;r<a[b].length;r++)s=a[b][r],0<=c.indexOf(s)&&(m.push(b),n.push(s))}i++}}m=q;for(n=c.length;;){m=h;for(j=0;j<e.length;j++)if(b=
e[j],r=a[b][0],l=c.indexOf(r),0<=l){for(i=v=0;i<a[r].length;i++)s=a[r][i],s=c.indexOf(s),0>s||s===l||(y=s>l?s-l:l-s,v+=s<l!==y>n-y?1:-1);c.splice(0>v?l:l+1,0,b);e.splice(j,1);j--}else m=q;if(m)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.ia(l));return g;default:x.m("Invalid sorting type.")}return a};x.g(Bk,"radius",Bk.prototype.yE);x.defineProperty(Bk,{yE:"radius"},t("Zq"),function(a){if(this.Zq!==a&&(0<a||isNaN(a)))this.Zq=a,this.I()});x.g(Bk,"aspectRatio",Bk.prototype.GC);
x.defineProperty(Bk,{GC:"aspectRatio"},t("op"),function(a){this.op!==a&&0<a&&(this.op=a,this.I())});x.g(Bk,"startAngle",Bk.prototype.Ag);x.defineProperty(Bk,{Ag:"startAngle"},t("$d"),function(a){this.$d!==a&&(this.$d=a,this.I())});x.g(Bk,"sweepAngle",Bk.prototype.Yh);x.defineProperty(Bk,{Yh:"sweepAngle"},t("be"),function(a){this.be!==a&&(this.be=0<a&&360>=a?a:360,this.I())});x.g(Bk,"arrangement",Bk.prototype.qe);
x.defineProperty(Bk,{qe:"arrangement"},t("$c"),function(a){if(this.$c!==a&&(u&&x.i(a,oa,Bk,"arrangement"),a===Ok||a===Nk||a===Mk||a===Lk))this.$c=a,this.I()});x.g(Bk,"direction",Bk.prototype.direction);x.defineProperty(Bk,{direction:"direction"},t("ga"),function(a){if(this.ga!==a&&(u&&x.i(a,oa,Bk,"direction"),a===Jk||a===Kk||a===Hk||a===Ik))this.ga=a,this.I()});x.g(Bk,"sorting",Bk.prototype.zg);
x.defineProperty(Bk,{zg:"sorting"},t("zc"),function(a){if(this.zc!==a&&(u&&x.i(a,oa,Bk,"sorting"),a===Ek||a===Fk||a===Ck||Dk||a===Gk))this.zc=a,this.I()});x.g(Bk,"comparer",Bk.prototype.Lh);x.defineProperty(Bk,{Lh:"comparer"},t("wc"),function(a){this.wc!==a&&(u&&x.k(a,"function",Bk,"comparer"),this.wc=a,this.I())});x.g(Bk,"spacing",Bk.prototype.spacing);x.defineProperty(Bk,{spacing:"spacing"},t("Ch"),function(a){this.Ch!==a&&(this.Ch=a,this.I())});x.g(Bk,"nodeDiameterFormula",Bk.prototype.Qs);
x.defineProperty(Bk,{Qs:"nodeDiameterFormula"},t("Tq"),function(a){if(this.Tq!==a&&(u&&x.i(a,oa,Bk,"nodeDiameterFormula"),a===Qk||a===Pk))this.Tq=a,this.I()});x.u(Bk,{XF:"actualXRadius"},t("md"));x.u(Bk,{YF:"actualYRadius"},t("hg"));x.u(Bk,{aJ:"actualSpacing"},t("xk"));x.u(Bk,{WF:"actualCenter"},function(){return isNaN(this.sd.x)||isNaN(this.sd.y)?new K(0,0):new K(this.sd.x+this.XF,this.sd.y+this.YF)});var Nk;Bk.ConstantSpacing=Nk=x.s(Bk,"ConstantSpacing",0);var Mk;
Bk.ConstantDistance=Mk=x.s(Bk,"ConstantDistance",1);var Lk;Bk.ConstantAngle=Lk=x.s(Bk,"ConstantAngle",2);var Ok;Bk.Packed=Ok=x.s(Bk,"Packed",3);var Jk;Bk.Clockwise=Jk=x.s(Bk,"Clockwise",4);var Kk;Bk.Counterclockwise=Kk=x.s(Bk,"Counterclockwise",5);var Hk;Bk.BidirectionalLeft=Hk=x.s(Bk,"BidirectionalLeft",6);var Ik;Bk.BidirectionalRight=Ik=x.s(Bk,"BidirectionalRight",7);var Ek;Bk.Forwards=Ek=x.s(Bk,"Forwards",8);var Fk;Bk.Reverse=Fk=x.s(Bk,"Reverse",9);var Ck;Bk.Ascending=Ck=x.s(Bk,"Ascending",10);
var Dk;Bk.Descending=Dk=x.s(Bk,"Descending",11);var Gk;Bk.Optimized=Gk=x.s(Bk,"Optimized",12);var Qk;Bk.Pythagorean=Qk=x.s(Bk,"Pythagorean",13);var Pk;Bk.Circular=Pk=x.s(Bk,"Circular",14);function kn(){Ym.call(this)}x.S("CircularNetwork",kn);x.Ja(kn,Ym);kn.prototype.createVertex=kn.prototype.Sj=function(){return new ln};kn.prototype.createEdge=kn.prototype.jo=function(){return new yn};function ln(){bn.call(this);this.SA=this.$m=NaN}x.S("CircularVertex",ln);x.Ja(ln,bn);
function mn(a,b){var c=a.B;if(c===p)return NaN;c=c.Nb;if(c===p)return NaN;if(c.qe===Ok)if(c.Qs===Pk)a.$m=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.$m=Math.min(a.height/c,a.width/d)}else a.$m=c.Qs===Pk?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.$m}x.g(ln,"diameter",ln.prototype.Ff);x.defineProperty(ln,{Ff:"diameter"},t("$m"),ba("$m"));x.g(ln,"actualAngle",ln.prototype.ov);
x.defineProperty(ln,{ov:"actualAngle"},t("SA"),ba("SA"));function yn(){cn.call(this)}x.S("CircularEdge",yn);x.Ja(yn,cn);function zn(){Yh.call(this);this.gg=p;this.qq=0;this.Qf=(new cb(100,100)).freeze();this.np=q;this.Nd=this.Bh=h;this.un=100;this.Np=1;this.aq=1E3;this.Gp=0.05;this.Fp=50;this.Dp=150;this.Ep=0;this.Bp=20;this.Ap=25}x.S("ForceDirectedLayout",zn);x.Ja(zn,Yh);
zn.prototype.cloneProtected=zn.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Qf=this.Qf.Q();a.np=this.np;a.Bh=this.Bh;a.Nd=this.Nd;a.un=this.un;a.Np=this.Np;a.aq=this.aq;a.Gp=this.Gp;a.Fp=this.Fp;a.Dp=this.Dp;a.Ep=this.Ep;a.Bp=this.Bp;a.Ap=this.Ap};zn.prototype.createNetwork=zn.prototype.Fv=function(){var a=new An;Zm(a,this);return a};
zn.prototype.doLayout=zn.prototype.gs=function(a){this.Xc===p&&(this.Xc=this.makeNetwork(a));a=this.cw;if(0<this.B.oa.count){this.B.Iv();for(var b=this.B.oa.l;b.next();){var c=b.value;c.lj=this.electricalCharge(c);c.tn=this.gravitationalMass(c)}for(b=this.B.rc.l;b.next();)c=b.value,c.Br=this.springStiffness(c),c.ri=this.springLength(c);this.qq=0;a:{if(!(3>this.B.oa.count)){var d=b=0,c=this.B.oa.l;c.next();for(var e=c.value.O;c.next();){if(c.value.O.We(e)&&(b++,1<b)){b=h;break a}if(10<d)break;d++}}b=
q}if(b){b=this.B;for(d=b.CI().l;d.next();){this.Xc=e=d.value;for(c=this.B.oa.l;c.next();){for(var e=c.value,g=0,i=e.oa;i.next();)g++;e.qf=g;e.Dj=1;e.Bl=p;e.Wg=p}Bn(this,0,a)}this.Xc=b;d.reset();u&&x.i(b,An,zn,"arrangeConnectedGraphs:singletons");for(var c=this.sv,j=d.count,e=h,i=g=0,k=[],l=0;l<j+b.oa.count+2;l++)k[l]=p;j=0;for(d.reset();d.next();){var m=d.value,l=this.te(m);if(e)e=q,g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new K(l.right+c.width,l.top),k[1]=new K(l.left,l.bottom+c.height),j=2;else{var n=
Cn(k,j,new K(g,i),new cb(l.width,l.height),c),r=k[n],s=new K(r.x+l.width+c.width,r.y),v=new K(r.x,r.y+l.height+c.height);n+1<j&&k.splice(n+1,0,p);k[n]=s;k[n+1]=v;j++;n=r.x-l.x;l=r.y-l.y;for(m=m.oa.l;m.next();){var y=m.value;y.ua+=n;y.Ba+=l}}}for(m=b.oa.l;m.next();)y=m.value,l=y.O,2>j?(g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new K(l.right+c.width,l.top),k[1]=new K(l.left,l.bottom+c.height),j=2):(n=Cn(k,j,new K(g,i),new cb(l.width,l.height),c),r=k[n],s=new K(r.x+l.width+c.width,r.y),v=new K(r.x,r.y+l.height+
c.height),n+1<j&&k.splice(n+1,0,p),k[n]=s,k[n+1]=v,j++,y.ua=r.x+y.width/2,y.Ba=r.y+y.height/2);for(d.reset();d.next();){e=d.value;for(g=e.oa.l;g.next();)c=g.value,b.Uk(c);for(e=e.rc.l;e.next();)c=e.value,b.Rn(c)}}Dn(this,a);this.updateParts()}this.un=a;this.Xc=p;this.Ye=h};zn.prototype.te=function(a){u&&x.i(a,An,zn,"computeBounds:net");for(var b=new L,c=h,a=a.oa.l;a.next();){var d=a.value;c?(c=q,b.set(d.O)):b.cj(d.O)}return b};
function En(a,b,c){u&&(x.n(b,zn,"computeClusterLayoutIterations:level"),x.n(c,zn,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.B.oa.count,c*(b+1)/11),10)}
function Bn(a,b,c){u&&(x.n(b,zn,"layoutClusters:level"),x.n(c,zn,"layoutClusters:maxiter"));var d;u&&x.n(b,zn,"hasClusters:level");if(10<b||3>a.B.oa.count)d=q;else{a.gg===p?a.gg=new H(Fn):a.gg.clear();a.gg.Pe(a.B.oa);d=a.gg;d.sort(function(a,b){return a===p||b===p||a===b?0:b.qf-a.qf});for(var e=d.count-1;0<=e&&1>=d.o[e].qf;)e--;d=1<d.count-e}if(d){d=a.ym;a.ym*=1+1/(b+1);u&&x.n(b,zn,"pushSubNetwork:level");for(var e=a.B,g=new An,i=a.gg.l;i.next();){var j=i.value;if(1<j.qf){g.Uk(j);var k={MA:j.qf,NA:j.width,
LA:j.height,uF:j.M.x,vF:j.M.y};j.Wg===p&&(j.Wg=new H);j.Wg.add(k);j.oy=j.Wg.count-1}else break}for(var l=e.rc.l;l.next();){var m=l.value;if(m.Z.B===g&&m.U.B===g)g.Rn(m);else if(m.Z.B===g){var n=m.Z.Bl;n===p&&(n=new H(Fn),m.Z.Bl=n);n.add(m.U);m.Z.qf--;m.Z.Dj+=m.U.Dj}else m.U.B===g&&(n=m.U.Bl,n===p&&(n=new H(Fn),m.U.Bl=n),n.add(m.Z),m.U.qf--,m.U.Dj+=m.Z.Dj)}for(l=g.rc.l;l.next();)m=l.value,m.ri*=Math.max(1,qc((m.Z.Dj+m.U.Dj)/(4*b+1)));for(i=g.oa.l;i.next();)if(j=i.value,n=j.Bl,n!==p&&0<n.count&&(k=
j.Wg.o[j.Wg.count-1],k=k.MA-j.qf,!(0>=k))){for(var r=0,s=0,v=n.count-k;v<n.count;v++){for(var y=n.o[v],m=p,l=y.rc.l;l.next();){var C=l.value;if(C.iH(y)===j){m=C;break}}m!==p&&(s+=m.ri,r+=y.width*y.height)}n=j.ua;l=j.Ba;m=j.width;v=j.height;y=j.M;C=m*v;1>C&&(C=1);r=qc((r+C+4*s*s/(k*k))/C);k=(r-1)*m/2;r=(r-1)*v/2;j.Lb=new L(n-y.x-k,l-y.y-r,m+2*k,v+2*r);j.focus=new K(y.x+k,y.y+r)}a.Xc=g;g=Math.max(0,En(a,b,c));a.cw+=g;Bn(a,b+1,c);Dn(a,g);u&&(x.i(e,An,zn,"popNetwork:oldnet"),x.n(b,zn,"popNetwork:level"));
for(c=a.B.oa.l;c.next();)g=c.value,g.B=e,g.Wg!==p&&(i=g.Wg.o[g.oy],g.qf=i.MA,j=i.uF,k=i.vF,g.Lb=new L(g.ua-j,g.Ba-k,i.NA,i.LA),g.focus=new K(j,k),g.oy--);for(c=a.B.rc.l;c.next();)c.value.B=e;a.Xc=e;c=a.gg;c===p?c=new H(Fn):c.clear();c.Pe(e.oa);c.sort(function(a,b){return a===p||b===p||a===b?0:b.qf-a.qf});for(e=c.l;e.next();)Gn(a,e.value,b);a.ym=d}}
function Gn(a,b,c){u&&(x.i(b,Fn,zn,"surroundNode:oldnet"),x.n(c,zn,"surroundNode:level"));var d=b.Bl;if(!(d===p||0===d.count)){var c=b.ua,e=b.Ba,g=b.width,i=b.height;b.Wg!==p&&0<b.Wg.count&&(i=b.Wg.o[0],g=i.NA,i=i.LA);for(var g=qc(g*g+i*i)/2,j=q,k=i=0,l=0,m=b.oa.l;m.next();){var n=m.value;1>=n.qf?k++:(j=h,l++,i+=Math.atan2(b.Ba-n.Ba,b.ua-n.ua))}if(0!==k){0<l&&(i/=l);l=b=0;b=j?2*Math.PI/(k+1):2*Math.PI/k;0===k%2&&(l=b/2);1<d.count&&d.sort(function(a,b){return a===p||b===p||a===b?0:b.width*b.height-
a.width*a.height});j=0===k%2?0:1;for(m=d.l;m.next();)if(n=m.value,!(1<n.qf)&&!a.isFixed(n)){d=p;for(k=n.rc.l;k.next();){d=k.value;break}var k=n.width,r=n.height,k=qc(k*k+r*r)/2,d=g+d.ri+k,k=i+(b*(j/2>>1)+l)*(0==j%2?1:-1);n.ua=c+d*Math.cos(k);n.Ba=e+d*Math.sin(k);j++}}}}
function Cn(a,b,c,d,e){var g=9E19,i=-1,j=0;a:for(;j<b;j++){var k=a[j],l=k.x-c.x,m=k.y-c.y,l=l*l+m*m;if(l<g){for(m=j-1;0<=m;m--)if(a[m].y>k.y&&a[m].x-k.x<d.width+e.width)continue a;for(m=j+1;m<b;m++)if(a[m].x>k.x&&a[m].y-k.y<d.height+e.height)continue a;i=j;g=l}}return i}zn.prototype.ZF=function(a){var b=a.kb;if(b!==p)for(b=b.pD();b.next();){var c=b.value;if("Comment"===c.Vc){var d=this.B.Ve(c);d===p&&(d=this.B.Tn(c),d.lj=this.YC,c=this.B.Cm(a,d,p),c!==p&&(c.ri=this.ZC))}}};
function Hn(a,b){u&&(x.i(a,Fn,zn,"getNodeDistance:vertexA"),x.i(b,Fn,zn,"getNodeDistance:vertexB"));var c=a.O,d=c.x,e=c.y,g=c.width,c=c.height,i=b.O,j=i.x,k=i.y,l=i.width,i=i.height;return d+g<j?e>k+i?(d=d+g-j,e=e-k-i,qc(d*d+e*e)):e+c<k?(d=d+g-j,e=e+c-k,qc(d*d+e*e)):j-(d+g):d>j+l?e>k+i?(d=d-j-l,e=e-k-i,qc(d*d+e*e)):e+c<k?(d=d-j-l,e=e+c-k,qc(d*d+e*e)):d-(j+l):e>k+i?e-(k+i):e+c<k?k-(e+c):0.1}
function Dn(a,b){u&&x.n(b,zn,"performIterations:num");a.gg=p;for(var c=a.qq+b;a.qq<c&&!(a.qq++,!In(a)););a.gg=p}
function In(a){a.gg===p&&(a.gg=new H(Fn),a.gg.Pe(a.B.oa));var b=a.gg;if(0>=b.count)return q;var c=b.o[0];c.Vd=0;c.Wd=0;for(var d=c.ua,e=d,g=c.Ba,i=g,c=1;c<b.count;c++){var j=b.o[c];j.Vd=0;j.Wd=0;var k=j.ua,j=j.Ba,d=Math.min(d,k),e=Math.max(e,k),g=Math.min(g,j),i=Math.max(i,j)}(i=e-d>i-g)?b.sort(function(a,b){return a===p||b===p||a===b?0:a.ua-b.ua}):b.sort(function(a,b){return a===p||b===p||a===b?0:a.Ba-b.Ba});for(var l=0,m=k=0,c=0;c<b.count;c++){j=b.o[c];d=j.ua;e=j.Ba;k=j.lj*a.electricalFieldX(d,
e);m=j.lj*a.electricalFieldY(d,e);j.Vd+=k;j.Wd+=m;k=j.tn*a.gravitationalFieldX(d,e);m=j.tn*a.gravitationalFieldY(d,e);j.Vd+=k;j.Wd+=m;for(var n=a.ym,r=c+1;r<b.count;r++)if(g=b.o[r],g!==j){var m=g.ua,s=g.Ba;if(Math.abs(d-m)>n){if(i)break}else if(Math.abs(e-s)>n){if(!i)break}else{var v=Hn(j,g);1>v?(d>m?(k=Math.abs(g.O.right-j.O.left),k=Jn(1+k)):d<m?(k=Math.abs(g.O.left-j.O.right),k=-Jn(1+k)):(k=Math.max(g.width,j.width),k=Jn(1+k)-k/2),e>s?(m=Math.abs(g.O.bottom-j.O.top),m=Jn(1+m)):d<m?(m=Math.abs(g.O.top-
j.O.bottom),m=-Jn(1+m)):(m=Math.max(g.height,j.height),m=Jn(1+m)-m/2)):(l=-(j.lj*g.lj)/(v*v),k=l*((m-d)/v),m=l*((s-e)/v));j.Vd+=k;j.Wd+=m;g.Vd-=k;g.Wd-=m}}}for(c=a.B.rc.l;c.next();)i=c.value,j=i.Z,g=i.U,d=j.ua,e=j.Ba,m=g.ua,s=g.Ba,v=Hn(j,g),1>v?(k=(d>m?1:-1)*Jn(1+Math.max(g.width,j.width)),m=(e>s?1:-1)*Jn(1+Math.max(g.height,j.height))):(l=i.Br*(v-i.ri),k=l*((m-d)/v),m=l*((s-e)/v)),j.Vd+=k,j.Wd+=m,g.Vd-=k,g.Wd-=m;c=0;d=Math.max(a.ym/20,50);for(e=0;e<b.count;e++)j=b.o[e],a.isFixed(j)||(g=j.Vd,i=j.Wd,
g<-d?g=-d:g>d&&(g=d),i<-d?i=-d:i>d&&(i=d),j.ua+=g,j.Ba+=i,c=Math.max(c,g*g+i*i));return c>a.vz*a.vz}function Jn(a){return Math.floor(a*Math.random())}zn.prototype.commitLayout=zn.prototype.Av=function(){this.uA();this.commitNodes();this.Cs&&this.commitLinks()};zn.prototype.uA=function(){if(this.Im)for(var a=this.B.rc.l;a.next();){var b=a.value.Wa;b!==p&&(b.pb=Db,b.tb=Db)}};
zn.prototype.commitNodes=zn.prototype.iz=function(){var a=0,b=0;if(this.EC)var b=this.te(this.B),c=this.sd,a=c.x-b.x,b=c.y-b.y;for(var c=new L,d=this.B.oa.l;d.next();){var e=d.value;if(0!==a||0!==b)c.set(e.O),c.x+=a,c.y+=b,e.Lb=c;e.commit()}};zn.prototype.commitLinks=zn.prototype.hz=function(){for(var a=this.B.rc.l;a.next();)a.value.commit()};zn.prototype.springStiffness=zn.prototype.yM=function(a){a=a.Br;return!isNaN(a)?a:this.cD};
zn.prototype.springLength=zn.prototype.xM=function(a){a=a.ri;return!isNaN(a)?a:this.bD};zn.prototype.electricalCharge=zn.prototype.DK=function(a){a=a.lj;return!isNaN(a)?a:this.$C};zn.prototype.electricalFieldX=zn.prototype.EK=ca(0);zn.prototype.electricalFieldY=zn.prototype.FK=ca(0);zn.prototype.gravitationalMass=zn.prototype.fL=function(a){a=a.tn;return!isNaN(a)?a:this.aD};zn.prototype.gravitationalFieldX=zn.prototype.dL=ca(0);zn.prototype.gravitationalFieldY=zn.prototype.eL=ca(0);
zn.prototype.isFixed=zn.prototype.TD=function(a){return a.Lx};x.u(zn,{iK:"currentIteration"},t("qq"));x.g(zn,"arrangementSpacing",zn.prototype.sv);x.defineProperty(zn,{sv:"arrangementSpacing"},t("Qf"),function(a){this.Qf.K(a)||(this.Qf.Ya(a),this.I())});x.g(zn,"arrangesToOrigin",zn.prototype.EC);x.defineProperty(zn,{EC:"arrangesToOrigin"},t("np"),function(a){this.np!==a&&(this.np=a,this.I())});x.g(zn,"setsPortSpots",zn.prototype.Im);
x.defineProperty(zn,{Im:"setsPortSpots"},t("Bh"),function(a){this.Bh!==a&&(this.Bh=a,this.I())});x.g(zn,"comments",zn.prototype.gz);x.defineProperty(zn,{gz:"comments"},t("Nd"),function(a){this.Nd!==a&&(this.Nd=a,this.I())});x.g(zn,"maxIterations",zn.prototype.cw);x.defineProperty(zn,{cw:"maxIterations"},t("un"),function(a){this.un!==a&&0<=a&&(this.un=a,this.I())});x.g(zn,"epsilonDistance",zn.prototype.vz);
x.defineProperty(zn,{vz:"epsilonDistance"},t("Np"),function(a){this.Np!==a&&0<a&&(this.Np=a,this.I())});x.g(zn,"infinityDistance",zn.prototype.ym);x.defineProperty(zn,{ym:"infinityDistance"},t("aq"),function(a){this.aq!==a&&1<a&&(this.aq=a,this.I())});x.g(zn,"defaultSpringStiffness",zn.prototype.cD);x.defineProperty(zn,{cD:"defaultSpringStiffness"},t("Gp"),function(a){this.Gp!==a&&(this.Gp=a,this.I())});x.g(zn,"defaultSpringLength",zn.prototype.bD);
x.defineProperty(zn,{bD:"defaultSpringLength"},t("Fp"),function(a){this.Fp!==a&&(this.Fp=a,this.I())});x.g(zn,"defaultElectricalCharge",zn.prototype.$C);x.defineProperty(zn,{$C:"defaultElectricalCharge"},t("Dp"),function(a){this.Dp!==a&&(this.Dp=a,this.I())});x.g(zn,"defaultGravitationalMass",zn.prototype.aD);x.defineProperty(zn,{aD:"defaultGravitationalMass"},t("Ep"),function(a){this.Ep!==a&&(this.Ep=a,this.I())});x.g(zn,"defaultCommentSpringLength",zn.prototype.ZC);
x.defineProperty(zn,{ZC:"defaultCommentSpringLength"},t("Bp"),function(a){this.Bp!==a&&(this.Bp=a,this.I())});x.g(zn,"defaultCommentElectricalCharge",zn.prototype.YC);x.defineProperty(zn,{YC:"defaultCommentElectricalCharge"},t("Ap"),function(a){this.Ap!==a&&(this.Ap=a,this.I())});function An(){Ym.call(this)}x.S("ForceDirectedNetwork",An);x.Ja(An,Ym);An.prototype.createVertex=An.prototype.Sj=function(){return new Fn};An.prototype.createEdge=An.prototype.jo=function(){return new Kn};
function Fn(){bn.call(this);this.Lx=q;this.tn=this.lj=NaN;this.Dj=this.qf=this.Wd=this.Vd=0;this.Wg=this.Bl=p;this.oy=0}x.S("ForceDirectedVertex",Fn);x.Ja(Fn,bn);x.g(Fn,"isFixed",Fn.prototype.TD);x.defineProperty(Fn,{TD:"isFixed"},t("Lx"),ba("Lx"));x.g(Fn,"charge",Fn.prototype.xG);x.defineProperty(Fn,{xG:"charge"},t("lj"),ba("lj"));x.g(Fn,"mass",Fn.prototype.PH);x.defineProperty(Fn,{PH:"mass"},t("tn"),ba("tn"));x.g(Fn,"forceX",Fn.prototype.dH);x.defineProperty(Fn,{dH:"forceX"},t("Vd"),ba("Vd"));
x.g(Fn,"forceY",Fn.prototype.eH);x.defineProperty(Fn,{eH:"forceY"},t("Wd"),ba("Wd"));function Kn(){cn.call(this);this.ri=this.Br=NaN}x.S("ForceDirectedEdge",Kn);x.Ja(Kn,cn);x.g(Kn,"stiffness",Kn.prototype.EI);x.defineProperty(Kn,{EI:"stiffness"},t("Br"),ba("Br"));x.g(Kn,"length",Kn.prototype.length);x.defineProperty(Kn,{length:"length"},t("ri"),ba("ri"));
function Y(){Yh.call(this);this.yd=this.Pd=25;this.ga=0;this.Wm=Ln;this.pn=Mn;this.jn=Nn;this.Pl=4;this.Pm=On;this.Ai=Pn;this.Bh=h;this.vb=this.nu=this.hb=-1;this.mf=this.Jq=0;this.Ad=this.kf=this.Qg=this.wh=this.zd=p;this.Qq=0;this.wu=this.Vl=p;this.Wf=0;this.Rq=p;this.Sg=[];this.Sg.length=100}x.S("LayeredDigraphLayout",Y);x.Ja(Y,Yh);
Y.prototype.cloneProtected=Y.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.Pd=this.Pd;a.yd=this.yd;a.ga=this.ga;a.Wm=this.Wm;a.pn=this.pn;a.jn=this.jn;a.Pl=this.Pl;a.Pm=this.Pm;a.Ai=this.Ai;a.Bh=this.Bh};Y.prototype.createNetwork=Y.prototype.Fv=function(){var a=new Qn;Zm(a,this);return a};
Y.prototype.doLayout=Y.prototype.gs=function(a){this.Xc===p&&(this.Xc=this.makeNetwork(a));this.sd=an(this,this.sd);this.nu=-1;this.mf=this.Jq=0;this.Rq=this.wu=this.Vl=p;for(a=0;a<this.Sg.length;a++)this.Sg[a]=p;if(0<this.B.oa.count){this.B.Iv();for(a=this.B.rc.l;a.next();)a.value.Cb=q;switch(this.Wm){default:case Rn:var b=0,c=this.B.oa.count-1,a=[];a.length=c+1;for(var d=this.B.oa.l;d.next();)d.value.Ia=h;for(;Sn(this.B)!==p;){for(d=Tn(this.B);d!==p;)a[c]=d,c--,d.Ia=q,d=Tn(this.B);for(d=Un(this.B);d!==
p;)a[b]=d,b++,d.Ia=q,d=Un(this.B);u&&x.i(this.B,Ym,Y,"greedyCycleRemovalFindNodeMaxDegDiff:network");for(var d=p,e=0,g=this.B.oa.l;g.next();){var i=g.value;if(i.Ia){for(var j=0,k=i.Mb;k.next();)k.value.U.Ia&&j++;for(var k=0,l=i.Ob;l.next();)l.value.Z.Ia&&k++;if(d===p||e<j-k)d=i,e=j-k}}d!==p&&(a[b]=d,b++,d.Ia=q)}for(b=0;b<this.B.oa.count;b++)a[b].ha=b;for(a=this.B.rc.l;a.next();)b=a.value,b.Z.ha>b.U.ha&&(this.B.kw(b),b.Cb=h);break;case Ln:for(b=this.B.oa.l;b.next();)b.value.wk=-1,b.value.cn=-1;for(a=
this.B.rc.l;a.next();)a.value.Qp=q;this.Qq=0;for(b.reset();b.next();)0===b.value.Ob.count&&Vn(this,b.value);for(b.reset();b.next();)-1===b.value.wk&&Vn(this,b.value);for(a.reset();a.next();)b=a.value,b.Qp||(c=b.Z,d=c.cn,e=b.U,g=e.cn,e.wk<c.wk&&d<g&&(this.B.kw(b),b.Cb=h))}for(a=this.B.oa.l;a.next();)b=a.value,b.J=-1;this.hb=-1;this.assignLayers();for(a.reset();a.next();)this.hb=Math.max(this.hb,a.value.J);c=this.B.rc.l;for(b=[];c.next();)a=c.value,a.Ia=q,b.push(a);for(c=0;c<b.length;c++)if(a=b[c],
!a.Ia&&!((a.Z.kb===p||a.U.kb===p)&&a.Z.J===a.U.J)){g=j=i=k=0;e=a.Z;d=a.U;if(a.Wa!==p){j=a.Wa;if(j===p)continue;var m=e.kb,g=d.kb;if(m===p||g===p)continue;var n=j.ja,i=j.na,r=j.Lc,k=j.wd;a.Cb&&(j=n,l=r,n=i,r=k,i=j,k=l);var l=e.M.copy(),j=a.U.M.copy(),s=a.Cb?d.O.copy():e.O.copy(),r=isNaN(s.x)?l.copy():Ol(n,r,Lb);m!==n&&(!isNaN(s.x)&&n.sb())&&(m=e.O.copy(),isNaN(m.x)||(r.x+=s.x-m.x,r.y+=s.y-m.y));m=a.Cb?e.O.copy():d.O.copy();k=isNaN(m.x)?j.copy():Ol(i,k,Lb);g!==i&&(!isNaN(m.x)&&i.sb())&&(g=d.O,isNaN(g.x)||
(k.x+=m.x-g.x,k.y+=m.y-g.y));90===this.ga||270===this.ga?(g=Math.round((r.x-l.x)/this.yd),i=r.x,j=Math.round((k.x-j.x)/this.yd),k=k.x):(g=Math.round((r.y-l.y)/this.yd),i=r.y,j=Math.round((k.y-j.y)/this.yd),k=k.y);a.Ke=g;a.tf=i;a.Le=j;a.vf=k}else a.Ke=0,a.tf=0,a.Le=0,a.vf=0;l=e.J;r=d.J;m=a;u&&x.i(m,Wn,Y,"_goesAround:edge");n=0;s=m.Wa;if(s!==p){if(s.Lc!==p){var v=s.ja;tm(s)===Xn(this,m,h)?n+=1:this.Im&&v!==p&&1===v.ports.count&&m.Cb&&(n+=1)}s.wd!==p&&(v=s.na,um(s)===Xn(this,m,q)?n+=2:this.Im&&v!==p&&
1===v.ports.count&&m.Cb&&(n+=2))}m=1===n||3===n?h:q;if(n=2===n||3===n?h:q)s=this.B.Sj(),s.kb=p,s.wl=1,s.J=l,s.zj=e,this.B.Uk(s),e=this.B.Cm(e,s,a.Wa),e.Ia=q,e.Cb=a.Cb,e.Ke=g,e.Le=0,e.tf=i,e.vf=0,e=s;v=1;m&&v--;if(l-r>v&&0<l){a.Ia=q;s=this.B.Sj();s.kb=p;s.wl=2;s.J=l-1;this.B.Uk(s);e=this.B.Cm(e,s,a.Wa);e.Ia=h;e.Cb=a.Cb;e.Ke=n?0:g;e.Le=0;e.tf=n?0:i;e.vf=0;e=s;for(l--;l-r>v&&0<l;)s=this.B.Sj(),s.kb=p,s.wl=3,s.J=l-1,this.B.Uk(s),e=this.B.Cm(e,s,a.Wa),e.Ia=h,e.Cb=a.Cb,e.Ke=0,e.Le=0,e.tf=0,e.vf=0,e=s,l--;
e=this.B.Cm(s,d,a.Wa);e.Ia=!m;m&&(s.zj=d);e.Cb=a.Cb;e.Ke=0;e.Le=j;e.tf=0;e.vf=k}else a.Ia=h}b=this.zd=[];for(c=0;c<=this.hb;c++)b[c]=0;for(a=this.B.oa.l;a.next();)a.value.ha=-1;this.initializeIndices();this.nu=-1;for(c=this.mf=this.Jq=0;c<=this.hb;c++)b[c]>b[this.mf]&&(this.nu=b[c]-1,this.mf=c),b[c]<b[this.Jq]&&(this.Jq=c);this.Rq=[];for(c=0;c<b.length;c++)this.Rq[c]=[];for(a.reset();a.next();)c=a.value,b=c.J,this.Rq[b][c.ha]=c;this.vb=-1;for(a=0;a<=this.hb;a++){b=Yn(this,a);c=0;d=this.zd[a];for(e=
0;e<d;e++)g=b[e],c+=Zn(this,g,h),g.ba=c,c+=1,c+=Zn(this,g,q);this.vb=Math.max(this.vb,c-1);$n(this,a,b)}this.reduceCrossings();this.straightenAndPack();this.updateParts()}this.Xc=p;this.Ye=h};function ao(a){u&&x.i(a,cn,Y,"linkMinLength:edge");for(var b=a.U,c=0,a=a.Z.Mb;a.next();)a.value.U===b&&c++;return 1<c?2:1}function bo(a){u&&x.i(a,cn,Y,"linkLengthWeight:edge");return 1}function co(a){u&&x.i(a,cn,Y,"linkStraightenWeight:edge");var b=a.Z.kb,a=a.U.kb;return b===p&&a===p?8:b===p||a===p?4:1}
function eo(a,b,c){u&&(x.i(b,fo,Y,"nodeMinLayerSpace:v"),x.k(c,"boolean",Y,"nodeMinLayerSpace:topleft"));return b.kb===p?0:90===a.ga||270===a.ga?c?b.M.y+10:b.O.height-b.M.y+10:c?b.M.x+10:b.O.width-b.M.x+10}
function Zn(a,b,c){u&&(x.i(b,fo,Y,"nodeMinColumnSpace:v"),x.k(c,"boolean",Y,"nodeMinColumnSpace:topleft"));if(b.kb===p)return 0;var d=c?b.Yx:b.Xx;if(d!==f)return d;d=a.ga;return 90===d||270===d?c?b.Yx=b.M.x/a.yd+1|0:b.Xx=(b.O.width-b.M.x)/a.yd+1|0:c?b.Yx=b.M.y/a.yd+1|0:b.Xx=(b.O.height-b.M.y)/a.yd+1|0}function ho(a){a.Vl===p&&(a.Vl=[]);for(var b=0,c=a.B.oa.l,d;c.next();)d=c.value,a.Vl[b]=d.J,b++,a.Vl[b]=d.ba,b++,a.Vl[b]=d.ha,b++;return a.Vl}
function io(a,b){u&&x.i(b,Array,Y,"restoreLayout:layout");for(var c=0,d=a.B.oa.l,e;d.next();)e=d.value,e.J=b[c],c++,e.ba=b[c],c++,e.ha=b[c],c++}
function jo(a,b,c){u&&(x.n(b,Y,"crossingMatrix:unfixedLayer"),x.n(c,Y,"crossingMatrix:direction"));var d=Yn(a,b),e=a.zd[b];a.wu||(a.wu=[]);for(var g=a.wu,i,j=0;j<e;j++){i=0;var k=d[j],l=k.zj,m,n;if(l!==p&&l.J===k.J)if(k=l.ha,k>j)for(n=j+1;n<k;n++)m=d[n],(m.zj!==l||m.wl!==l.wl)&&i++;else for(n=j-1;n>k;n--)m=d[n],(m.zj!==l||m.wl!==l.wl)&&i++;var r,s,v,y,C,D;if(0<=c){k=d[j].cg;for(l=0;l<k.count;l++)if(r=k.o[l],r.Ia&&r.Z.J!==b){m=r.Z.ha;n=r.vf;r=r.tf;for(s=l+1;s<k.count;s++)v=k.o[s],v.Ia&&v.Z.J!==b&&
(y=v.Z.ha,C=v.vf,v=v.tf,n<C&&(m>y||m===y&&r>v)&&i++,C<n&&(y>m||y===m&&v>r)&&i++)}}if(0>=c){k=d[j].hf;for(l=0;l<k.count;l++)if(r=k.o[l],r.Ia&&r.U.J!==b){m=r.U.ha;n=r.vf;r=r.tf;for(s=l+1;s<k.count;s++)v=k.o[s],v.Ia&&v.U.J!==b&&(y=v.U.ha,C=v.vf,v=v.tf,r<v&&(m>y||m===y&&n>C)&&i++,v<r&&(y>m||y===m&&C>n)&&i++)}}g[j*e+j]=i;for(k=j+1;k<e;k++){var I=0,E=0;if(0<=c){i=d[j].cg;D=d[k].cg;for(l=0;l<i.count;l++)if(r=i.o[l],r.Ia&&r.Z.J!==b){m=r.Z.ha;r=r.tf;for(s=0;s<D.count;s++)v=D.o[s],v.Ia&&v.Z.J!==b&&(y=v.Z.ha,
v=v.tf,(m<y||m===y&&r<v)&&E++,(y<m||y===m&&v<r)&&I++)}}if(0>=c){i=d[j].hf;D=d[k].hf;for(l=0;l<i.count;l++)if(r=i.o[l],r.Ia&&r.U.J!==b){m=r.U.ha;n=r.vf;for(s=0;s<D.count;s++)v=D.o[s],v.Ia&&v.U.J!==b&&(y=v.U.ha,C=v.vf,(m<y||m===y&&n<C)&&E++,(y<m||y===m&&C<n)&&I++)}}g[j*e+k]=I;g[k*e+j]=E}}$n(a,b,d);return g}Y.prototype.countCrossings=Y.prototype.hK=function(){var a,b=0,c,d;for(a=0;a<=this.hb;a++){c=jo(this,a,1);d=this.zd[a];for(var e=0;e<d;e++)for(var g=e;g<d;g++)b+=c[e*d+g]}return b};
function ko(a){u&&x.k(h,"boolean",Y,"countBends:weighted");for(var b=0,c=0;c<=a.hb;c++){var d=a,e=c;u&&(x.n(e,Y,"bends:unfixedLayer"),x.n(1,Y,"bends:direction"),x.k(h,"boolean",Y,"bends:weighted"));for(var g=Yn(d,e),i=d.zd[e],j=0,k=f,k=0;k<i;k++){var l=g[k].hf,m,n,r;if("undefined"!==typeof l)for(var s=0;s<l.count;s++)m=l.o[s],m.Ia&&m.U.J!==e&&(n=m.Z.ba+m.Ke,r=m.U.ba+m.Le,j+=(Math.abs(n-r)+1)*co(m))}$n(d,e,g);b+=j}return b}
Y.prototype.normalize=function(){var a=Infinity;this.vb=-1;for(var b=this.B.oa.l,c;b.next();)c=b.value,a=Math.min(a,c.ba-Zn(this,c,h)),this.vb=Math.max(this.vb,c.ba+Zn(this,c,q));for(b.reset();b.next();)b.value.ba-=a;this.vb-=a};
function to(a,b,c){u&&(x.n(b,Y,"barycenters:unfixedLayer"),x.n(c,Y,"barycenters:direction"));var d=Yn(a,b),e=a.zd[b],g=[],i;for(i=0;i<e;i++){var j=d[i],k=p;0>=c&&(k=j.cg);var l=p;0<=c&&(l=j.hf);var m=0,n=0,r=j.zj;r!==p&&r.J===j.J&&(m+=r.ba-1,n++);if(k!==p)for(r=0;r<k.count;r++){var j=k.o[r],s=j.Z;j.Ia&&(!j.Cb&&s.J!==b)&&(m+=s.ba+j.Ke,n++)}if(l!==p)for(k=0;k<l.count;k++)j=l.o[k],r=j.U,j.Ia&&(!j.Cb&&r.J!==b)&&(m+=r.ba+j.Le,n++);g[i]=0===n?-1:m/n}$n(a,b,d);return g}
function Ao(a,b,c){u&&(x.n(b,Y,"medians:unfixedLayer"),x.n(c,Y,"medians:direction"));for(var d=Yn(a,b),e=a.zd[b],g=[],i=0;i<e;i++){var j=d[i],k=p;0>=c&&(k=j.cg);var l=p;0<=c&&(l=j.hf);var m=0,n=[],r=j.zj;r!==p&&r.J===j.J&&(n[m]=r.ba-1,m++);if(k!==p)for(r=0;r<k.count;r++){var j=k.o[r],s=j.Z;j.Ia&&(!j.Cb&&s.J!==b)&&(n[m]=s.ba+j.Ke,m++)}if(l!==p)for(k=0;k<l.count;k++)j=l.o[k],r=j.U,j.Ia&&(!j.Cb&&r.J!==b)&&(n[m]=r.ba+j.Le,m++);0===m?g[i]=-1:(n.sort(function(a,b){return a-b}),l=m>>1,g[i]=m&1?n[l]:n[l-
1]+n[l]>>1)}$n(a,b,d);return g}function Bo(a,b,c,d,e,g){u&&(x.i(b,fo,Y,"tightComponentUnset:v"),x.n(c,Y,"tightComponentUnset:component"),x.n(d,Y,"tightComponentUnset:unset"),x.k(e,"boolean",Y,"tightComponentUnset:forward"),x.k(g,"boolean",Y,"tightComponentUnset:backward"));if(b.Qb===d){b.Qb=c;var i,j;if(e)for(var k=b.Mb;k.next();){var l=k.value.U;i=b.J-l.J;j=ao(k.value);i===j&&Bo(a,l,c,d,e,g)}if(g)for(k=b.Ob;k.next();)l=k.value.Z,i=l.J-b.J,j=ao(k.value),i===j&&Bo(a,l,c,d,e,g)}}
function Co(a,b,c,d,e,g){u&&(x.i(b,fo,Y,"componentUnset:v"),x.n(c,Y,"componentUnset:component"),x.n(d,Y,"componentUnset:unset"),x.k(e,"boolean",Y,"componentUnset:forward"),x.k(g,"boolean",Y,"componentUnset:backward"));if(b.Qb===d){b.Qb=c;if(e)for(var i=b.Mb,j;i.next();)j=i.value.U,Co(a,j,c,d,e,g);if(g)for(b=b.Ob;b.next();)i=b.value.Z,Co(a,i,c,d,e,g)}}function Sn(a){u&&x.i(a,Ym,Y,"greedyCycleRemovalFindNode:network");for(a=a.oa.l;a.next();){var b=a.value;if(b.Ia)return b}return p}
function Tn(a){u&&x.i(a,Ym,Y,"greedyCycleRemovalFindSink:network");for(a=a.oa.l;a.next();){var b=a.value;if(b.Ia){for(var c=h,d=b.Mb;d.next();)if(d.value.U.Ia){c=q;break}if(c)return b}}return p}function Un(a){u&&x.i(a,Ym,Y,"greedyCycleRemovalFindSource:network");for(a=a.oa.l;a.next();){var b=a.value;if(b.Ia){for(var c=h,d=b.Ob;d.next();)if(d.value.Z.Ia){c=q;break}if(c)return b}}return p}
function Vn(a,b){u&&x.i(b,fo,Y,"depthFirstSearchCycleRemovalVisit:v");b.wk=a.Qq;a.Qq++;for(var c=b.Mb;c.next();){var d=c.value,e=d.U;-1===e.wk&&(d.Qp=h,Vn(a,e))}b.cn=a.Qq;a.Qq++}
Y.prototype.assignLayers=Y.prototype.hJ=function(){switch(this.pn){case Do:Eo(this);break;case Fo:for(var a,b=this.B.oa.l;b.next();)a=Go(this,b.value),this.hb=Math.max(a,this.hb);for(b.reset();b.next();)a=b.value,a.J=this.hb-a.J;break;default:case Mn:Eo(this);for(b=this.B.oa.l;b.next();)b.value.Ia=q;for(b.reset();b.next();)0===b.value.Ob.count&&Ho(this,b.value);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.J);this.hb=-1;for(b.reset();b.next();)b.value.J-=a,this.hb=Math.max(this.hb,b.value.J)}};
function Eo(a){for(var b=a.B.oa.l;b.next();){var c=Io(a,b.value);a.hb=Math.max(c,a.hb)}}function Io(a,b){u&&x.i(b,fo,Y,"longestPathSinkLayeringLength:v");var c=0;if(-1===b.J){for(var d=b.Mb;d.next();)var e=d.value,g=ao(e),c=Math.max(c,Io(a,e.U)+g);b.J=c}else c=b.J;return c}function Go(a,b){u&&x.i(b,fo,Y,"longestPathSourceLayeringLength:v");var c=0;if(-1===b.J){for(var d,e,g=b.Ob;g.next();)e=g.value,d=ao(e),c=Math.max(c,Go(a,e.Z)+d);b.J=c}else c=b.J;return c}
function Ho(a,b){u&&x.i(b,fo,Y,"optimalLinkLengthLayeringDepthFirstSearch:v");if(!b.Ia){b.Ia=h;for(var c=b.Mb;c.next();)Ho(a,c.value.U);u&&x.i(b,fo,Y,"optimalLinkLengthLayeringPull:v");for(c=a.B.oa.l;c.next();)c.value.Qb=-1;for(var d=b.Ob;d.next();){var e=d.value,g=ao(e);e.Z.J-e.U.J>g&&Bo(a,e.Z,0,-1,h,q)}for(Bo(a,b,1,-1,h,h);0!==b.Qb;){for(var g=0,d=Infinity,i=0,j=p,k=a.B.oa.l;k.next();){var l=k.value;if(1===l.Qb){for(var m=0,n=q,r=l.Ob;r.next();){var e=r.value,s=e.Z,m=m+bo(e);1!==s.Qb&&(g+=bo(e),
s=s.J-l.J,e=ao(e),d=Math.min(d,s-e))}for(e=l.Mb;e.next();)r=e.value,s=r.U,m-=bo(r),1!==s.Qb?g-=bo(r):n=h;if((j===p||m<i)&&!n)j=l,i=m}}if(0<g){for(c.reset();c.next();)g=c.value,1===g.Qb&&(g.J+=d);b.Qb=0}else j.Qb=0}u&&x.i(b,fo,Y,"optimalLinkLengthLayeringPush:v");for(c=a.B.oa.l;c.next();)c.value.Qb=-1;for(Bo(a,b,1,-1,h,q);0!==b.Qb;){g=0;d=Infinity;i=0;j=p;for(k=a.B.oa.l;k.next();)if(l=k.value,1===l.Qb){m=0;n=q;for(e=l.Ob;e.next();)r=e.value.Z,m+=bo(e.value),1!==r.Qb?g+=bo(e.value):n=h;for(e=k.value.Mb;e.next();)r=
e.value,s=r.U,m-=bo(r),1!==s.Qb&&(g-=bo(r),s=l.J-s.J,r=ao(r),d=Math.min(d,s-r));if((j===p||m>i)&&!n)j=l,i=m}if(0>g){for(c.reset();c.next();)g=c.value,1===g.Qb&&(g.J-=d);b.Qb=0}else j.Qb=0}}}function Xn(a,b,c){u&&(x.i(b,Wn,Y,"_oppositeSpotDir:edge"),x.k(c,"boolean",Y,"_oppositeSpotDir:from"));return 90===a.ga?c&&!b.Cb||!c&&b.Cb?Fb:Nb:180===a.ga?c&&!b.Cb||!c&&b.Cb?Rb:Qb:270===a.ga?c&&!b.Cb||!c&&b.Cb?Nb:Fb:c&&!b.Cb||!c&&b.Cb?Qb:Rb}
Y.prototype.initializeIndices=Y.prototype.pL=function(){switch(this.jn){default:case Jo:for(var a,b=this.B.oa.l;b.next();){var c=b.value;a=c.J;c.ha=this.zd[a];this.zd[a]++}break;case Nn:b=this.B.oa.l;for(a=this.hb;0<=a;a--){for(;b.next();)b.value.J===a&&-1===b.value.ha&&Ko(this,b.value);b.reset()}break;case Lo:b=this.B.oa.l;for(a=0;a<=this.hb;a++){for(;b.next();)b.value.J===a&&-1===b.value.ha&&Mo(this,b.value);b.reset()}}};
function Ko(a,b){u&&x.i(b,fo,Y,"depthFirstOutInitializeIndicesVisit:v");var c=b.J;b.ha=a.zd[c];a.zd[c]++;for(var c=b.hf.Eg(),d=h,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.Ke>i.Ke&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Ia&&(d=d.U,-1===d.ha&&Ko(a,d))}
function Mo(a,b){u&&x.i(b,fo,Y,"depthFirstInInitializeIndicesVisit:v");var c=b.J;b.ha=a.zd[c];a.zd[c]++;for(var c=b.cg.Eg(),d=h,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.Le>i.Le&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Ia&&(d=d.Z,-1===d.ha&&Mo(a,d))}
Y.prototype.reduceCrossings=Y.prototype.gM=function(){var a=this.countCrossings(),b=ho(this),c,d,e;for(c=0;c<this.Pl;c++){for(d=0;d<=this.hb;d++)No(this,d,1),Oo(this,d,1,1);e=this.countCrossings();e<a&&(a=e,b=ho(this));for(d=this.hb;0<=d;d--)No(this,d,-1),Oo(this,d,-1,-1);e=this.countCrossings();e<a&&(a=e,b=ho(this))}io(this,b);for(c=0;c<this.Pl;c++){for(d=0;d<=this.hb;d++)No(this,d,0),Oo(this,d,0,0);e=this.countCrossings();e<a&&(a=e,b=ho(this));for(d=this.hb;0<=d;d--)No(this,d,0),Oo(this,d,0,0);
e=this.countCrossings();e<a&&(a=e,b=ho(this))}io(this,b);var g,i,j;switch(this.Pm){case Po:break;case Qo:for(j=a+1;(d=this.countCrossings())<j;){j=d;for(c=this.hb;0<=c;c--)for(i=0;i<=c;i++){for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,-1,-1)||g}e=this.countCrossings();e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,1,1)||g}e=this.countCrossings();e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,1,1)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=
h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,-1,-1)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,0,0)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,0,0)||g}e>=a?io(this,b):(a=e,b=ho(this))}}break;default:case On:c=this.hb;i=0;for(j=a+1;(d=this.countCrossings())<j;){j=d;for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,-1,-1)||g}e=this.countCrossings();e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,1,1)||g}e=
this.countCrossings();e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,1,1)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,-1,-1)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Oo(this,d,0,0)||g}e>=a?io(this,b):(a=e,b=ho(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Oo(this,d,0,0)||g}e>=a?io(this,b):(a=e,b=ho(this))}}io(this,b)};
function No(a,b,c){u&&(x.n(b,Y,"medianBarycenterCrossingReduction:unfixedLayer"),x.n(c,Y,"medianBarycenterCrossingReduction:direction"));for(var d=Yn(a,b),e=a.zd[b],g=Ao(a,b,c),i=to(a,b,c),c=0;c<e;c++)-1===i[c]&&(i[c]=d[c].ba),-1===g[c]&&(g[c]=d[c].ba);for(var j=h,k;j;){j=q;for(c=0;c<e-1;c++)if(g[c+1]<g[c]||g[c+1]===g[c]&&i[c+1]<i[c])j=h,k=g[c],g[c]=g[c+1],g[c+1]=k,k=i[c],i[c]=i[c+1],i[c+1]=k,k=d[c],d[c]=d[c+1],d[c+1]=k}for(c=g=0;c<e;c++)k=d[c],k.ha=c,g+=Zn(a,k,h),k.ba=g,g+=1,g+=Zn(a,k,q);$n(a,b,
d)}
function Oo(a,b,c,d){u&&(x.n(b,Y,"adjacentExchangeCrossingReductionBendStraighten:unfixedLayer"),x.n(c,Y,"adjacentExchangeCrossingReductionBendStraighten:directionCR"),x.k(q,"boolean",Y,"adjacentExchangeCrossingReductionBendStraighten:straighten"),x.n(d,Y,"adjacentExchangeCrossingReductionBendStraighten:directionBS"));var d=Yn(a,b),e=a.zd[b],c=jo(a,b,c),g,i;i=[];for(g=0;g<e;g++)i[g]=-1;var j;j=[];for(g=0;g<e;g++)j[g]=-1;for(var k=q,l=h;l;){l=q;for(g=0;g<e-1;g++){var m=c[d[g].ha*e+d[g+1].ha],n=c[d[g+
1].ha*e+d[g].ha],r=0,s=0,v=d[g].ba,y=d[g+1].ba,C=Zn(a,d[g],h),D=Zn(a,d[g],q),I=Zn(a,d[g+1],h),E=Zn(a,d[g+1],q),C=v-C+I,D=y-D+E,M=d[g].Ob.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.Z.J===b){E=E.Z;for(I=0;d[I]!==E;)I++;I<g&&(r+=2*(g-I),s+=2*(g+1-I));I===g+1&&(r+=1);I>g+1&&(r+=4*(I-g),s+=4*(I-(g+1)))}M=d[g].Mb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.U.J===b){E=E.U;for(I=0;d[I]!==E;)I++;I===g+1&&(s+=1)}M=d[g+1].Ob.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.Z.J===b){E=E.Z;for(I=0;d[I]!==
E;)I++;I<g&&(r+=2*(g+1-I),s+=2*(g-I));I===g&&(s+=1);I>g+1&&(r+=4*(I-(g+1)),s+=4*(I-g))}M=d[g+1].Mb.l;for(M.reset();M.next();)if(E=M.value,E.Ia&&E.U.J===b){E=E.U;for(I=0;d[I]!==E;)I++;I===g&&(r+=1)}var I=E=0,M=i[d[g].ha],O=j[d[g].ha],X=i[d[g+1].ha],sa=j[d[g+1].ha];-1!==M&&(E+=Math.abs(M-v),I+=Math.abs(M-D));-1!==O&&(E+=Math.abs(O-v),I+=Math.abs(O-D));-1!==X&&(E+=Math.abs(X-y),I+=Math.abs(X-C));-1!==sa&&(E+=Math.abs(sa-y),I+=Math.abs(sa-C));if(s<r-0.5||s===r&&n<m-0.5||s===r&&n===m&&I<E-0.5)l=k=h,d[g].ba=
D,d[g+1].ba=C,m=d[g],d[g]=d[g+1],d[g+1]=m}}for(g=0;g<e;g++)d[g].ha=g;$n(a,b,d);return k}
Y.prototype.straightenAndPack=Y.prototype.FM=function(){var a,b,c=0!==(this.Ai&Ro);a=this.Ai===Pn;1E3<this.B.rc.count&&!a&&(c=q);if(c){b=[];for(a=0;a<=this.hb;a++)b[a]=0;for(var d=this.B.oa.l,e,g;d.next();)e=d.value,a=e.J,g=e.ba,e=Zn(this,e,q),b[a]=Math.max(b[a],g+e);for(d.reset();d.next();)e=d.value,a=e.J,g=e.ba,e.ba=(8*(this.vb-b[a])>>1)+8*g;this.vb*=8}if(0!==(this.Ai&So))for(b=h;b;){b=q;for(a=this.mf+1;a<=this.hb;a++)b=To(this,a,1)||b;for(a=this.mf-1;0<=a;a--)b=To(this,a,-1)||b;b=To(this,this.mf,
0)||b}if(0!==(this.Ai&Uo)){for(a=this.mf+1;a<=this.hb;a++)Vo(this,a,1);for(a=this.mf-1;0<=a;a--)Vo(this,a,-1);Vo(this,this.mf,0)}c&&(Wo(this,-1),Wo(this,1));if(0!==(this.Ai&So))for(b=h;b;){b=q;b=To(this,this.mf,0)||b;for(a=this.mf+1;a<=this.hb;a++)b=To(this,a,0)||b;for(a=this.mf-1;0<=a;a--)b=To(this,a,0)||b}};function To(a,b,c){u&&(x.n(b,Y,"bendStraighten:unfixedLayer"),x.n(c,Y,"bendStraighten:direction"));for(var d=q;Xo(a,b,c);)d=h;return d}
function Xo(a,b,c){u&&(x.n(b,Y,"shiftbendStraighten:unfixedLayer"),x.n(c,Y,"shiftbendStraighten:direction"));var d,e=Yn(a,b),g=a.zd[b],i=to(a,b,-1);if(0<c)for(d=0;d<g;d++)i[d]=-1;var j=to(a,b,1);if(0>c)for(d=0;d<g;d++)j[d]=-1;for(var k=q,l=h;l;){l=q;for(d=0;d<g;d++){var m=e[d].ba,n=Zn(a,e[d],h),r=Zn(a,e[d],q),n=0>d-1||m-e[d-1].ba-1>n+Zn(a,e[d-1],q)?m-1:m,r=d+1>=g||e[d+1].ba-m-1>r+Zn(a,e[d+1],h)?m+1:m,s=0,v=0,y=0,C,D,I,E;if(0>=c)for(var M=e[d].Ob.l;M.next();)C=M.value,C.Ia&&C.Z.J!==b&&(D=co(C),I=C.Ke,
E=C.Le,C=C.Z.ba,s+=(Math.abs(m+E-(C+I))+1)*D,v+=(Math.abs(n+E-(C+I))+1)*D,y+=(Math.abs(r+E-(C+I))+1)*D);if(0<=c)for(M=e[d].Mb.l;M.next();)C=M.value,C.Ia&&C.U.J!==b&&(D=co(C),I=C.Ke,E=C.Le,C=C.U.ba,s+=(Math.abs(m+I-(C+E))+1)*D,v+=(Math.abs(n+I-(C+E))+1)*D,y+=(Math.abs(r+I-(C+E))+1)*D);E=I=D=0;C=i[e[d].ha];M=j[e[d].ha];-1!==C&&(D+=Math.abs(C-m),I+=Math.abs(C-n),E+=Math.abs(C-r));-1!==M&&(D+=Math.abs(M-m),I+=Math.abs(M-n),E+=Math.abs(M-r));if(v<s||v===s&&I<D)l=k=h,e[d].ba=n;if(y<s||y===s&&E<D)l=k=h,
e[d].ba=r}}$n(a,b,e);a.normalize();return k}
function Vo(a,b,c){u&&(x.n(b,Y,"medianStraighten:unfixedLayer"),x.n(c,Y,"medianStraighten:direction"));for(var d=Yn(a,b),e=a.zd[b],g=Ao(a,b,c),i=[],c=0;c<e;c++)i[c]=g[c];for(g=h;g;){g=q;for(c=0;c<e;c++){var j=d[c].ba,k=Zn(a,d[c],h),l=Zn(a,d[c],q),m=0,n;-1===i[c]?0===c&&c===e-1?m=j:0===c?(n=d[c+1].ba,m=n-j===l+Zn(a,d[c+1],h)?j-1:j):c===e-1?(n=d[c-1].ba,m=j-n===k+Zn(a,d[c-1],q)?j+1:j):(n=d[c-1].ba,k=n+Zn(a,d[c-1],q)+k+1,n=d[c+1].ba,l=n-Zn(a,d[c+1],h)-l-1,m=(k+l)/2|0):0===c&&c===e-1?m=i[c]:0===c?(n=
d[c+1].ba,l=n-Zn(a,d[c+1],h)-l-1,m=Math.min(i[c],l)):c===e-1?(n=d[c-1].ba,k=n+Zn(a,d[c-1],q)+k+1,m=Math.max(i[c],k)):(n=d[c-1].ba,k=n+Zn(a,d[c-1],q)+k+1,n=d[c+1].ba,l=n-Zn(a,d[c+1],h)-l-1,k<i[c]&&i[c]<l?m=i[c]:k>=i[c]?m=k:l<=i[c]&&(m=l));m!==j&&(g=h,d[c].ba=m)}}$n(a,b,d);a.normalize()}
function Yo(a,b){u&&(x.n(b,Y,"packAux:column"),x.n(1,Y,"packAux:direction"));for(var c=h,d=a.B.oa.l,e;d.next();){e=d.value;var g=Zn(a,e,h),i=Zn(a,e,q);if(e.ba-g<=b&&e.ba+i>=b){c=q;break}}g=q;if(c)for(d.reset();d.next();)e=d.value,e.ba>b&&(e.ba-=1,g=h);return g}
function Zo(a,b){u&&(x.n(b,Y,"tightPackAux:column"),x.n(1,Y,"tightPackAux:direction"));var c=b,c=b+1,d,e=[],g=[];for(d=0;d<=a.hb;d++)e[d]=q,g[d]=q;for(var i=a.B.oa.l;i.next();){d=i.value;var j=d.ba-Zn(a,d,h),k=d.ba+Zn(a,d,q);j<=b&&k>=b&&(e[d.J]=h);j<=c&&k>=c&&(g[d.J]=h)}j=h;c=q;for(d=0;d<=a.hb;d++)j=j&&!(e[d]&&g[d]);if(j)for(i.reset();i.next();)d=i.value,d.ba>b&&(d.ba-=1,c=h);return c}
function Wo(a,b){u&&x.n(b,Y,"componentPack:direction");for(var c=0;c<=a.vb;c++)for(;Yo(a,c););a.normalize();for(c=0;c<a.vb;c++)for(;Zo(a,c););a.normalize();var d,e,g,i;if(0<b)for(c=0;c<=a.vb;c++){d=ho(a);e=ko(a);for(g=e+1;e<g;)g=e,$o(a,c,1),i=ko(a),i>e?io(a,d):i<e&&(e=i,d=ho(a))}if(0>b)for(c=a.vb;0<=c;c--){d=ho(a);e=ko(a);for(g=e+1;e<g;)g=e,$o(a,c,-1),i=ko(a),i>e?io(a,d):i<e&&(e=i,d=ho(a))}a.normalize()}
function $o(a,b,c){u&&(x.n(b,Y,"componentPackAux:column"),x.n(c,Y,"componentPackAux:direction"));a.Wf=0;for(var d=a.B.oa.l,e;d.next();)d.value.Qb=-1;if(0<c)for(d.reset();d.next();)e=d.value,e.ba-Zn(a,e,h)<=b&&(e.Qb=a.Wf);if(0>c)for(d.reset();d.next();)e=d.value,e.ba+Zn(a,e,q)>=b&&(e.Qb=a.Wf);a.Wf++;for(d.reset();d.next();)e=d.value,-1===e.Qb&&(Co(a,e,a.Wf,-1,h,h),a.Wf++);b=[];for(e=0;e<a.Wf*a.Wf;e++)b[e]=q;var g=[];for(e=0;e<(a.hb+1)*(a.vb+1);e++)g[e]=-1;for(d.reset();d.next();){e=d.value;for(var i=
e.J,j=Math.max(0,e.ba-Zn(a,e,h)),k=Math.min(a.vb,e.ba+Zn(a,e,q));j<=k;j++)g[i*(a.vb+1)+j]=e.Qb}for(e=0;e<=a.hb;e++){if(0<c)for(j=0;j<a.vb;j++)-1!==g[e*(a.vb+1)+j]&&(-1!==g[e*(a.vb+1)+j+1]&&g[e*(a.vb+1)+j]!==g[e*(a.vb+1)+j+1])&&(b[g[e*(a.vb+1)+j]*a.Wf+g[e*(a.vb+1)+j+1]]=h);if(0>c)for(j=a.vb;0<j;j--)-1!==g[e*(a.vb+1)+j]&&(-1!==g[e*(a.vb+1)+j-1]&&g[e*(a.vb+1)+j]!==g[e*(a.vb+1)+j-1])&&(b[g[e*(a.vb+1)+j]*a.Wf+g[e*(a.vb+1)+j-1]]=h)}g=[];for(e=0;e<a.Wf;e++)g[e]=h;i=new H("number");for(i.add(0);0!==i.count;)if(k=
i.o[i.count-1],i.bf(i.count-1),g[k]){g[k]=q;for(e=0;e<a.Wf;e++)b[k*a.Wf+e]&&i.Cc(0,e)}if(0<c)for(d.reset();d.next();)e=d.value,g[e.Qb]&&(e.ba-=1);if(0>c)for(d.reset();d.next();)e=d.value,g[e.Qb]&&(e.ba+=1)}Y.prototype.commitLayout=Y.prototype.Av=function(){if(this.Im){var a,b;270===this.ga?(a=Pb,b=Sb):90===this.ga?(a=Sb,b=Pb):180===this.ga?(a=Qb,b=Rb):(a=Rb,b=Qb);for(var c=this.B.rc.l,d;c.next();)d=c.value.Wa,d!==p&&(d.pb=a,d.tb=b)}this.commitNodes();this.Cs&&this.commitLinks()};
Y.prototype.commitNodes=Y.prototype.iz=function(){this.wh=[];this.Qg=[];this.kf=[];this.Ad=[];for(var a=0;a<=this.hb;a++)this.wh[a]=0,this.Qg[a]=0,this.kf[a]=0,this.Ad[a]=0;for(var a=this.B.oa.l,b,c;a.next();)b=a.value,c=b.J,this.wh[c]=Math.max(this.wh[c],eo(this,b,h)),this.Qg[c]=Math.max(this.Qg[c],eo(this,b,q));b=0;for(var d=this.Pd,e=0;e<=this.hb;e++)c=d,0>=this.wh[e]+this.Qg[e]&&(c=0),0<e&&(b+=c/2),90===this.ga||0===this.ga?(b+=this.Qg[e],this.kf[e]=b,b+=this.wh[e]):(b+=this.wh[e],this.kf[e]=
b,b+=this.Qg[e]),e<this.hb&&(b+=c/2),this.Ad[e]=b;d=this.sd.copy();for(e=0;e<=this.hb;e++)270===this.ga?(this.kf[e]=d.y+this.kf[e],this.Ad[e]=d.y+this.Ad[e]):90===this.ga?(this.kf[e]=d.y+b-this.kf[e],this.Ad[e]=d.y+b-this.Ad[e]):180===this.ga?(this.kf[e]=d.x+this.kf[e],this.Ad[e]=d.x+this.Ad[e]):(this.kf[e]=d.x+b-this.kf[e],this.Ad[e]=d.x+b-this.Ad[e]);for(a.reset();a.next();){b=a.value;c=b.J;var g=b.ba|0;270===this.ga||90===this.ga?(e=d.x+this.yd*g,c=this.kf[c]):(e=this.kf[c],c=d.y+this.yd*g);b.ua=
e;b.Ba=c;b.commit()}};
Y.prototype.commitLinks=Y.prototype.hz=function(){for(var a=this.B.rc.l,b,c;a.next();)c=a.value.Wa,"undefined"!==typeof c&&c!==p&&(c.rl(),c.fo(),c.Mi());for(a.reset();a.next();)c=a.value.Wa,"undefined"!==typeof c&&c!==p&&c.GA();for(a.reset();a.next();)if(b=a.value,c=b.Wa){c.rl();var d=c,e=d.ja,g=d.na,i=d.Lc,j=d.wd;if(b.Ia){if(c.Ef===mk&&4===c.ma){b.Cb&&(d=e,e=g,g=d,d=i,i=j,j=d);var k,l,m,n;if(b.Z.ba===b.U.ba)k=c.getLinkPoint(e,i,tm(c),h,q,g,j).copy(),l=c.getLinkPoint(g,j,um(c),q,q,e,i).copy(),m=new K((2*
k.x+l.x)/3,(2*k.y+l.y)/3),n=new K((k.x+2*l.x)/3,(k.y+2*l.y)/3),c.fo(),c.Fd(k),c.Fd(m),c.Fd(n),c.Fd(l);else{d=b=q;i!==p&&tm(c)===Cb&&(b=h);j!==p&&um(c)===Cb&&(d=h);if(b||d)k=c.p(0).copy(),m=c.p(1).copy(),n=c.p(2).copy(),l=c.p(3).copy();b&&(90===this.ga||270===this.ga?(m.x=k.x,m.y=(k.y+l.y)/2):(m.x=(k.x+l.x)/2,m.y=k.y),c.L(1,m),c.L(0,c.getLinkPoint(e,i,tm(c),h,q,g,j).copy()));d&&(90===this.ga||270===this.ga?(n.x=l.x,n.y=(k.y+l.y)/2):(n.x=(k.x+l.x)/2,n.y=l.y),c.L(2,n),c.L(3,c.getLinkPoint(g,j,um(c),
q,q,e,i).copy()))}}c.Mi()}else if(b.Z.J===b.U.J)c.Mi();else{var r=q,s=q,v,y=c.Sv+1;if(c.jc)s=h,v=c.ma,4<v&&c.points.removeRange(2,v-3);else if(c.Ef===mk)r=h,v=c.ma,4<v&&c.points.removeRange(2,v-3),y=2;else{v=c.ma;var C=tm(c)===Cb,D=um(c)===Cb;2<v&&C&&D?c.points.removeRange(1,v-2):3<v&&C&&!D?c.points.removeRange(1,v-3):3<v&&!C&&D?c.points.removeRange(2,v-2):4<v&&(!C&&!D)&&c.points.removeRange(2,v-3)}v=b.Z;var D=b.U,I;if(b.Cb){for(;D!==p&&v!==D;){I=C=p;for(var E=D.Ob.l;E.next()&&!(M=E.value,M.Wa===
b.Wa&&(C=M.Z,I=M.U,C.kb===p)););C!==v&&(M=c.p(y-1).copy(),E=new K(C.ua,C.Ba),s?180===this.ga||0===this.ga?2===y?(c.A(y++,new K(M.x,M.y)),c.A(y++,new K(M.x,E.y))):(I=I!==p?new K(I.ua,I.Ba):M.copy(),I.y!==E.y&&(I=this.Ad[C.J-1],c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y)))):2===y?(c.A(y++,new K(M.x,M.y)),c.A(y++,new K(E.x,M.y))):(I=I!==p?new K(I.ua,I.Ba):M.copy(),I.x!==E.x&&(I=this.Ad[C.J-1],c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I)))):2===y?r?(I=Math.max(10,this.wh[D.J]),O=Math.max(10,this.Qg[D.J]),
180===this.ga?(D=D.O.x,c.A(y++,new K(D-I,E.y)),c.A(y++,new K(D,E.y)),c.A(y++,new K(D+O,E.y))):90===this.ga?(D=D.O.y+D.O.height,c.A(y++,new K(E.x,D+O)),c.A(y++,new K(E.x,D)),c.A(y++,new K(E.x,D-I))):270===this.ga?(D=D.O.y,c.A(y++,new K(E.x,D-I)),c.A(y++,new K(E.x,D)),c.A(y++,new K(E.x,D+O))):(D=D.O.x+D.O.width,c.A(y++,new K(D+O,E.y)),c.A(y++,new K(D,E.y)),c.A(y++,new K(D-I,E.y)))):(c.A(y++,M),180===this.ga||0===this.ga?c.A(y++,new K(M.x,E.y)):c.A(y++,new K(E.x,M.y)),c.A(y++,new K(E.x,E.y))):(I=Math.max(10,
this.wh[C.J]),O=Math.max(10,this.Qg[C.J]),180===this.ga?(r&&c.A(y++,new K(E.x-I,E.y)),c.A(y++,E),r&&c.A(y++,new K(E.x+O,E.y))):90===this.ga?(r&&c.A(y++,new K(E.x,E.y+O)),c.A(y++,E),r&&c.A(y++,new K(E.x,E.y-I))):270===this.ga?(r&&c.A(y++,new K(E.x,E.y-I)),c.A(y++,E),r&&c.A(y++,new K(E.x,E.y+O))):(r&&c.A(y++,new K(E.x+O,E.y)),c.A(y++,E),r&&c.A(y++,new K(E.x-I,E.y)))));D=C}if(j===p||!um(c).K(Cb))M=c.p(y-1).copy(),E=c.p(y).copy(),s?(C=this.Qg[v.J],180===this.ga||0===this.ga?(s=M.y,s>=v.O.y&&s<=v.O.bottom&&
(D=v.ua+C,s=s<v.O.y+v.O.height/2?v.O.y-this.yd/2:v.O.bottom+this.yd/2,c.A(y++,new K(D,M.y)),c.A(y++,new K(D,s))),c.A(y++,new K(E.x,s))):(s=M.x,s>=v.O.x&&s<=v.O.right&&(D=v.Ba+C,s=s<v.O.x+v.O.width/2?v.O.x-this.yd/2:v.O.right+this.yd/2,c.A(y++,new K(M.x,D)),c.A(y++,new K(s,D))),c.A(y++,new K(s,E.y))),c.A(y++,E)):r?(I=Math.max(10,this.wh[v.J]),O=Math.max(10,this.Qg[v.J]),180===this.ga?(D=v.O.x+v.O.width,c.L(y-2,new K(D,M.y)),c.L(y-1,new K(D+O,M.y))):90===this.ga?(D=v.O.y,c.L(y-2,new K(M.x,D)),c.L(y-
1,new K(M.x,D-I))):270===this.ga?(D=v.O.y+v.O.height,c.L(y-2,new K(M.x,D)),c.L(y-1,new K(M.x,D+O))):(D=v.O.x,c.L(y-2,new K(D,M.y)),c.L(y-1,new K(D-I,M.y)))):(180===this.ga||0===this.ga?c.A(y++,new K(E.x,M.y)):c.A(y++,new K(M.x,E.y)),c.A(y++,E))}else{for(;v!==p&&v!==D;){I=C=p;v=v.Mb.l;for(var M;v.next()&&!(M=v.value,M.Wa===b.Wa&&(C=M.U,I=M.Z,I.kb!==p&&(I=p),C.kb===p)););var O;C!==D&&(M=c.p(y-1).copy(),E=new K(C.ua,C.Ba),s?180===this.ga||0===this.ga?(I=I!==p?new K(I.ua,I.Ba):M.copy(),I.y!==E.y&&(I=
this.Ad[C.J],2===y&&(I=0===this.ga?Math.max(I,M.x):Math.min(I,M.x)),c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y)))):(I=I!==p?new K(I.ua,I.Ba):M.copy(),I.x!==E.x&&(I=this.Ad[C.J],2===y&&(I=90===this.ga?Math.max(I,M.y):Math.min(I,M.y)),c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I)))):(I=Math.max(10,this.wh[C.J]),O=Math.max(10,this.Qg[C.J]),180===this.ga?(c.A(y++,new K(E.x+O,E.y)),r&&c.A(y++,E),c.A(y++,new K(E.x-I,E.y))):90===this.ga?(c.A(y++,new K(E.x,E.y-I)),r&&c.A(y++,E),c.A(y++,new K(E.x,E.y+O))):270===
this.ga?(c.A(y++,new K(E.x,E.y+O)),r&&c.A(y++,E),c.A(y++,new K(E.x,E.y-I))):(c.A(y++,new K(E.x-I,E.y)),r&&c.A(y++,E),c.A(y++,new K(E.x+O,E.y)))));v=C}s&&(M=c.p(y-1).copy(),E=c.p(y).copy(),180===this.ga||0===this.ga?M.y!==E.y&&(I=0===this.ga?Math.min(Math.max((E.x+M.x)/2,this.Ad[D.J]),E.x):Math.max(Math.min((E.x+M.x)/2,this.Ad[D.J]),E.x),c.A(y++,new K(I,M.y)),c.A(y++,new K(I,E.y))):M.x!==E.x&&(I=90===this.ga?Math.min(Math.max((E.y+M.y)/2,this.Ad[D.J]),E.y):Math.max(Math.min((E.y+M.y)/2,this.Ad[D.J]),
E.y),c.A(y++,new K(M.x,I)),c.A(y++,new K(E.x,I))))}d!==p&&r&&(i!==p&&(Ab(tm(c))&&(d=c.p(0).copy(),r=c.p(2).copy(),d.K(r)||c.L(1,new K((d.x+r.x)/2,(d.y+r.y)/2))),c.L(0,c.getLinkPoint(e,i,Cb,h,q,g,j))),j!==p&&(Ab(um(c))&&(d=c.p(c.ma-1),r=c.p(c.ma-3),d.K(r)||c.L(c.ma-2,new K((d.x+r.x)/2,(d.y+r.y)/2))),c.L(c.ma-1,c.getLinkPoint(g,j,Cb,q,q,e,i))));c.Mi();b.commit()}}e=new H(F);for(a=this.B.rc.l;a.next();)c=a.value.Wa,c!==p&&(c.jc&&!e.contains(c))&&e.add(c);if(0<e.count)if(90===this.ga||270===this.ga){u&&
x.i(e,H,Y,"adjustOverlapsH:routables");a=0;c=new H(ap);for(k=e.l;k.next();)if(g=k.value,g!==p&&g.jc)for(e=2;e<g.ma-3;e++)i=g.p(e).copy(),j=g.p(e+1).copy(),bp(i.y,j.y)&&!bp(i.x,j.x)&&(l=new ap,l.J=Math.floor(i.y/2),m=g.p(0).copy(),n=g.p(g.ma-1).copy(),l.Fb=m.x*m.x+m.y,l.Jd=n.x*n.x+n.y,l.ce=Math.min(i.x,j.x),l.Gd=Math.max(i.x,j.x),l.ha=e,l.Wa=g,e+2<g.ma&&(m=g.p(e-1).copy(),n=g.p(e+2).copy(),b=0,m.y<i.y?b=n.y<i.y?3:i.x<j.x?2:1:m.y>i.y&&(b=n.y>i.y?0:j.x<i.x?2:1),l.$h=b),c.add(l));if(1<c.count){c.sort(this.PE);
for(k=0;k<c.count;){e=c.o[k].J;for(l=k+1;l<c.count&&c.o[l].J===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.o[g].Gd;for(m=k+1;m<l&&c.o[m].ce<e;)e=Math.max(e,c.o[m].Gd),m++;i=m-g;if(1<i){c.Yo(this.nw,g,g+i);j=1;n=c.o[g].Jd;for(e=g;e<m;e++)b=c.o[e],b.Jd!==n&&(j++,n=b.Jd);c.Yo(this.OE,g,g+i);r=1;n=c.o[g].Fb;for(e=g;e<m;e++)b=c.o[e],b.Fb!==n&&(r++,n=b.Fb);j<r?(d=q,r=j,n=c.o[g].Jd,c.Yo(this.nw,g,g+i)):(d=h,n=c.o[g].Fb);y=0;for(e=g;e<m;e++){b=c.o[e];if((d?b.Fb:b.Jd)!==n)y++,n=d?b.Fb:b.Jd;g=b.Wa;i=g.p(b.ha).copy();
j=g.p(b.ha+1).copy();s=4*(y-(r-1)/2);if(g.Uh!==Df||cp(i.x,i.y+s,j.x,j.y+s))a++,g.rl(),g.L(b.ha,new K(i.x,i.y+s)),g.L(b.ha+1,new K(j.x,j.y+s)),g.Mi()}}g=m}k=l}}}else{u&&x.i(e,H,Y,"adjustOverlapsV:routables");a=0;c=new H(ap);for(k=e.l;k.next();)if(g=k.value,g!==p&&g.jc)for(e=2;e<g.ma-3;e++)i=g.p(e).copy(),j=g.p(e+1).copy(),bp(i.x,j.x)&&!bp(i.y,j.y)&&(l=new ap,l.J=Math.floor(i.x/2),m=g.p(0).copy(),n=g.p(g.ma-1).copy(),l.Fb=m.x+m.y*m.y,l.Jd=n.x+n.y*n.y,l.ce=Math.min(i.y,j.y),l.Gd=Math.max(i.y,j.y),l.ha=
e,l.Wa=g,e+2<g.ma&&(m=g.p(e-1).copy(),n=g.p(e+2).copy(),b=0,m.x<i.x?b=n.x<i.x?3:i.y<j.y?2:1:m.x>i.x&&(b=n.x>i.x?0:j.y<i.y?2:1),l.$h=b),c.add(l));if(1<c.count){c.sort(this.PE);for(k=0;k<c.count;){e=c.o[k].J;for(l=k+1;l<c.count&&c.o[l].J===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.o[g].Gd;for(m=k+1;m<l&&c.o[m].ce<e;)e=Math.max(e,c.o[m].Gd),m++;i=m-g;if(1<i){c.Yo(this.nw,g,g+i);j=1;n=c.o[g].Jd;for(e=g;e<m;e++)b=c.o[e],b.Jd!==n&&(j++,n=b.Jd);c.Yo(this.OE,g,g+i);r=1;n=c.o[g].Fb;for(e=g;e<m;e++)b=c.o[e],b.Fb!==
n&&(r++,n=b.Fb);j<r?(d=q,r=j,n=c.o[g].Jd,c.Yo(this.nw,g,g+i)):(d=h,n=c.o[g].Fb);y=0;for(e=g;e<m;e++){b=c.o[e];if((d?b.Fb:b.Jd)!==n)y++,n=d?b.Fb:b.Jd;g=b.Wa;i=g.p(b.ha).copy();j=g.p(b.ha+1).copy();s=4*(y-(r-1)/2);if(g.Uh!==Df||cp(i.x+s,i.y,j.x+s,j.y))a++,g.rl(),g.L(b.ha,new K(i.x+s,i.y)),g.L(b.ha+1,new K(j.x+s,j.y)),g.Mi()}}g=m}k=l}}}};function ap(){this.ha=this.Gd=this.ce=this.Jd=this.Fb=this.J=0;this.Wa=p;this.$h=0}x.jg(ap,{Pa:h,Fb:h,Jd:h,ce:h,Gd:h,index:h,link:h,$h:h});
Y.prototype.PE=function(a,b){return!(a instanceof ap)||!(b instanceof ap)||a===b?0:a.J<b.J?-1:a.J>b.J?1:a.ce<b.ce?-1:a.ce>b.ce?1:a.Gd<b.Gd?-1:a.Gd>b.Gd?1:0};Y.prototype.OE=function(a,b){return!(a instanceof ap)||!(b instanceof ap)||a===b?0:a.Fb<b.Fb?-1:a.Fb>b.Fb||a.$h<b.$h?1:a.$h>b.$h||a.ce<b.ce?-1:a.ce>b.ce?1:a.Gd<b.Gd?-1:a.Gd>b.Gd?1:0};
Y.prototype.nw=function(a,b){return!(a instanceof ap)||!(b instanceof ap)||a===b?0:a.Jd<b.Jd?-1:a.Jd>b.Jd||a.$h<b.$h?1:a.$h>b.$h||a.ce<b.ce?-1:a.ce>b.ce?1:a.Gd<b.Gd?-1:a.Gd>b.Gd?1:0};function bp(a,b){u&&(x.n(a,Y,"isApprox:a"),x.n(b,Y,"isApprox:b"));var c=a-b;return-1<c&&1>c}function cp(a,b,c,d){u&&(x.n(a,Y,"isUnoccupied2:px"),x.n(b,Y,"isUnoccupied2:py"),x.n(c,Y,"isUnoccupied2:qx"),x.n(d,Y,"isUnoccupied2:qy"));return h}
function Yn(a,b){var c,d=a.zd[b];if(d>=a.Sg.length){c=[];var e;for(e=0;e<a.Sg.length;e++)c[e]=a.Sg[e];a.Sg=c}"undefined"===typeof a.Sg[d]||a.Sg[d]===p?c=[]:(c=a.Sg[d],a.Sg[d]=p);var d=a.Rq[b],g;for(e=0;e<d.length;e++)g=d[e],g instanceof fo&&(c[g.ha]=g);return c}function $n(a,b,c){a.Sg[a.zd[b]]=c}x.g(Y,"layerSpacing",Y.prototype.Gs);x.defineProperty(Y,{Gs:"layerSpacing"},t("Pd"),function(a){this.Pd!==a&&("number"===typeof a&&0<=a)&&(this.Pd=a,this.I())});x.g(Y,"columnSpacing",Y.prototype.BG);
x.defineProperty(Y,{BG:"columnSpacing"},t("yd"),function(a){this.yd!==a&&("number"===typeof a&&0<=a)&&(this.yd=a,this.I())});x.g(Y,"direction",Y.prototype.direction);x.defineProperty(Y,{direction:"direction"},t("ga"),function(a){this.ga!==a&&"number"===typeof a&&(this.ga=a,this.I())});x.g(Y,"cycleRemoveOption",Y.prototype.XC);x.defineProperty(Y,{XC:"cycleRemoveOption"},t("Wm"),function(a){if(this.Wm!==a&&(u&&x.i(a,oa,Qn,"cycleRemoveOption"),a===Rn||a===Ln))this.Wm=a,this.I()});
x.g(Y,"layeringOption",Y.prototype.$D);x.defineProperty(Y,{$D:"layeringOption"},t("pn"),function(a){if(this.pn!==a&&(u&&x.i(a,oa,Qn,"layeringOption"),a===Mn||a===Do||a===Fo))this.pn=a,this.I()});x.g(Y,"initializeOption",Y.prototype.QD);x.defineProperty(Y,{QD:"initializeOption"},t("jn"),function(a){if(this.jn!==a&&(u&&x.i(a,oa,Qn,"initializeOption"),a===Nn||a===Lo||a===Jo))this.jn=a,this.I()});x.g(Y,"iterations",Y.prototype.GH);
x.defineProperty(Y,{GH:"iterations"},t("Pl"),function(a){u&&x.n(a,Qn,"iterations");this.Pl!==a&&("number"===typeof a&&0<=a)&&(this.Pl=a,this.I())});x.g(Y,"aggressiveOption",Y.prototype.AC);x.defineProperty(Y,{AC:"aggressiveOption"},t("Pm"),function(a){if(this.Pm!==a&&(u&&x.i(a,oa,Qn,"cycleRemoveOption"),a===Po||a===On||a===Qo))this.Pm=a,this.I()});x.g(Y,"packOption",Y.prototype.dI);x.defineProperty(Y,{dI:"packOption"},t("Ai"),function(a){this.Ai!==a&&("number"===typeof a&&0<=a&&8>a)&&(this.Ai=a,this.I())});
x.g(Y,"setsPortSpots",Y.prototype.Im);x.defineProperty(Y,{Im:"setsPortSpots"},t("Bh"),function(a){this.Bh!==a&&"boolean"===typeof a&&(this.Bh=a,this.I())});x.u(Y,{OL:"maxLayer"},t("hb"));x.u(Y,{ML:"maxIndex"},t("nu"));x.u(Y,{LL:"maxColumn"},t("vb"));x.u(Y,{UL:"minIndexLayer"},t("Jq"));x.u(Y,{NL:"maxIndexLayer"},t("mf"));var Ln;Y.CycleDepthFirst=Ln=x.s(Y,"CycleDepthFirst",0);var Rn;Y.CycleGreedy=Rn=x.s(Y,"CycleGreedy",1);var Mn;Y.LayerOptimalLinkLength=Mn=x.s(Y,"LayerOptimalLinkLength",0);var Do;
Y.LayerLongestPathSink=Do=x.s(Y,"LayerLongestPathSink",1);var Fo;Y.LayerLongestPathSource=Fo=x.s(Y,"LayerLongestPathSource",2);var Nn;Y.InitDepthFirstOut=Nn=x.s(Y,"InitDepthFirstOut",0);var Lo;Y.InitDepthFirstIn=Lo=x.s(Y,"InitDepthFirstIn",1);var Jo;Y.InitNaive=Jo=x.s(Y,"InitNaive",2);var Po;Y.AggressiveNone=Po=x.s(Y,"AggressiveNone",0);var On;Y.AggressiveLess=On=x.s(Y,"AggressiveLess",1);var Qo;Y.AggressiveMore=Qo=x.s(Y,"AggressiveMore",2);Y.PackNone=0;var Ro;Y.PackExpand=Ro=1;var So;
Y.PackStraighten=So=2;var Uo;Y.PackMedian=Uo=4;var Pn;Y.PackAll=Pn=7;function Qn(){Ym.call(this)}x.S("LayeredDigraphNetwork",Qn);x.Ja(Qn,Ym);Qn.prototype.createVertex=Qn.prototype.Sj=function(){return new fo};Qn.prototype.createEdge=Qn.prototype.jo=function(){return new Wn};function fo(){bn.call(this);this.ha=this.ba=this.J=-1;this.Ia=q;this.Qb=this.cn=this.wk=NaN;this.zj=p;this.wl=0;this.Xx=this.Yx=f}x.S("LayeredDigraphVertex",fo);x.Ja(fo,bn);x.g(fo,"layer",fo.prototype.Pa);
x.defineProperty(fo,{Pa:"layer"},t("J"),ba("J"));x.g(fo,"column",fo.prototype.Kc);x.defineProperty(fo,{Kc:"column"},t("ba"),ba("ba"));x.g(fo,"index",fo.prototype.index);x.defineProperty(fo,{index:"index"},t("ha"),ba("ha"));x.g(fo,"valid",fo.prototype.valid);x.defineProperty(fo,{valid:"valid"},t("Ia"),ba("Ia"));x.g(fo,"discover",fo.prototype.NG);x.defineProperty(fo,{NG:"discover"},t("wk"),ba("wk"));x.g(fo,"finish",fo.prototype.finish);x.defineProperty(fo,{finish:"finish"},t("cn"),ba("cn"));
x.g(fo,"component",fo.prototype.CG);x.defineProperty(fo,{CG:"component"},t("Qb"),ba("Qb"));x.g(fo,"near",fo.prototype.VH);x.defineProperty(fo,{VH:"near"},t("zj"),function(a){a!==p&&x.i(a,fo,fo,"layeredDigraphVertex");this.zj=a});function Wn(){cn.call(this);this.Qp=this.Cb=this.Ia=q;this.vf=this.tf=NaN;this.Le=this.Ke=0}x.S("LayeredDigraphEdge",Wn);x.Ja(Wn,cn);x.g(Wn,"valid",Wn.prototype.valid);x.defineProperty(Wn,{valid:"valid"},t("Ia"),ba("Ia"));x.g(Wn,"rev",Wn.prototype.rev);
x.defineProperty(Wn,{rev:"rev"},t("Cb"),ba("Cb"));x.g(Wn,"forest",Wn.prototype.fH);x.defineProperty(Wn,{fH:"forest"},t("Qp"),ba("Qp"));x.g(Wn,"portFromPos",Wn.prototype.gI);x.defineProperty(Wn,{gI:"portFromPos"},t("tf"),ba("tf"));x.g(Wn,"portToPos",Wn.prototype.iI);x.defineProperty(Wn,{iI:"portToPos"},t("vf"),ba("vf"));x.g(Wn,"portFromColOffset",Wn.prototype.fI);x.defineProperty(Wn,{fI:"portFromColOffset"},t("Ke"),ba("Ke"));x.g(Wn,"portToColOffset",Wn.prototype.hI);
x.defineProperty(Wn,{hI:"portToColOffset"},t("Le"),ba("Le"));function W(){Yh.call(this);this.od=new qa(A);this.zh=dp;this.jf=ep;this.Dr=fp;this.$c=gp;this.Qf=new cb(10,10);this.la=new Z;this.ka=new Z}x.S("TreeLayout",W);x.Ja(W,Yh);W.prototype.cloneProtected=W.prototype.Db=function(a){Yh.prototype.Db.call(this,a);a.zh=this.zh;a.Dr=this.Dr;a.$c=this.$c;a.Qf=this.Qf.copy();hp(a.la,this.la);hp(a.ka,this.ka)};W.prototype.createNetwork=W.prototype.Fv=function(){var a=new ip;Zm(a,this);return a};
W.prototype.makeNetwork=W.prototype.NH=function(a){var b=this.createNetwork();a instanceof w?(jp(this,b,a.ol,h),jp(this,b,a.links,h)):a instanceof B?jp(this,b,a.Ec,q):jp(this,b,a.l,q);return b};
function jp(a,b,c,d){for(c=c.l;c.next();){var e=c.value;if(e instanceof A&&e.as()&&"Comment"!==e.Vc&&(!d||e.Ds))e.Xi||(e instanceof B&&e.Nb===p?jp(a,b,e.Ec,q):b.Tn(e))}for(c.reset();c.next();)if(e=c.value,e instanceof F&&e.as()&&"Comment"!==e.Vc&&(!d||e.Ds)){var g=e.ja,a=e.na;if(!(g===p||a===p||g===a)&&"Comment"!==g.Vc&&"Comment"!==a.Vc)g=b.Ov(g),a=b.Ov(a),g!==p&&a!==p&&b.Cm(g,a,e)}}
W.prototype.doLayout=W.prototype.gs=function(a){this.Xc===p&&(this.Xc=this.makeNetwork(a));this.qe!==kp&&(this.sd=an(this,this.sd));var b=this.h;b===p&&a instanceof w&&(b=a);this.jf=this.path===dp&&b!==p?b.ed?ep:lp:this.path===dp?ep:this.path;if(0<this.B.oa.count){this.B.Iv();for(b=this.B.oa.l;b.next();)a=b.value,a.Ek=q,a.Ql=0,a.lb=p,a.dc=[];for(b=this.od.l;b.next();){var c=b.value,a=this.B.Ve(c);a===p&&this.od.remove(c)}if(0===this.od.count){for(a=this.B.oa.l;a.next();)switch(b=a.value,this.jf){case ep:0===
b.Ob.count&&this.od.add(b.kb);break;case lp:0===b.Mb.count&&this.od.add(b.kb);break;default:x.m("Unhandled path value "+this.jf.toString())}if(0===this.od.count){a=999999;b=p;for(c=this.B.oa.l;c.next();){var d=c.value;switch(this.jf){case ep:d.Ob.count<a&&(a=d.Ob.count,b=d);break;case lp:d.Mb.count<a&&(a=d.Mb.count,b=d);break;default:x.m("Unhandled path value "+this.jf.toString())}}b!==p&&this.od.add(b.kb)}}for(b=this.od.l;b.next();)c=b.value,a=this.B.Ve(c),a!==p&&!a.Ek&&(a.Ek=h,mp(this,a));for(a=
this.od.l;a.next();)b=this.B.Ve(a.value),np(this,b);for(a=this.od.l;a.next();)b=this.B.Ve(a.value),op(this,b);for(a=this.od.l;a.next();)pp(this,this.B.Ve(a.value));for(a=this.B.oa.l;a.next();)this.addComments(a.value);for(a=this.od.l;a.next();)qp(this,this.B.Ve(a.value));if(this.$c===kp)for(a=this.od.l;a.next();)d=a.value,b=this.B.Ve(d),d=d.position,c=d.x,d=d.y,isFinite(c)||(c=0),isFinite(d)||(d=0),rp(this,b,c,d);else for(var a=this.sd,c=a.x,e=a.y,a=this.od.l;a.next();)if(d=a.value,b=this.B.Ve(d),
b!==p)switch(rp(this,b,c+b.Ha.x,e+b.Ha.y),this.$c){case gp:e+=b.Ua.height+this.Qf.height;break;case sp:c+=b.Ua.width+this.Qf.width;break;default:x.m("Unhandled arrangement value "+this.$c.toString())}this.updateParts()}this.Xc=p;this.od=new qa(A);this.Ye=h};
function mp(a,b){u&&x.i(b,Z,W,"walkTree:v");if(b!==p){switch(a.jf){case ep:if(0<b.Mb.count){for(var c=new H(Z),d=b.MG;d.next();){var e=d.value;tp(a,b,e)&&c.add(e)}0<c.count&&(b.dc=c.Eg())}break;case lp:if(0<b.Ob.count){c=new H(Z);for(d=b.BI;d.next();)e=d.value,tp(a,b,e)&&c.add(e);0<c.count&&(b.dc=c.Eg())}break;default:x.m("Unhandled path value"+a.jf.toString())}for(var c=b.dc,d=c.length,g=0;g<d;g++)e=c[g],e.Ek=h,e.Ql=b.Ql+1,e.lb=b,a.od.remove(e.kb);for(g=0;g<d;g++)e=c[g],mp(a,e)}}
function tp(a,b,c){u&&x.i(b,Z,W,"walkOK:v");u&&x.i(c,Z,W,"walkOK:c");if(c.Ek){var d;u&&x.i(c,Z,W,"isAncestor:a");u&&x.i(b,Z,W,"isAncestor:b");if(b===p)d=q;else{for(d=b.lb;d!==p&&d!==c;)d=d.lb;d=d===c}if(d||c.Ql>b.Ql)return q;a.removeChild(c.lb,c)}return h}
W.prototype.removeChild=function(a,b){u&&x.i(a,Z,W,"removeChild:p");u&&x.i(b,Z,W,"removeChild:c");if(a!==p&&b!==p){for(var c=a.dc,d=0,e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){for(var d=Array(c.length-d),g=0,e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.dc=d}}};
function np(a,b){u&&x.i(b,Z,W,"initializeTree:v");if(b!==p){u&&x.i(b,Z,W,"initializeTreeVertexValues:v");var c=up(a,b);hp(b,c);if(b.lb!==p&&b.lb.Ga===vp){for(var c=b.angle,d=b.lb.dc,e=0;e<d.length&&b!==d[e];)e++;0===e%2?e!==d.length-1&&(c=90===c?180:180===c?270:270===c?180:270):c=90===c?0:180===c?90:270===c?0:90;b.angle=c}b.Ek=h;b.Ga===vp&&a.XE(b);for(var c=0,d=b.lm,e=0,g=b.dc,i=g.length,j=0;j<i;j++){var k=g[j];np(a,k);c+=k.Lt+1;d=Math.max(d,k.mu);e=Math.max(e,k.si)}b.Lt=c;b.mu=d;b.si=0<d?e+1:0}}
function up(a,b){u&&x.i(b,Z,W,"mom:v");switch(a.Dr){default:case fp:return b.lb!==p?b.lb:a.la;case wp:return b.lb===p?a.la:b.lb.lb===p?a.ka:b.lb;case xp:if(b.lb!==p)return b.lb.lb!==p?b.lb.lb:a.ka;case yp:var c=h;if(0===b.lm)c=q;else for(var d=b.dc,e=d.length,g=0;g<e;g++)if(0<d[g].lm){c=q;break}return c&&b.lb!==p?a.ka:b.lb!==p?b.lb:a.la}}function op(a,b){u&&x.i(b,Z,W,"assignTree:v");if(b!==p){a.assignTreeVertexValues(b);for(var c=b.dc,d=c.length,e=0;e<d;e++)op(a,c[e])}}
W.prototype.assignTreeVertexValues=W.prototype.iJ=aa();function pp(a,b){u&&x.i(b,Z,W,"sortTree:v");if(b!==p){b.Ga!==vp&&a.XE(b);for(var c=b.dc,d=c.length,e=0;e<d;e++)pp(a,c[e])}}W.prototype.sortTreeVertexChildren=W.prototype.XE=function(a){u&&x.i(a,Z,W,"sortTreeVertexChildren:v");switch(a.zc){case zp:break;case Ap:a.dc.reverse();break;case Bp:a.dc.sort(a.wc);break;case Cp:a.dc.sort(a.wc);a.dc.reverse();break;default:x.m("Unhandled sorting value "+a.zc.toString())}};
W.prototype.addComments=W.prototype.ZF=function(a){u&&x.i(a,Z,W,"addComments:v");var b=a.tc,c=a.lb,d=0,e=Dp,e=q;c!==p&&(d=c.tc,e=c.Ga,e=Ep(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.lm,g=new L,i=g.width,g=g.height,j=0,k=a.Md;if(a.kb!==p)for(var l=a.kb.pD();l.next();){var m=l.value;"Comment"===m.Vc&&m.sb()&&(a.Nd===p&&(a.Nd=[]),a.Nd.push(m),m.Ri(),m=m.Da,b&&!c||!e&&!d&&c||e&&d&&c?(i=Math.max(i,m.width),g+=m.height+Math.abs(j)):(i+=m.width+Math.abs(j),g=Math.max(g,m.height)),j=k)}a.Nd!==p&&
(b&&!c||!e&&!d&&c||e&&d&&c?(i+=Math.abs(a.vc),g=Math.max(0,g-a.height)):(g+=Math.abs(a.vc),i=Math.max(0,i-a.width)),a.Lb=new L(0,0,a.O.width+i,a.O.height+g))};function Ep(a){return a===Fp||a===vp||a===Gp||a===Hp}function Ip(a){return a===Fp||a===vp}function Jp(a){u&&x.i(a,Z,W,"isLeftSideBus:v");var b=a.lb;if(b!==p){var c=b.Jb;if(Ep(c)){if(Ip(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===Gp)return h}}return q}
W.prototype.layoutComments=W.prototype.GL=function(a){u&&x.i(a,Z,W,"layoutComments:v");if(a.Nd!==p){var b=a.hh.Da,c=a.lb,d=a.tc,e=0,g=Dp,g=q;c!==p&&(e=c.tc,g=c.Ga,g=Ep(g));for(var d=90===d||270===d,i=90===e||270===e,j=0===a.lm,k=Jp(a),l=0,m=a.Nd,n=m.length,r=0;r<n;r++){var c=m[r],s=c.Da;if(d&&!j||!g&&!i&&j||g&&i&&j){if(135<e&&!g||i&&k)if(0<=a.vc){c.location=new K(a.O.x-a.vc-s.width,a.O.y+l);for(var v=c.Hf();v.next();)c=v.value,c.pb=Qb,c.tb=Rb}else{c.location=new K(a.O.x+2*a.M.x-a.vc,a.O.y+l);for(v=
c.Hf();v.next();)c=v.value,c.pb=Rb,c.tb=Qb}else if(0<=a.vc){c.location=new K(a.O.x+2*a.M.x+a.vc,a.O.y+l);for(v=c.Hf();v.next();)c=v.value,c.pb=Rb,c.tb=Qb}else{c.location=new K(a.O.x+a.vc-s.width,a.O.y+l);for(v=c.Hf();v.next();)c=v.value,c.pb=Qb,c.tb=Rb}l=0<=a.Md?l+(s.height+a.Md):l+(a.Md-s.height)}else{if(135<e&&!g||!i&&k)if(0<=a.vc){c.location=new K(a.O.x+l,a.O.y-a.vc-s.height);for(v=c.Hf();v.next();)c=v.value,c.pb=Pb,c.tb=Sb}else{c.location=new K(a.O.x+l,a.O.y+2*a.M.y-a.vc);for(v=c.Hf();v.next();)c=
v.value,c.pb=Sb,c.tb=Pb}else if(0<=a.vc){c.location=new K(a.O.x+l,a.O.y+2*a.M.y+a.vc);for(v=c.Hf();v.next();)c=v.value,c.pb=Sb,c.tb=Pb}else{c.location=new K(a.O.x+l,a.O.y+a.vc-s.height);for(v=c.Hf();v.next();)c=v.value,c.pb=Pb,c.tb=Sb}l=0<=a.Md?l+(s.width+a.Md):l+(a.Md-s.width)}}b=l-a.Md-(d?b.height:b.width);if(this.jf===ep)for(a=a.Mb;a.next();){if(e=a.value,(c=e.link)&&c.Uh!==Df)c.fl=0<b?b:NaN}else for(a=a.Ob;a.next();)if(e=a.value,(c=e.link)&&c.Uh!==Df)c.sl=0<b?b:NaN}};
function qp(a,b){u&&x.i(b,Z,W,"layoutTree:v");if(b!==p){for(var c=b.dc,d=c.length,e=0;e<d;e++)qp(a,c[e]);switch(b.Ig){case Kp:Lp(a,b);break;case Mp:if(b.Ga===vp)Lp(a,b);else if(u&&x.i(b,Z,W,"layoutTreeBlock:v"),0===b.lm){var e=b.lb,c=q,d=0,g=Dp;e!==p&&(d=e.tc,g=e.Ga,c=Ep(g));e=Jp(b);b.ca.W(0,0);b.Ua.W(b.width,b.height);b.lb!==p&&b.Nd!==p&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ha.W(b.width-2*b.M.x,0):b.Ha.W(0,b.height-2*b.M.y):b.Ha.W(0,0);b.tq=p;b.hr=p}else{for(var i=Np(b),
c=90===i||270===i,j=0,k=b.dc,l=k.length,m=0;m<l;m++)var n=k[m],j=Math.max(j,c?n.Ua.width:n.Ua.height);var r=b.Ga,e=r===Op,s=r===Pp,v=Ep(r),y=Math.max(0,b.Fg),d=Qp(b),C=b.Dd,D=Rp(b),I=b.Ne,E=0;if(e||s||b.Ok||b.Pk&&1===b.si)E=Math.max(0,b.pd);var e=b.width,g=b.height,M=0,O=0,X=0,sa=p,ka=p,va=0,Fa=0,Ga=0,Za=0,qb=0,Wa=0,Ia=0,eb=0,n=0;v&&!Ip(r)&&135<i&&k.reverse();if(Ip(r))if(1<l)for(m=0;m<l;m++)0===m%2&&m!==l-1?eb=Math.max(eb,c?k[m].Ua.width:k[m].Ua.height):0!==m%2&&(n=Math.max(n,c?k[m].Ua.width:k[m].Ua.height));
else 1===l&&(eb=c?k[0].Ua.width:k[0].Ua.height);if(v){switch(r){case Fp:Fa=135>i?Sp(b,k,eb,M,O):Tp(b,k,eb,M,O);eb=Fa[0];M=Fa[1];O=Fa[2];break;case Gp:for(m=0;m<l;m++){var n=k[m],Va=n.Ua,sa=0===Wa?0:I;c?(n.ca.W(j-Va.width,Za+sa),M=Math.max(M,Va.width),O=Math.max(O,Za+sa+Va.height),Za+=sa+Va.height):(n.ca.W(Ga+sa,j-Va.height),M=Math.max(M,Ga+sa+Va.width),O=Math.max(O,Va.height),Ga+=sa+Va.width);Wa++}break;case Hp:for(m=0;m<l;m++)n=k[m],Va=n.Ua,sa=0===Wa?0:I,c?(n.ca.W(C/2+b.M.x,Za+sa),M=Math.max(M,Va.width),
O=Math.max(O,Za+sa+Va.height),Za+=sa+Va.height):(n.ca.W(Ga+sa,C/2+b.M.y),M=Math.max(M,Ga+sa+Va.width),O=Math.max(O,Va.height),Ga+=sa+Va.width),Wa++}sa=[];ka=[];c?(sa[0]=new K(0,0),sa[1]=new K(0,O),ka[0]=new K(M,0)):(sa[0]=new K(0,0),sa[1]=new K(M,0),ka[0]=new K(0,O));ka[1]=new K(M,O)}else for(m=0;m<l;m++){n=k[m];Va=n.Ua;if(c){0<y&&(0<Wa&&Ga+C+Va.width>y)&&(Ga<j&&Up(b,r,j-Ga,0,Ia,m-1),qb++,Wa=0,Ia=m,X=O,Ga=0,Za=135<i?-O-I:O+I);Vp(a,n,0,Za);var mb=0;if(0===Wa){if(sa=n.tq,ka=n.hr,va=Va.width,Fa=Va.height,
sa===p||ka===p||i!==Np(n))sa=[],ka=[],sa[0]=new K(0,0),sa[1]=new K(0,Fa),ka[0]=new K(va,0),ka[1]=new K(va,Fa)}else Fa=Wp(b,n,sa,ka,va,Fa),mb=Fa[0],sa=Fa[1],ka=Fa[2],va=Fa[3],Fa=Fa[4],Ga<Va.width&&0>mb&&(Xp(b,-mb,0,Ia,m-1),Yp(sa,-mb,0),Yp(ka,-mb,0),mb=0);n.ca.W(mb,Za);M=Math.max(M,va);O=Math.max(O,X+(0===qb?0:I)+Va.height);Ga=va}else{0<y&&(0<Wa&&Za+C+Va.height>y)&&(Za<j&&Up(b,r,0,j-Za,Ia,m-1),qb++,Wa=0,Ia=m,X=M,Za=0,Ga=135<i?-M-I:M+I);Vp(a,n,Ga,0);mb=0;if(0===Wa){if(sa=n.tq,ka=n.hr,va=Va.width,Fa=
Va.height,sa===p||ka===p||i!==Np(n))sa=[],ka=[],sa[0]=new K(0,0),sa[1]=new K(va,0),ka[0]=new K(0,Fa),ka[1]=new K(va,Fa)}else Fa=Wp(b,n,sa,ka,va,Fa),mb=Fa[0],sa=Fa[1],ka=Fa[2],va=Fa[3],Fa=Fa[4],Za<Va.height&&0>mb&&(Xp(b,0,-mb,Ia,m-1),Yp(sa,0,-mb),Yp(ka,0,-mb),mb=0);n.ca.W(Ga,mb);O=Math.max(O,Fa);M=Math.max(M,X+(0===qb?0:I)+Va.width);Za=Fa}Wa++}0<qb&&(c?(O+=Math.max(0,d),Ga<M&&Up(b,r,M-Ga,0,Ia,l-1),0<E&&(s||Xp(b,E,0,0,l-1),M+=E)):(M+=Math.max(0,d),Za<O&&Up(b,r,0,O-Za,Ia,l-1),0<E&&(s||Xp(b,0,E,0,l-1),
O+=E)));s=j=0;switch(r){case Zp:c?j+=M/2-b.M.x-D/2:s+=O/2-b.M.y-D/2;break;case Dp:0<qb?c?j+=M/2-b.M.x-D/2:s+=O/2-b.M.y-D/2:c?(m=k[0].ca.x+k[0].Ha.x,eb=k[l-1].ca.x+k[l-1].Ha.x+2*k[l-1].M.x,j+=m+(eb-m)/2-b.M.x-D/2):(m=k[0].ca.y+k[0].Ha.y,eb=k[l-1].ca.y+k[l-1].Ha.y+2*k[l-1].M.y,s+=m+(eb-m)/2-b.M.y-D/2);break;case Op:c?(j-=D,M+=D):(s-=D,O+=D);break;case Pp:c?(j+=M-b.width+D,M+=D):(s+=O-b.height+D,O+=D);break;case Fp:c?j=1<l?j+(eb+C/2-b.M.x):j+(k[0].M.x-b.M.x+k[0].Ha.x):s=1<l?s+(eb+C/2-b.M.y):s+(k[0].M.y-
b.M.y+k[0].Ha.y);break;case Gp:c?j+=M+C/2-b.M.x:s+=O+C/2-b.M.y;break;case Hp:break;default:x.m("Unhandled alignment value "+r.toString())}for(m=0;m<l;m++)n=k[m],c?n.ca.W(n.ca.x+n.Ha.x-j,n.ca.y+(135<i?(v?-O:-n.Ua.height)+n.Ha.y-d:g+d+n.Ha.y)):n.ca.W(n.ca.x+(135<i?(v?-M:-n.Ua.width)+n.Ha.x-d:e+d+n.Ha.x),n.ca.y+n.Ha.y-s);l=k=0;v?c?(M=$p(b,M,j),0>j&&(j=0),135<i&&(s+=O+d),O+=g+d,r===Hp&&(k+=C/2+b.M.x),l+=g+d):(135<i&&(j+=M+d),M+=e+d,O=aq(b,O,s),0>s&&(s=0),r===Hp&&(l+=C/2+b.M.y),k+=e+d):c?(b.Nd===p?e>M&&
(r=bq(r,e-M,0),k=r[0],l=r[1],M=e,j=0):M=$p(b,M,j),0>j&&(k-=j,j=0),135<i&&(s+=O+d),O=Math.max(Math.max(O,g),O+g+d),l+=g+d):(135<i&&(j+=M+d),M=Math.max(Math.max(M,e),M+e+d),b.Nd===p?g>O&&(r=bq(r,0,g-O),k=r[0],l=r[1],O=g,s=0):O=aq(b,O,s),0>s&&(l-=s,s=0),k+=e+d);if(0<qb)i=[],r=[],c?(i[2]=new K(0,g+d),i[3]=new K(i[2].x,O),r[2]=new K(M,i[2].y),r[3]=new K(r[2].x,i[3].y)):(i[2]=new K(e+d,0),i[3]=new K(M,i[2].y),r[2]=new K(i[2].x,O),r[3]=new K(i[3].x,r[2].y));else{i=[];r=[];for(m=0;m<sa.length;m++)v=sa[m],
i[m+2]=new K(v.x+k,v.y+l);for(m=0;m<ka.length;m++)v=ka[m],r[m+2]=new K(v.x+k,v.y+l)}c?(i[0]=new K(j,0),i[1]=new K(i[0].x,g),i[2].y<i[1].y&&(i[2].x>i[0].x?i[2]=i[1].copy():i[1].Ya(i[2])),i[3].y<i[2].y&&(i[3].x>i[0].x?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new K(j+e,0),r[1]=new K(r[0].x,g),r[2].y<r[1].y&&(r[2].x<r[0].x?r[2]=r[1].copy():r[1].Ya(r[2])),r[3].y<r[2].y&&(r[3].x<r[0].x?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].y-=d/2,r[2].y-=d/2):(i[0]=new K(0,s),i[1]=new K(e,i[0].y),i[2].x<i[1].x&&(i[2].y>
i[0].y?i[2]=i[1].copy():i[1].Ya(i[2])),i[3].x<i[2].x&&(i[3].y>i[0].y?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new K(0,s+g),r[1]=new K(e,r[0].y),r[2].x<r[1].x&&(r[2].y<r[0].y?r[2]=r[1].copy():r[1].Ya(r[2])),r[3].x<r[2].x&&(r[3].y<r[0].y?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].x-=d/2,r[2].x-=d/2);b.tq=i;b.hr=r;b.Ha.W(j,s);b.Ua.W(M,O)}break;default:x.m("Unhandled compaction value "+b.Ig.toString())}}}
function Lp(a,b){u&&x.i(b,Z,W,"layoutTreeNone:v");if(0===b.lm){var c=q,d=0,e=Dp;b.lb!==p&&(d=b.lb.tc,e=b.lb.Ga,c=Ep(e));e=Jp(b);b.ca.W(0,0);b.Ua.W(b.width,b.height);b.lb!==p&&b.Nd!==p&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ha.W(b.width-2*b.M.x,0):b.Ha.W(0,b.height-2*b.M.y):b.Ha.W(0,0)}else{for(var c=Np(b),d=90===c||270===c,g=0,e=b.dc,i=e.length,j=0;j<i;j++)var k=e[j],g=Math.max(g,d?k.Ua.width:k.Ua.height);var l=b.Ga,m=l===Op,n=l===Pp,r=Ep(l),s=Math.max(0,b.Fg),v=Qp(b),y=
b.Dd,C=Rp(b),D=m||n?0:C/2,I=b.Ne,E=0;if(m||n||b.Ok||b.Pk&&1===b.si)E=Math.max(0,b.pd);var m=b.width,M=b.height,O=0,X=0,sa=0,ka=0,va=0,Fa=0,Ga=0,Za=0,qb=0,Wa=0;r&&!Ip(l)&&135<c&&e.reverse();if(Ip(l))if(1<i)for(j=0;j<i;j++){var k=e[j],Ia=k.Ua;0===j%2&&j!==i-1?qb=Math.max(qb,(d?Ia.width:Ia.height)+cq(k)-y):0!==j%2&&(Wa=Math.max(Wa,(d?Ia.width:Ia.height)+cq(k)-y))}else 1===i&&(qb=d?e[0].Ua.width:e[0].Ua.height);if(r)switch(l){case Fp:case vp:X=135>c?Sp(b,e,qb,O,X):Tp(b,e,qb,O,X);qb=X[0];O=X[1];X=X[2];
break;case Gp:for(j=0;j<i;j++)k=e[j],Ia=k.Ua,s=0===Ga?0:I,d?(k.ca.W(g-Ia.width,va+s),O=Math.max(O,Ia.width),X=Math.max(X,va+s+Ia.height),va+=s+Ia.height):(k.ca.W(ka+s,g-Ia.height),O=Math.max(O,ka+s+Ia.width),X=Math.max(X,Ia.height),ka+=s+Ia.width),Ga++;break;case Hp:for(g=0;g<i;g++)k=e[g],Ia=k.Ua,s=0===Ga?0:I,d?(k.ca.W(y/2+b.M.x,va+s),O=Math.max(O,Ia.width),X=Math.max(X,va+s+Ia.height),va+=s+Ia.height):(k.ca.W(ka+s,y/2+b.M.y),O=Math.max(O,ka+s+Ia.width),X=Math.max(X,Ia.height),ka+=s+Ia.width),Ga++}else for(j=
0;j<i;j++)k=e[j],Ia=k.Ua,d?(0<s&&(0<Ga&&ka+y+Ia.width>s)&&(ka<g&&Up(b,l,g-ka,0,Za,j-1),Fa++,Ga=0,Za=j,sa=X,ka=0,va=135<c?-X-I:X+I),Wa=0===Ga?D:y,Vp(a,k,0,va),k.ca.W(ka+Wa,va),O=Math.max(O,ka+Wa+Ia.width),X=Math.max(X,sa+(0===Fa?0:I)+Ia.height),ka+=Wa+Ia.width):(0<s&&(0<Ga&&va+y+Ia.height>s)&&(va<g&&Up(b,l,0,g-va,Za,j-1),Fa++,Ga=0,Za=j,sa=O,va=0,ka=135<c?-O-I:O+I),Wa=0===Ga?D:y,Vp(a,k,ka,0),k.ca.W(ka,va+Wa),X=Math.max(X,va+Wa+Ia.height),O=Math.max(O,sa+(0===Fa?0:I)+Ia.width),va+=Wa+Ia.height),Ga++;
0<Fa&&(d?(X+=Math.max(0,v),ka<O&&Up(b,l,O-ka,0,Za,i-1),0<E&&(n||Xp(b,E,0,0,i-1),O+=E)):(O+=Math.max(0,v),va<X&&Up(b,l,0,X-va,Za,i-1),0<E&&(n||Xp(b,0,E,0,i-1),X+=E)));E=n=0;switch(l){case Zp:d?n+=O/2-b.M.x-C/2:E+=X/2-b.M.y-C/2;break;case Dp:0<Fa?d?n+=O/2-b.M.x-C/2:E+=X/2-b.M.y-C/2:d?(l=e[0].ca.x+e[0].Ha.x,y=e[i-1].ca.x+e[i-1].Ha.x+2*e[i-1].M.x,n+=l+(y-l)/2-b.M.x-C/2):(l=e[0].ca.y+e[0].Ha.y,y=e[i-1].ca.y+e[i-1].Ha.y+2*e[i-1].M.y,E+=l+(y-l)/2-b.M.y-C/2);break;case Op:d?(n-=C,O+=C):(E-=C,X+=C);break;
case Pp:d?(n+=O-b.width+C,O+=C):(E+=X-b.height+C,X+=C);break;case Fp:case vp:d?n=1<i?n+(qb+y/2-b.M.x):n+(e[0].M.x-b.M.x+e[0].Ha.x):E=1<i?E+(qb+y/2-b.M.y):E+(e[0].M.y-b.M.y+e[0].Ha.y);break;case Gp:d?n+=O+y/2-b.M.x:E+=X+y/2-b.M.y;break;case Hp:break;default:x.m("Unhandled alignment value "+l.toString())}for(j=0;j<i;j++)k=e[j],d?k.ca.W(k.ca.x+k.Ha.x-n,k.ca.y+(135<c?(r?-X:-k.Ua.height)+k.Ha.y-v:M+v+k.Ha.y)):k.ca.W(k.ca.x+(135<c?(r?-O:-k.Ua.width)+k.Ha.x-v:m+v+k.Ha.x),k.ca.y+k.Ha.y-E);d?(O=$p(b,O,n),
0>n&&(n=0),135<c&&(E+=X+v),X+=M+v):(135<c&&(n+=O+v),O+=m+v,X=aq(b,X,E),0>E&&(E=0));b.Ha.W(n,E);b.Ua.W(O,X)}}
function Sp(a,b,c,d,e){u&&x.i(a,Z,W,"layoutBusChildrenPosDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var i=b[0],d=i.Ua.width,e=i.Ua.height;return[c,d,e]}for(var j=a.Dd,k=a.Ne,l=90===Np(a),m=0,n=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var i=b[s],v=i.Ua,y=0===m?0:k;if(l){var C=cq(i)-j;i.ca.W(c-(v.width+C),r+y);d=Math.max(d,v.width+C);e=Math.max(e,r+y+v.height);r+=y+v.height}else C=cq(i)-j,i.ca.W(n+y,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,n+y+v.width),n+=y+v.width;m++}var m=
0,D=n,I=r;l?(n=c+j,r=0):(n=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(i=b[s],v=i.Ua,y=0===m?0:k,l?(C=cq(i)-j,i.ca.W(n+C,r+y),d=Math.max(d,n+v.width+C),e=Math.max(e,r+y+v.height),r+=y+v.height):(C=cq(i)-j,i.ca.W(n+y,r+C),d=Math.max(d,n+y+v.width),e=Math.max(e,r+v.height+C),n+=y+v.width),m++);1<g&&1===g%2&&(i=b[g-1],v=i.Ua,b=dq(i,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(D),Math.abs(n))),l?(i.ca.W(c+j/2-i.M.x-i.Ha.x,e+b),l=c+j/2-i.M.x-i.Ha.x,d=Math.max(d,l+v.width),0>l&&(d-=l),e=Math.max(e,Math.max(I,
r)+b+v.height),0>i.ca.x&&(c=eq(a,i.ca.x,q,c,j))):(i.ca.W(d+b,c+j/2-i.M.y-i.Ha.y),d=Math.max(d,Math.max(D,n)+b+v.width),l=c+j/2-i.M.y-i.Ha.y,e=Math.max(e,l+v.height),0>l&&(e-=l),0>i.ca.y&&(c=eq(a,i.ca.y,h,c,j))));return[c,d,e]}
function Tp(a,b,c,d,e){u&&x.i(a,Z,W,"layoutBusChildrenNegDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var i=b[0],d=i.Ua.width,e=i.Ua.height;return[c,d,e]}for(var j=a.Dd,k=a.Ne,l=270===Np(a),m=0,n=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var i=b[s],v=i.Ua,y=0===m?0:k;if(l){var C=cq(i)-j,r=r-(y+v.height);i.ca.W(c-(v.width+C),r);d=Math.max(d,v.width+C);e=Math.max(e,Math.abs(r))}else C=cq(i)-j,n-=y+v.width,i.ca.W(n,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,Math.abs(n));m++}var m=
0,D=n,I=r;l?(n=c+j,r=0):(n=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(i=b[s],v=i.Ua,y=0===m?0:k,l?(C=cq(i)-j,r-=y+v.height,i.ca.W(n+C,r),d=Math.max(d,n+v.width+C),e=Math.max(e,Math.abs(r))):(C=cq(i)-j,n-=y+v.width,i.ca.W(n,r+C),e=Math.max(e,r+v.height+C),d=Math.max(d,Math.abs(n))),m++);1<g&&1===g%2&&(i=b[g-1],v=i.Ua,k=dq(i,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(D),Math.abs(n))),l?(i.ca.W(c+j/2-i.M.x-i.Ha.x,-e-v.height-k),n=c+j/2-i.M.x-i.Ha.x,d=Math.max(d,n+v.width),0>n&&(d-=n),e=Math.max(e,
Math.abs(Math.min(I,r))+k+v.height),0>i.ca.x&&(c=eq(a,i.ca.x,q,c,j))):(i.ca.W(-d-v.width-k,c+j/2-i.M.y-i.Ha.y),d=Math.max(d,Math.abs(Math.min(D,n))+k+v.width),n=c+j/2-i.M.y-i.Ha.y,e=Math.max(e,n+v.height),0>n&&(e-=n),0>i.ca.y&&(c=eq(a,i.ca.y,h,c,j))));for(s=0;s<g;s++)i=b[s],l?i.ca.W(i.ca.x,i.ca.y+e):i.ca.W(i.ca.x+d,i.ca.y);return[c,d,e]}function cq(a){u&&x.i(a,Z,W,"fixRelativePostions:child");return a.parent===p?0:a.parent.dw}
function dq(a){u&&x.i(a,Z,W,"fixRelativePostions:lastchild");return a.parent===p?0:a.parent.mw}function eq(a,b,c,d,e){u&&x.i(a,Z,W,"fixRelativePostions:v");for(var a=a.dc,g=a.length,i=0;i<g;i++)c?a[i].ca.W(a[i].ca.x,a[i].ca.y-b):a[i].ca.W(a[i].ca.x-b,a[i].ca.y);b=a[g-1];return Math.max(d,c?b.Ha.y+b.M.y-e/2:b.Ha.x+b.M.x-e/2)}
function $p(a,b,c){u&&x.i(a,Z,W,"calculateSubwidth:v");switch(a.Ga){case Dp:case Zp:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Op:return a.width>b?a.width:b;case Pp:return 2*a.M.x>b?a.width:b+a.width-2*a.M.x;case Fp:case vp:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case Gp:return a.width-a.M.x+a.Dd/2+b;case Hp:return Math.max(a.width,a.M.x+a.Dd/2+b);default:return b}}
function aq(a,b,c){u&&x.i(a,Z,W,"calculateSubheight:v");switch(a.Ga){case Dp:case Zp:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Op:return a.height>b?a.height:b;case Pp:return 2*a.M.y>b?a.height:b+a.height-2*a.M.y;case Fp:case vp:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case Gp:return a.height-a.M.y+a.Dd/2+b;case Hp:return Math.max(a.height,a.M.y+a.Dd/2+b);default:return b}}
function bq(a,b,c){u&&x.i(a,oa,W,"alignOffset:align");switch(a){case Zp:b/=2;c/=2;break;case Dp:b/=2;c/=2;break;case Op:c=b=0;break;case Pp:break;default:x.m("Unhandled alignment value "+a.toString())}return[b,c]}function Up(a,b,c,d,e,g){u&&x.i(a,Z,W,"shiftRelPosAlign:v");u&&x.i(b,oa,W,"shiftRelPosAlign:align");b=bq(b,c,d);Xp(a,b[0],b[1],e,g)}function Xp(a,b,c,d,e){u&&x.i(a,Z,W,"shiftRelPos:v");if(!(0===b&&0===c))for(a=a.dc;d<=e;d++){var g=a[d].ca;g.x+=b;g.y+=c}}
function Vp(a,b,c,d){u&&(x.i(b,Z,W,"recordMidPoints:v"),x.k(c,"number",W,"recordMidPoints:x"),x.k(d,"number",W,"recordMidPoints:y"));var e=b.lb;switch(a.jf){case ep:for(a=b.Ob;a.next();)b=a.value,b.Z===e&&b.$q.W(c,d);break;case lp:for(a=b.Mb;a.next();)b=a.value,b.U===e&&b.$q.W(c,d);break;default:x.m("Unhandled path value "+a.jf.toString())}}function Yp(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e.x+=b;e.y+=c}}
function Wp(a,b,c,d,e,g){u&&x.i(a,Z,W,"mergeFringes:parent");u&&x.i(b,Z,W,"mergeFringes:child");var i=Np(a),j=90===i||270===i,k=a.Dd,l=e,m=g,n=b.tq,e=b.hr,g=b.Ua,a=j?Math.max(m,g.height):Math.max(l,g.width);if(n===p||i!==Np(b))n=[],e=[],j?(n[0]=new K(0,0),n[1]=new K(0,g.height),e[0]=new K(g.width,0),e[1]=new K(e[0].x,n[1].y)):(n[0]=new K(0,0),n[1]=new K(g.width,0),e[0]=new K(0,g.height),e[1]=new K(n[1].x,e[0].y));if(j){b=j=l;i=n;l=9999999;if(!(d===p||2>d.length||i===p||2>i.length))for(var r=m=0;m<
d.length&&r<i.length;){var s=d[m],v=i[r].copy();v.x+=j;var y=s;m+1<d.length&&(y=d[m+1]);var C=v;r+1<i.length&&(C=i[r+1].copy(),C.x+=j);var D=l;s.y===v.y?D=v.x-s.x:s.y>v.y&&s.y<C.y?D=v.x+(s.y-v.y)/(C.y-v.y)*(C.x-v.x)-s.x:v.y>s.y&&v.y<y.y&&(D=v.x-(s.x+(v.y-s.y)/(y.y-s.y)*(y.x-s.x)));D<l&&(l=D);y.y<=s.y?m++:C.y<=v.y?r++:(y.y<=C.y&&m++,C.y<=y.y&&r++)}b-=l;b+=k;k=n;n=b;if(c===p||2>c.length||k===p||2>k.length)c=p;else{i=[];for(l=j=r=0;j<k.length&&k[j].y<c[0].y;)m=k[j++].copy(),m.x+=n,i[l++]=m;for(;r<c.length;)m=
c[r++].copy(),i[l++]=m;for(c=c[c.length-1].y;j<k.length&&k[j].y<=c;)j++;for(;j<k.length&&k[j].y>c;)m=k[j++].copy(),m.x+=n,i[l++]=m;c=i}j=e;l=b;if(d===p||2>d.length||j===p||2>j.length)d=p;else{e=[];for(n=m=k=0;k<d.length&&d[k].y<j[0].y;)i=d[k++].copy(),e[n++]=i;for(;m<j.length;)i=j[m++].copy(),i.x+=l,e[n++]=i;for(j=j[j.length-1].y;k<d.length&&d[k].y<=j;)k++;for(;k<d.length&&d[k].y>j;)i=d[k++].copy(),e[n++]=i;d=e}e=Math.max(0,b)+g.width;g=a}else{b=j=m;i=n;l=9999999;if(!(d===p||2>d.length||i===p||2>
i.length))for(r=m=0;m<d.length&&r<i.length;)s=d[m],v=i[r].copy(),v.y+=j,y=s,m+1<d.length&&(y=d[m+1]),C=v,r+1<i.length&&(C=i[r+1].copy(),C.y+=j),D=l,s.x===v.x?D=v.y-s.y:s.x>v.x&&s.x<C.x?D=v.y+(s.x-v.x)/(C.x-v.x)*(C.y-v.y)-s.y:v.x>s.x&&v.x<y.x&&(D=v.y-(s.y+(v.x-s.x)/(y.x-s.x)*(y.y-s.y))),D<l&&(l=D),y.x<=s.x?m++:C.x<=v.x?r++:(y.x<=C.x&&m++,C.x<=y.x&&r++);b-=l;b+=k;k=n;n=b;if(c===p||2>c.length||k===p||2>k.length)c=p;else{i=[];for(l=j=r=0;j<k.length&&k[j].x<c[0].x;)m=k[j++].copy(),m.y+=n,i[l++]=m;for(;r<
c.length;)m=c[r++].copy(),i[l++]=m;for(c=c[c.length-1].x;j<k.length&&k[j].x<=c;)j++;for(;j<k.length&&k[j].x>c;)m=k[j++].copy(),m.y+=n,i[l++]=m;c=i}j=e;l=b;if(d===p||2>d.length||j===p||2>j.length)d=p;else{e=[];for(n=m=k=0;k<d.length&&d[k].x<j[0].x;)i=d[k++].copy(),e[n++]=i;for(;m<j.length;)i=j[m++].copy(),i.y+=l,e[n++]=i;for(j=j[j.length-1].x;k<d.length&&d[k].x<=j;)k++;for(;k<d.length&&d[k].x>j;)i=d[k++].copy(),e[n++]=i;d=e}e=a;g=Math.max(0,b)+g.height}return[b,c,d,e,g]}
function rp(a,b,c,d){if(b!==p){u&&x.i(b,Z,W,"assignAbsolutePositions:v");b.x=c;b.y=d;for(var b=b.dc,e=b.length,g=0;g<e;g++){var i=b[g];rp(a,i,c+i.ca.x,d+i.ca.y)}}}W.prototype.commitLayout=W.prototype.Av=function(){this.uA();this.commitNodes();this.Cs&&this.commitLinks()};W.prototype.commitNodes=W.prototype.iz=function(){for(var a=this.B.oa.l,b;a.next();)b=a.value,b.commit();for(a.reset();a.next();)b=a.value,this.layoutComments(b)};W.prototype.commitLinks=W.prototype.hz=function(){for(var a=this.B.rc.l;a.next();)a.value.commit()};
W.prototype.uA=function(){for(var a=this.od.l;a.next();){var b=this.B.Ve(a.value);kq(this,b)}};
function kq(a,b){if(b!==p){u&&x.i(b,Z,W,"setPortSpotsTree:v");u&&x.i(b,Z,W,"setPortSpots:v");var c=b.Ga;if(Ep(c)){u&&x.i(b,Z,W,"setPortSpotsBus:v");u&&x.i(c,oa,W,"setPortSpots:align");var d=a.jf===ep,e=Np(b),g;switch(e){case 0:g=Rb;break;case 90:g=Sb;break;case 180:g=Qb;break;default:g=Pb}var i=b.dc,j=i.length;switch(c){case Fp:case vp:for(c=0;c<j;c++){var k=i[c],k=d?k.Ob:k.Mb;if(k.next()){var l=k.value,l=l.Wa;if(l!==p){var m=90===e||270===e?Qb:Pb;if(1===j||c===j-1&&1===j%2)switch(e){case 0:m=Qb;
break;case 90:m=Pb;break;case 180:m=Rb;break;default:m=Sb}else 0===c%2&&(m=90===e||270===e?Rb:Sb);d?(b.ak&&(l.pb=g),b.$j&&(l.tb=m)):(b.ak&&(l.pb=m),b.$j&&(l.tb=g))}}}break;case Gp:m=90===e||270===e?Rb:Sb;for(k=d?b.Mb:b.Ob;k.next();)l=k.value,l=l.Wa,l!==p&&(d?(b.ak&&(l.pb=g),b.$j&&(l.tb=m)):(b.ak&&(l.pb=m),b.$j&&(l.tb=g)));break;case Hp:m=90===e||270===e?Qb:Pb;for(k=d?b.Mb:b.Ob;k.next();)l=k.value,l=l.Wa,l!==p&&(d?(b.ak&&(l.pb=g),b.$j&&(l.tb=m)):(b.ak&&(l.pb=m),b.$j&&(l.tb=g)))}}else if(d=Np(b),a.jf===
ep)for(e=b.Mb;e.next();){if(g=e.value,g=g.Wa,g!==p){if(b.Yg)if(Bb(b.uf))switch(d){case 0:g.pb=Rb;break;case 90:g.pb=Sb;break;case 180:g.pb=Qb;break;default:g.pb=Pb}else g.pb=b.uf;if(b.Xg)if(Bb(b.gf))switch(d){case 0:g.tb=Qb;break;case 90:g.tb=Pb;break;case 180:g.tb=Rb;break;default:g.tb=Sb}else g.tb=b.gf}}else for(e=b.Ob;e.next();)if(g=e.value,g=g.Wa,g!==p){if(b.Yg)if(Bb(b.uf))switch(d){case 0:g.tb=Rb;break;case 90:g.tb=Sb;break;case 180:g.tb=Qb;break;default:g.tb=Pb}else g.tb=b.uf;if(b.Xg)if(Bb(b.gf))switch(d){case 0:g.pb=
Qb;break;case 90:g.pb=Pb;break;case 180:g.pb=Rb;break;default:g.pb=Sb}else g.pb=b.gf}d=b.dc;e=d.length;for(g=0;g<e;g++)kq(a,d[g])}}function Np(a){a=a.tc;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}function Qp(a){u&&x.i(a,Z,W,"computeLayerSpacing:v");var b=Np(a),b=90===b||270===b,c=a.Pd;if(0<a.Rg)var d=Math.min(1,a.Rg),c=c-(b?a.height*d:a.width*d);if(c<(b?-a.height:-a.width))c=b?-a.height:-a.width;return c}
function Rp(a){u&&x.i(a,Z,W,"computeNodeIndent:v");var b=Np(a),b=90===b||270===b,c=a.yh;if(0<a.Ug)var d=Math.min(1,a.Ug),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}x.g(W,"roots",W.prototype.tI);x.defineProperty(W,{tI:"roots"},t("od"),function(a){this.od!==a&&(this.od=a,this.I())});x.g(W,"path",W.prototype.path);x.defineProperty(W,{path:"path"},t("zh"),function(a){this.zh!==a&&(x.i(a,oa,W,"path"),this.zh=a,this.I())});x.g(W,"treeStyle",W.prototype.mF);
x.defineProperty(W,{mF:"treeStyle"},t("Dr"),function(a){if(this.$c!==a&&(u&&x.i(a,oa,W,"treeStyle"),a===fp||a===xp||a===yp||a===wp))this.Dr=a,this.I()});x.g(W,"arrangement",W.prototype.qe);x.defineProperty(W,{qe:"arrangement"},t("$c"),function(a){if(this.$c!==a&&(u&&x.i(a,oa,W,"arrangement"),a===gp||a===sp||a===kp))this.$c=a,this.I()});x.g(W,"arrangementSpacing",W.prototype.sv);x.defineProperty(W,{sv:"arrangementSpacing"},t("Qf"),function(a){this.Qf.K(a)||(this.Qf.Ya(a),this.I())});
x.g(W,"rootDefaults",W.prototype.sI);x.defineProperty(W,{sI:"rootDefaults"},t("la"),function(a){this.la!==a&&(u&&x.i(a,Z,W,"rootDefaults"),this.la=a,this.I())});x.g(W,"alternateDefaults",W.prototype.lG);x.defineProperty(W,{lG:"alternateDefaults"},t("ka"),function(a){this.ka!==a&&(u&&x.i(a,Z,W,"alternateDefaults"),this.ka=a,this.I())});x.g(W,"sorting",W.prototype.zg);
x.defineProperty(W,{zg:"sorting"},function(){return this.la.zc},function(a){if(this.la.zc!==a&&(u&&x.i(a,oa,W,"sorting"),a===zp||a===Ap||a===Bp||Cp))this.la.zc=a,this.I()});x.g(W,"comparer",W.prototype.Lh);x.defineProperty(W,{Lh:"comparer"},function(){return this.la.wc},function(a){this.la.wc!==a&&(u&&x.k(a,"function",W,"comparer"),this.la.wc=a,this.I())});x.g(W,"angle",W.prototype.angle);
x.defineProperty(W,{angle:"angle"},function(){return this.la.tc},function(a){if(this.la.tc!==a&&(0===a||90===a||180===a||270===a))this.la.tc=a,this.I()});x.g(W,"alignment",W.prototype.Jb);x.defineProperty(W,{Jb:"alignment"},function(){return this.la.Ga},function(a){this.la.Ga!==a&&(u&&x.ob(a,W,W,"alignment"),this.la.Ga=a,this.I())});x.g(W,"nodeIndent",W.prototype.Yz);x.defineProperty(W,{Yz:"nodeIndent"},function(){return this.la.yh},function(a){this.la.yh!==a&&0<=a&&(this.la.yh=a,this.I())});
x.g(W,"nodeIndentPastParent",W.prototype.Zz);x.defineProperty(W,{Zz:"nodeIndentPastParent"},function(){return this.la.Ug},function(a){this.la.Ug!==a&&(0<=a&&1>=a)&&(this.la.Ug=a,this.I())});x.g(W,"nodeSpacing",W.prototype.dw);x.defineProperty(W,{dw:"nodeSpacing"},function(){return this.la.Dd},function(a){this.la.Dd!==a&&(this.la.Dd=a,this.I())});x.g(W,"layerSpacing",W.prototype.Gs);x.defineProperty(W,{Gs:"layerSpacing"},function(){return this.la.Pd},function(a){this.la.Pd!==a&&(this.la.Pd=a,this.I())});
x.g(W,"layerSpacingParentOverlap",W.prototype.Lz);x.defineProperty(W,{Lz:"layerSpacingParentOverlap"},function(){return this.la.Rg},function(a){this.la.Rg!==a&&(0<=a&&1>=a)&&(this.la.Rg=a,this.I())});x.g(W,"compaction",W.prototype.Bv);x.defineProperty(W,{Bv:"compaction"},function(){return this.la.Ig},function(a){if(this.la.Ig!==a&&(u&&x.i(a,oa,W,"compaction"),a===Kp||a===Mp))this.la.Ig=a,this.I()});x.g(W,"breadthLimit",W.prototype.$y);
x.defineProperty(W,{$y:"breadthLimit"},function(){return this.la.Fg},function(a){this.la.Fg!==a&&0<=a&&(this.la.Fg=a,this.I())});x.g(W,"rowSpacing",W.prototype.mw);x.defineProperty(W,{mw:"rowSpacing"},function(){return this.la.Ne},function(a){this.la.Ne!==a&&(this.la.Ne=a,this.I())});x.g(W,"rowIndent",W.prototype.mA);x.defineProperty(W,{mA:"rowIndent"},function(){return this.la.pd},function(a){this.la.pd!==a&&0<=a&&(this.la.pd=a,this.I())});x.g(W,"commentSpacing",W.prototype.fz);
x.defineProperty(W,{fz:"commentSpacing"},function(){return this.la.Md},function(a){this.la.Md!==a&&(this.la.Md=a,this.I())});x.g(W,"commentMargin",W.prototype.ez);x.defineProperty(W,{ez:"commentMargin"},function(){return this.la.vc},function(a){this.la.vc!==a&&(this.la.vc=a,this.I())});x.g(W,"setsPortSpot",W.prototype.ak);x.defineProperty(W,{ak:"setsPortSpot"},function(){return this.la.Yg},function(a){this.la.Yg!==a&&(this.la.Yg=a,this.I())});x.g(W,"portSpot",W.prototype.cA);
x.defineProperty(W,{cA:"portSpot"},function(){return this.la.uf},function(a){this.la.uf.K(a)||(this.la.uf=a,this.I())});x.g(W,"setsChildPortSpot",W.prototype.$j);x.defineProperty(W,{$j:"setsChildPortSpot"},function(){return this.la.Xg},function(a){this.la.Xg!==a&&(this.la.Xg=a,this.I())});x.g(W,"childPortSpot",W.prototype.cz);x.defineProperty(W,{cz:"childPortSpot"},function(){return this.la.gf},function(a){this.la.gf.K(a)||(this.la.gf=a,this.I())});x.g(W,"alternateSorting",W.prototype.wG);
x.defineProperty(W,{wG:"alternateSorting"},function(){return this.ka.zc},function(a){if(this.ka.zc!==a&&(u&&x.i(a,oa,W,"alternateSorting"),a===zp||a===Ap||a===Bp||Cp))this.ka.zc=a,this.I()});x.g(W,"alternateComparer",W.prototype.jG);x.defineProperty(W,{jG:"alternateComparer"},function(){return this.ka.wc},function(a){this.ka.wc!==a&&(u&&x.k(a,"function",W,"alternateComparer"),this.ka.wc=a,this.I())});x.g(W,"alternateAngle",W.prototype.dG);
x.defineProperty(W,{dG:"alternateAngle"},function(){return this.ka.tc},function(a){if(this.ka.tc!==a&&(0===a||90===a||180===a||270===a))this.ka.tc=a,this.I()});x.g(W,"alternateAlignment",W.prototype.cG);x.defineProperty(W,{cG:"alternateAlignment"},function(){return this.ka.Ga},function(a){this.ka.Ga!==a&&(u&&x.ob(a,W,W,"alternateAlignment"),this.ka.Ga=a,this.I())});x.g(W,"alternateNodeIndent",W.prototype.oG);
x.defineProperty(W,{oG:"alternateNodeIndent"},function(){return this.ka.yh},function(a){this.ka.yh!==a&&0<=a&&(this.ka.yh=a,this.I())});x.g(W,"alternateNodeIndentPastParent",W.prototype.pG);x.defineProperty(W,{pG:"alternateNodeIndentPastParent"},function(){return this.ka.Ug},function(a){this.ka.Ug!==a&&(0<=a&&1>=a)&&(this.ka.Ug=a,this.I())});x.g(W,"alternateNodeSpacing",W.prototype.qG);
x.defineProperty(W,{qG:"alternateNodeSpacing"},function(){return this.ka.Dd},function(a){this.ka.Dd!==a&&(this.ka.Dd=a,this.I())});x.g(W,"alternateLayerSpacing",W.prototype.mG);x.defineProperty(W,{mG:"alternateLayerSpacing"},function(){return this.ka.Pd},function(a){this.ka.Pd!==a&&(this.ka.Pd=a,this.I())});x.g(W,"alternateLayerSpacingParentOverlap",W.prototype.nG);
x.defineProperty(W,{nG:"alternateLayerSpacingParentOverlap"},function(){return this.ka.Rg},function(a){this.ka.Rg!==a&&(0<=a&&1>=a)&&(this.ka.Rg=a,this.I())});x.g(W,"alternateCompaction",W.prototype.iG);x.defineProperty(W,{iG:"alternateCompaction"},function(){return this.ka.Ig},function(a){if(this.ka.Ig!==a&&(u&&x.i(a,oa,W,"alternateCompaction"),a===Kp||a===Mp))this.ka.Ig=a,this.I()});x.g(W,"alternateBreadthLimit",W.prototype.eG);
x.defineProperty(W,{eG:"alternateBreadthLimit"},function(){return this.ka.Fg},function(a){this.ka.Fg!==a&&0<=a&&(this.ka.Fg=a,this.I())});x.g(W,"alternateRowSpacing",W.prototype.tG);x.defineProperty(W,{tG:"alternateRowSpacing"},function(){return this.ka.Ne},function(a){this.ka.Ne!==a&&(this.ka.Ne=a,this.I())});x.g(W,"alternateRowIndent",W.prototype.sG);x.defineProperty(W,{sG:"alternateRowIndent"},function(){return this.ka.pd},function(a){this.ka.pd!==a&&0<=a&&(this.ka.pd=a,this.I())});
x.g(W,"alternateCommentSpacing",W.prototype.hG);x.defineProperty(W,{hG:"alternateCommentSpacing"},function(){return this.ka.Md},function(a){this.ka.Md!==a&&(this.ka.Md=a,this.I())});x.g(W,"alternateCommentMargin",W.prototype.gG);x.defineProperty(W,{gG:"alternateCommentMargin"},function(){return this.ka.vc},function(a){this.ka.vc!==a&&(this.ka.vc=a,this.I())});x.g(W,"alternateSetsPortSpot",W.prototype.vG);
x.defineProperty(W,{vG:"alternateSetsPortSpot"},function(){return this.ka.Yg},function(a){this.ka.Yg!==a&&(this.ka.Yg=a,this.I())});x.g(W,"alternatePortSpot",W.prototype.rG);x.defineProperty(W,{rG:"alternatePortSpot"},function(){return this.ka.uf},function(a){this.ka.uf.K(a)||(this.ka.uf=a,this.I())});x.g(W,"alternateSetsChildPortSpot",W.prototype.uG);x.defineProperty(W,{uG:"alternateSetsChildPortSpot"},function(){return this.ka.Xg},function(a){this.ka.Xg!==a&&(this.ka.Xg=a,this.I())});
x.g(W,"alternateChildPortSpot",W.prototype.fG);x.defineProperty(W,{fG:"alternateChildPortSpot"},function(){return this.ka.gf},function(a){this.ka.gf.K(a)||(this.ka.gf=a,this.I())});var dp;W.PathDefault=dp=x.s(W,"PathDefault",-1);var ep;W.PathDestination=ep=x.s(W,"PathDestination",0);var lp;W.PathSource=lp=x.s(W,"PathSource",1);var zp;W.SortingForwards=zp=x.s(W,"SortingForwards",10);var Ap;W.SortingReverse=Ap=x.s(W,"SortingReverse",11);var Bp;W.SortingAscending=Bp=x.s(W,"SortingAscending",12);var Cp;
W.SortingDescending=Cp=x.s(W,"SortingDescending",13);var Zp;W.AlignmentCenterSubtrees=Zp=x.s(W,"AlignmentCenterSubtrees",20);var Dp;W.AlignmentCenterChildren=Dp=x.s(W,"AlignmentCenterChildren",21);var Op;W.AlignmentStart=Op=x.s(W,"AlignmentStart",22);var Pp;W.AlignmentEnd=Pp=x.s(W,"AlignmentEnd",23);var Fp;W.AlignmentBus=Fp=x.s(W,"AlignmentBus",24);var vp;W.AlignmentBusBranching=vp=x.s(W,"AlignmentBusBranching",25);var Gp;W.AlignmentTopLeftBus=Gp=x.s(W,"AlignmentTopLeftBus",26);var Hp;
W.AlignmentBottomRightBus=Hp=x.s(W,"AlignmentBottomRightBus",27);var Kp;W.CompactionNone=Kp=x.s(W,"CompactionNone",30);var Mp;W.CompactionBlock=Mp=x.s(W,"CompactionBlock",31);var fp;W.StyleLayered=fp=x.s(W,"StyleLayered",40);var yp;W.StyleLastParents=yp=x.s(W,"StyleLastParents",41);var xp;W.StyleAlternating=xp=x.s(W,"StyleAlternating",42);var wp;W.StyleRootOnly=wp=x.s(W,"StyleRootOnly",43);var gp;W.ArrangementVertical=gp=x.s(W,"ArrangementVertical",50);var sp;
W.ArrangementHorizontal=sp=x.s(W,"ArrangementHorizontal",51);var kp;W.ArrangementFixedRoots=kp=x.s(W,"ArrangementFixedRoots",52);function ip(){Ym.call(this)}x.S("TreeNetwork",ip);x.Ja(ip,Ym);ip.prototype.createVertex=ip.prototype.Sj=function(){return new Z};ip.prototype.createEdge=ip.prototype.jo=function(){return new lq};
function Z(){bn.call(this);this.Ek=q;this.lb=p;this.dc=[];this.si=this.mu=this.Lt=this.Ql=this.TI=0;this.ca=new K(0,0);this.Ua=new cb(0,0);this.Ha=new K(0,0);this.hr=this.tq=this.Nd=p;this.Pk=this.Ok=this.ny=q;this.zc=zp;this.wc=gn;this.tc=0;this.Ga=Dp;this.Ug=this.yh=0;this.Dd=20;this.Pd=50;this.Rg=0;this.Ig=Mp;this.Fg=0;this.Ne=25;this.Md=this.pd=10;this.vc=20;this.Yg=h;this.uf=Db;this.Xg=h;this.gf=Db}x.S("TreeVertex",Z);x.Ja(Z,bn);
function hp(a,b){b!==p&&(a.zc=b.zc,a.wc=b.wc,a.tc=b.tc,a.Ga=b.Ga,a.yh=b.yh,a.Ug=b.Ug,a.Dd=b.Dd,a.Pd=b.Pd,a.Rg=b.Rg,a.Ig=b.Ig,a.Fg=b.Fg,a.Ne=b.Ne,a.pd=b.pd,a.Md=b.Md,a.vc=b.vc,a.Yg=b.Yg,a.uf=b.uf,a.Xg=b.Xg,a.gf=b.gf)}x.g(Z,"initialized",Z.prototype.sH);x.defineProperty(Z,{sH:"initialized"},t("Ek"),ba("Ek"));x.g(Z,"parent",Z.prototype.parent);x.defineProperty(Z,{parent:"parent"},t("lb"),ba("lb"));x.g(Z,"children",Z.prototype.children);x.defineProperty(Z,{children:"children"},t("dc"),ba("dc"));
x.u(Z,{lm:"childrenCount"},function(){return this.dc.length});x.g(Z,"level",Z.prototype.JH);x.defineProperty(Z,{JH:"level"},t("Ql"),ba("Ql"));x.g(Z,"descendantCount",Z.prototype.LG);x.defineProperty(Z,{LG:"descendantCount"},t("Lt"),ba("Lt"));x.g(Z,"maxChildrenCount",Z.prototype.QH);x.defineProperty(Z,{QH:"maxChildrenCount"},t("mu"),ba("mu"));x.g(Z,"maxGenerationCount",Z.prototype.RH);x.defineProperty(Z,{RH:"maxGenerationCount"},t("si"),ba("si"));x.g(Z,"relativePosition",Z.prototype.lI);
x.defineProperty(Z,{lI:"relativePosition"},t("ca"),function(a){x.i(a,K,Z,"relativePosition");this.ca.set(a)});x.g(Z,"subtreeSize",Z.prototype.KI);x.defineProperty(Z,{KI:"subtreeSize"},t("Ua"),function(a){x.i(a,cb,Z,"subtreeSize");this.Ua.set(a)});x.g(Z,"subtreeOffset",Z.prototype.JI);x.defineProperty(Z,{JI:"subtreeOffset"},t("Ha"),function(a){x.i(a,K,Z,"subtreeOffset");this.Ha.set(a)});x.g(Z,"comments",Z.prototype.gz);x.defineProperty(Z,{gz:"comments"},t("Nd"),ba("Nd"));x.g(Z,"sorting",Z.prototype.zg);
x.defineProperty(Z,{zg:"sorting"},t("zc"),ba("zc"));x.g(Z,"comparer",Z.prototype.Lh);x.defineProperty(Z,{Lh:"comparer"},t("wc"),ba("wc"));x.g(Z,"angle",Z.prototype.angle);x.defineProperty(Z,{angle:"angle"},t("tc"),ba("tc"));x.g(Z,"alignment",Z.prototype.Jb);x.defineProperty(Z,{Jb:"alignment"},t("Ga"),ba("Ga"));x.g(Z,"nodeIndent",Z.prototype.Yz);x.defineProperty(Z,{Yz:"nodeIndent"},t("yh"),ba("yh"));x.g(Z,"nodeIndentPastParent",Z.prototype.Zz);
x.defineProperty(Z,{Zz:"nodeIndentPastParent"},t("Ug"),ba("Ug"));x.g(Z,"nodeSpacing",Z.prototype.dw);x.defineProperty(Z,{dw:"nodeSpacing"},t("Dd"),ba("Dd"));x.g(Z,"layerSpacing",Z.prototype.Gs);x.defineProperty(Z,{Gs:"layerSpacing"},t("Pd"),ba("Pd"));x.g(Z,"layerSpacingParentOverlap",Z.prototype.Lz);x.defineProperty(Z,{Lz:"layerSpacingParentOverlap"},t("Rg"),ba("Rg"));x.g(Z,"compaction",Z.prototype.Bv);x.defineProperty(Z,{Bv:"compaction"},t("Ig"),ba("Ig"));x.g(Z,"breadthLimit",Z.prototype.$y);
x.defineProperty(Z,{$y:"breadthLimit"},t("Fg"),ba("Fg"));x.g(Z,"rowSpacing",Z.prototype.mw);x.defineProperty(Z,{mw:"rowSpacing"},t("Ne"),ba("Ne"));x.g(Z,"rowIndent",Z.prototype.mA);x.defineProperty(Z,{mA:"rowIndent"},t("pd"),ba("pd"));x.g(Z,"commentSpacing",Z.prototype.fz);x.defineProperty(Z,{fz:"commentSpacing"},t("Md"),ba("Md"));x.g(Z,"commentMargin",Z.prototype.ez);x.defineProperty(Z,{ez:"commentMargin"},t("vc"),ba("vc"));x.g(Z,"setsPortSpot",Z.prototype.ak);
x.defineProperty(Z,{ak:"setsPortSpot"},t("Yg"),ba("Yg"));x.g(Z,"portSpot",Z.prototype.cA);x.defineProperty(Z,{cA:"portSpot"},t("uf"),ba("uf"));x.g(Z,"setsChildPortSpot",Z.prototype.$j);x.defineProperty(Z,{$j:"setsChildPortSpot"},t("Xg"),ba("Xg"));x.g(Z,"childPortSpot",Z.prototype.cz);x.defineProperty(Z,{cz:"childPortSpot"},t("gf"),ba("gf"));x.g(Z,"routeFirstRow",Z.prototype.xI);x.defineProperty(Z,{xI:"routeFirstRow"},t("ny"),ba("ny"));x.g(Z,"routeAroundCentered",Z.prototype.vI);
x.defineProperty(Z,{vI:"routeAroundCentered"},t("Ok"),ba("Ok"));x.g(Z,"routeAroundLastParent",Z.prototype.wI);x.defineProperty(Z,{wI:"routeAroundLastParent"},t("Pk"),ba("Pk"));function lq(){cn.call(this);this.$q=new K(0,0)}x.S("TreeEdge",lq);x.Ja(lq,cn);
lq.prototype.commit=lq.prototype.zv=function(){var a=this.Wa;if(a!==p&&a.Uh!==Df){var b=this.B.Nb,c=p,d=p;switch(b.jf){case ep:c=this.Z;d=this.U;break;case lp:c=this.U;d=this.Z;break;default:x.m("Unhandled path value "+b.jf.toString())}if(!(c===p||d===p))if(b=this.$q,0===b.x&&0===b.y&&!c.ny){var e=c,g=d;u&&x.i(e,Z,lq,"adjustRouteForAngleChange:parent");u&&x.i(g,Z,lq,"adjustRouteForAngleChange:child");a=this.Wa;c=Np(e);if(c!==Np(g)&&(b=Qp(e),d=e.Lb,e=g.Lb,!(0===c&&e.left-d.right<b+1||90===c&&e.top-
d.bottom<b+1||180===c&&d.left-e.right<b+1||270===c&&d.top-e.bottom<b+1))){a.GA();var e=a.Ef===mk,g=a.jc,i=Ep(this.Z.Ga);a.rl();0===c?(c=d.right+b/2,e?4===a.ma&&(b=a.p(3).y,a.L(1,new K(c-20,a.p(1).y)),a.A(2,new K(c-20,b)),a.A(3,new K(c,b)),a.A(4,new K(c+20,b)),a.L(5,new K(a.p(5).x,b))):g?i?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.ma&&(a.L(2,new K(c,a.p(2).y)),a.L(3,new K(c,a.p(3).y))):4===a.ma?a.A(2,new K(c,a.p(2).y)):3===a.ma?a.L(1,new K(c,a.p(2).y)):2===a.ma&&a.A(1,new K(c,a.p(1).y))):90===c?(b=d.bottom+
b/2,e?4===a.ma&&(c=a.p(3).x,a.L(1,new K(a.p(1).x,b-20)),a.A(2,new K(c,b-20)),a.A(3,new K(c,b)),a.A(4,new K(c,b+20)),a.L(5,new K(c,a.p(5).y))):g?i?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.ma&&(a.L(2,new K(a.p(2).x,b)),a.L(3,new K(a.p(3).x,b))):4===a.ma?a.A(2,new K(a.p(2).x,b)):3===a.ma?a.L(1,new K(a.p(2).x,b)):2===a.ma&&a.A(1,new K(a.p(1).x,b))):180===c?(c=d.left-b/2,e?4===a.ma&&(b=a.p(3).y,a.L(1,new K(c+20,a.p(1).y)),a.A(2,new K(c+20,b)),a.A(3,new K(c,b)),a.A(4,new K(c-20,b)),a.L(5,new K(a.p(5).x,b))):
g?i?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.ma&&(a.L(2,new K(c,a.p(2).y)),a.L(3,new K(c,a.p(3).y))):4===a.ma?a.A(2,new K(c,a.p(2).y)):3===a.ma?a.L(1,new K(c,a.p(2).y)):2===a.ma&&a.A(1,new K(c,a.p(1).y))):270===c&&(b=d.top-b/2,e?4===a.ma&&(c=a.p(3).x,a.L(1,new K(a.p(1).x,b+20)),a.A(2,new K(c,b+20)),a.A(3,new K(c,b)),a.A(4,new K(c,b-20)),a.L(5,new K(c,a.p(5).y))):g?i?a.L(3,new K(a.p(2).x,a.p(4).y)):6===a.ma&&(a.L(2,new K(a.p(2).x,b)),a.L(3,new K(a.p(3).x,b))):4===a.ma?a.A(2,new K(a.p(2).x,b)):3===a.ma?
a.L(1,new K(a.p(2).x,b)):2===a.ma&&a.A(1,new K(a.p(1).x,b)));a.Mi()}}else{var d=c.Lb,j=Np(c),e=Qp(c),g=c.Ne;a.GA();var i=a.Ef===mk,k=a.jc,l,m,n,r;a.rl();if(k||i){for(l=2;4<a.ma;)a.FE(2);m=a.p(1);n=a.p(2)}else{for(l=1;3<a.ma;)a.FE(1);m=a.p(0);n=a.p(a.ma-1)}r=a.p(a.ma-1);0===j?(c.Ga===Pp?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.pd&&(j=Math.min(j,Math.max(m.y,j-Rp(c))))):c.Ga===Op?(j=d.top+b.y,0===b.y&&m.y<r.y-c.pd&&(j=Math.max(j,Math.min(m.y,j+Rp(c))))):j=c.Ok||c.Pk&&1===c.si?d.top-c.Ha.y+b.y:d.y+d.height/
2+b.y,i?(a.A(l,new K(m.x,j)),l++,a.A(l,new K(d.right+e,j)),l++,a.A(l,new K(d.right+e+(b.x-g)/3,j)),l++,a.A(l,new K(d.right+e+2*(b.x-g)/3,j)),l++,a.A(l,new K(d.right+e+(b.x-g),j)),l++,a.A(l,new K(n.x,j))):(k&&(a.A(l,new K(d.right+e/2,m.y)),l++),a.A(l,new K(d.right+e/2,j)),l++,a.A(l,new K(d.right+e+b.x-(k?g/2:g),j)),l++,k&&a.A(l,new K(a.p(l-1).x,n.y)))):90===j?(c.Ga===Pp?(j=d.right+b.x,0===b.x&&m.x>r.x+c.pd&&(j=Math.min(j,Math.max(m.x,j-Rp(c))))):c.Ga===Op?(j=d.left+b.x,0===b.x&&m.x<r.x-c.pd&&(j=Math.max(j,
Math.min(m.x,j+Rp(c))))):j=c.Ok||c.Pk&&1===c.si?d.left-c.Ha.x+b.x:d.x+d.width/2+b.x,i?(a.A(l,new K(j,m.y)),l++,a.A(l,new K(j,d.bottom+e)),l++,a.A(l,new K(j,d.bottom+e+(b.y-g)/3)),l++,a.A(l,new K(j,d.bottom+e+2*(b.y-g)/3)),l++,a.A(l,new K(j,d.bottom+e+(b.y-g))),l++,a.A(l,new K(j,n.y))):(k&&(a.A(l,new K(m.x,d.bottom+e/2)),l++),a.A(l,new K(j,d.bottom+e/2)),l++,a.A(l,new K(j,d.bottom+e+b.y-(k?g/2:g))),l++,k&&a.A(l,new K(n.x,a.p(l-1).y)))):180===j?(c.Ga===Pp?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.pd&&(j=Math.min(j,
Math.max(m.y,j-Rp(c))))):c.Ga===Op?(j=d.top+b.y,0===b.y&&m.y<r.y-c.pd&&(j=Math.max(j,Math.min(m.y,j+Rp(c))))):j=c.Ok||c.Pk&&1===c.si?d.top-c.Ha.y+b.y:d.y+d.height/2+b.y,i?(a.A(l,new K(m.x,j)),l++,a.A(l,new K(d.left-e,j)),l++,a.A(l,new K(d.left-e+(b.x+g)/3,j)),l++,a.A(l,new K(d.left-e+2*(b.x+g)/3,j)),l++,a.A(l,new K(d.left-e+(b.x+g),j)),l++,a.A(l,new K(n.x,j))):(k&&(a.A(l,new K(d.left-e/2,m.y)),l++),a.A(l,new K(d.left-e/2,j)),l++,a.A(l,new K(d.left-e+b.x+(k?g/2:g),j)),l++,k&&a.A(l,new K(a.p(l-1).x,
n.y)))):270===j?(c.Ga===Pp?(j=d.right+b.x,0===b.x&&m.x>r.x+c.pd&&(j=Math.min(j,Math.max(m.x,j-Rp(c))))):c.Ga===Op?(j=d.left+b.x,0===b.x&&m.x<r.x-c.pd&&(j=Math.max(j,Math.min(m.x,j+Rp(c))))):j=c.Ok||c.Pk&&1===c.si?d.left-c.Ha.x+b.x:d.x+d.width/2+b.x,i?(a.A(l,new K(j,m.y)),l++,a.A(l,new K(j,d.top-e)),l++,a.A(l,new K(j,d.top-e+(b.y+g)/3)),l++,a.A(l,new K(j,d.top-e+2*(b.y+g)/3)),l++,a.A(l,new K(j,d.top-e+(b.y+g))),l++,a.A(l,new K(j,n.y))):(k&&(a.A(l,new K(m.x,d.top-e/2)),l++),a.A(l,new K(j,d.top-e/2)),
l++,a.A(l,new K(j,d.top-e+b.y+(k?g/2:g))),l++,k&&a.A(l,new K(n.x,a.p(l-1).y)))):x.m("Invalid angle "+j);a.Mi()}}};x.g(lq,"relativePoint",lq.prototype.kI);x.defineProperty(lq,{kI:"relativePoint"},t("$q"),function(a){this.$q.set(a)});function mq(){this.fn=[]}
function gk(a){var b=new mq,c;if("string"===typeof a)c=(new DOMParser).parseFromString(a,"text/xml");else if(a instanceof Document)c=a.implementation.createDocument("http://www.w3.org/2000/svg","svg",p),c.appendChild(c.importNode(a.documentElement,h));else return p;a=c.getElementsByTagName("svg");if(0===a.length)return p;for(var d=a[0],e=c.getElementsByTagName("linearGradient"),g=c.getElementsByTagName("radialGradient"),a=0;a<e.length;a++){for(var i=e[a],j=hk(be,fe,{start:Tb,end:Ub}),k=i.childNodes,
l=0;l<k.length;l++)if("stop"===k[l].tagName){var m=k[l].getAttribute("stop-color"),n=k[l].getAttribute("offset");-1!==n.indexOf("%")?j.addColorStop(0.01*parseFloat(n),m):j.addColorStop(parseFloat(n),m)}i=i.getAttribute("id");"string"===typeof i&&(b["_brush"+i]=j)}for(a=0;a<g.length;a++){i=g[a];j=hk(be,ve,{start:Lb,end:Lb});k=i.childNodes;for(l=0;l<k.length;l++)"stop"===k[l].tagName&&(m=k[l].getAttribute("stop-color"),n=k[l].getAttribute("offset"),-1!==n.indexOf("%")?j.addColorStop(0.01*parseFloat(n),
m):j.addColorStop(parseFloat(n),m));i=i.getAttribute("id");"string"===typeof i&&(b["_brush"+i]=j)}for(e=h;e;){e=q;g=c.getElementsByTagName("use");for(a=0;a<g.length;a++)j=g[a],0===j.childNodes.length&&(i=j.href,i!==f&&(i=c.getElementById(i.baseVal.substring(1)),i!==p&&(i=i.cloneNode(h),i.removeAttribute("id"),k=parseFloat(j.getAttribute("x")),l=parseFloat(j.getAttribute("y")),isNaN(k)&&(k=0),isNaN(l)&&(l=0),m=j.getAttribute("transform"),m===p&&(m=""),j.setAttribute("transform",m+" translate("+k+","+
l+")"),j.appendChild(i),"use"===i.tagName&&(e=h))))}nq(b,d,p);if(0===b.fn.length)return p;if(1===b.fn.length)return b.fn[0];c=new G;for(a=0;a<b.fn.length;a++)c.add(b.fn[a]);return c}
function nq(a,b,c){var d=b.tagName;if(!("g"!==d&&"svg"!==d&&"use"!==d&&"symbol"!==d))for(var d=b.childNodes,e=0;e<d.length;e++){var g=d[e],i=p;if(g.getAttribute!==f){var j=g.getAttribute("transform");switch(g.tagName){case "g":j===p?nq(a,g,p):(i=new G,nq(a,g,i));break;case "use":j===p?nq(a,g,p):(i=new G,nq(a,g,i));break;case "symbol":if("use"!==b.tagName)break;i=new G;nq(a,g,i);var k=i,l=g;l.getAttribute("preserveAspectRatio");l.getAttribute("viewBox");k.scale=1;break;case "path":k=g;i=new V;k=k.getAttribute("d");
"string"===typeof k&&(i.xD=dd(k));break;case "line":var m=g,i=new V,k=parseFloat(m.getAttribute("x1")),l=parseFloat(m.getAttribute("y1")),n=parseFloat(m.getAttribute("x2")),m=parseFloat(m.getAttribute("y2"));isNaN(k)&&(k=0);isNaN(l)&&(l=0);isNaN(n)&&(n=0);isNaN(m)&&(m=0);var r=new Tc(Xc);i.position=new K(Math.min(k,n),Math.min(l,m));0<(n-k)/(m-l)?(r.pa=0,r.qa=0,r.D=Math.abs(n-k),r.F=Math.abs(m-l)):(r.pa=0,r.qa=Math.abs(m-l),r.D=Math.abs(n-k),r.F=0);i.dd=r;break;case "circle":n=g;i=new V;k=parseFloat(n.getAttribute("r"));
l=parseFloat(n.getAttribute("cx"));n=parseFloat(n.getAttribute("cy"));isNaN(k)?i=p:(isNaN(l)&&(l=0),isNaN(n)&&(n=0),m=new Tc($c),m.pa=0,m.qa=0,m.D=2*k,m.F=2*k,i.position=new K(l-k,n-k),i.dd=m);break;case "ellipse":m=g;i=new V;k=parseFloat(m.getAttribute("rx"));l=parseFloat(m.getAttribute("ry"));n=parseFloat(m.getAttribute("cx"));m=parseFloat(m.getAttribute("cy"));isNaN(n)&&(n=0);isNaN(m)&&(m=0);isNaN(k)||isNaN(l)?i=p:(r=new Tc($c),r.pa=0,r.qa=0,r.D=2*k,r.F=2*l,i.position=new K(n-k,m-l),i.dd=r);break;
case "rect":m=g;i=new V;k=parseFloat(m.getAttribute("height"));l=parseFloat(m.getAttribute("width"));n=parseFloat(m.getAttribute("x"));m=parseFloat(m.getAttribute("y"));isNaN(k)||isNaN(l)?i=p:(isNaN(n)&&(n=0),isNaN(m)&&(m=0),r=new Tc(Zc),r.pa=0,r.qa=0,r.D=l,r.F=k,i.position=new K(n,m),i.dd=r);break;case "polygon":i=oq(g);break;case "polyline":i=oq(g)}if(i!==p){i instanceof V&&(k=parseFloat(pq(a,g,"stroke-width")),isNaN(k)||(i.eb=k),k=pq(a,g,"stroke-linecap"),k!==p&&(i.ZE=k),k=pq(a,g,"fill"),k!==p&&
-1!==k.indexOf("url")?(k=k.substring(k.indexOf("#")+1,k.length-1),k=a["_brush"+k],i.fill=k instanceof be?k:"black"):i.fill=k===p?"black":"none"===k?p:k,g=pq(a,g,"stroke"),g!==p&&-1!==g.indexOf("url")?(k=g.substring(g.indexOf("#")+1,g.length-1),k=a["_brush"+k],i.stroke=k instanceof be?k:"black"):i.stroke="none"===g?p:g,i.Gz=h);if(j!==p){j=j.split(")");k=h;for(g=0;g<j.length;g++)/\(.*[^0-9\.,\s-]/.test(j[g])&&(k=q),/\(.*[0-9]-[0-9]/.test(j[g])&&(k=q);if(k)for(g=j.length-1;0<=g;g--)if(l=j[g],""!==l)switch(n=
l.indexOf("("),k=l.substring(0,n).replace(/\s*/,""),n=l.substring(n+1).split(/\s*[\s,]\s*/),k){case "rotate":qq(a,i,n);break;case "translate":k=i;l=parseFloat(n[0]);n=parseFloat(n[1]);if(!isNaN(l)||!isNaN(n))m=k.position.copy(),isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),k.position=new K(l+m.x,n+m.y);break;case "scale":rq(a,i,n);break;case "skewX":sq(a,i,parseFloat(n[0])*Math.PI/180);break;case "skewY":tq(a,i,parseFloat(n[0])*Math.PI/180);break;case "matrix":uq(a,i,n)}}if(i instanceof G){j=i.elements.l;
k=g=0;l=i.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);for(;j.next();)n=j.value.position.copy(),isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),n.x<g&&(g=n.x),n.y<k&&(k=n.y);l.x+=g;l.y+=k;i.position=l}c===p?a.fn.push(i):c.add(i)}}}}
function uq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]),i=parseFloat(c[3]),j=parseFloat(c[4]),k=parseFloat(c[5]);if(!isNaN(d+e+g+i+j+k)){var l=b.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);if(b instanceof V){c=b.dd.copy();if(c.type===Zc)c=a.Nr(c);else if(c.type===$c)c=vq(c);else if(c.type===Xc){c.type=Uc;var a=new Vc(c.pa,c.qa),m=new S(bd,c.D,c.F);a.Fa.add(m);c.yb.add(a)}c.offset(l.x,l.y);c.transform(d,e,g,i,j-l.x,k-l.y);a=c.normalize();b.dd=c;l.x-=a.x;l.y-=a.y;
b.position=l}else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=l.x,d.y+=l.y,b.value.position=d;for(b.reset();b.next();)uq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=l.x,d.y-=l.y,b.value.position=d}}}
function qq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]);isNaN(e)&&(e=0);isNaN(g)&&(g=0);if(!isNaN(d)){var i=d*Math.PI/180,j=b.position.copy();isNaN(j.x)&&(j.x=0);isNaN(j.y)&&(j.y=0);if(b instanceof V){c=b.dd.copy();c.type===$c?c=vq(c):c.type===Zc&&(c=a.Nr(c));if(c.type===Uc)c.rotate(d,e-j.x,g-j.y),g=c.normalize(),b.dd=c,j.x-=g.x,j.y-=g.y,b.position=j;else{var d=c.pa-e+j.x,k=c.qa-g+j.y,l=c.D-e+j.x,m=c.F-g+j.y,a=d*Math.cos(i)-k*Math.sin(i)+e-j.x,d=k*Math.cos(i)+d*Math.sin(i)+
g-j.y,e=l*Math.cos(i)-m*Math.sin(i)+e-j.x,g=m*Math.cos(i)+l*Math.sin(i)+g-j.y,l=Math.min(a,e),m=Math.min(d,g);c.pa=a-l;c.qa=d-m;c.D=e-l;c.F=g-m;j.x+=l;j.y+=m;b.position=j;b.dd=c}b.fill instanceof be&&(j=b.fill.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=i,j.start=new N((1-Math.cos(c))/2,(1-Math.sin(c))/2),j.end=new N((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.fill=j);b.stroke instanceof be&&(j=b.stroke.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=i,j.start=new N((1-Math.cos(c))/2,
(1-Math.sin(c))/2),j.end=new N((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.stroke=j)}else{for(b=b.elements.l;b.next();)i=b.value.position.copy(),i.x+=j.x,i.y+=j.y,b.value.position=i;for(b.reset();b.next();)qq(a,b.value,c);for(b.reset();b.next();)i=b.value.position.copy(),i.x-=j.x,i.y-=j.y,b.value.position=i}}}
function rq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]);if(!isNaN(d)){isNaN(e)&&(e=d);var g=b.position.copy();isNaN(g.x)&&(g.x=0);isNaN(g.y)&&(g.y=0);if(b instanceof V)a=b.dd.copy(),g.x*=d,g.y*=e,b.position=g,a.scale(d,e),b.dd=a;else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=g.x,d.y+=g.y,b.value.position=d;for(b.reset();b.next();)rq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=g.x,d.y-=g.y,b.value.position=d}}}
function sq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.dd.copy();if(e.type===Zc)e=a.Nr(e);else if(e.type===$c)e=vq(e);else if(e.type===Xc){e.type=Uc;var a=new Vc(e.pa,e.qa),g=new S(bd,e.D,e.F);a.Fa.add(g);e.yb.add(a)}e.offset(d.x,d.y);e.transform(1,0,Math.tan(c),1,-d.x,-d.y);c=e.normalize();b.dd=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)sq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function tq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.dd.copy();if(e.type===Zc)e=a.Nr(e);else if(e.type===$c)e=vq(e);else if(e.type===Xc){e.type=Uc;var a=new Vc(e.pa,e.qa),g=new S(bd,e.D,e.F);a.Fa.add(g);e.yb.add(a)}e.offset(d.x,d.y);e.transform(1,Math.tan(c),0,1,-d.x,-d.y);c=e.normalize();b.dd=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)tq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function oq(a){var b=q;if("polygon"===a.tagName)b=h;else if("polyline"!==a.tagName)return p;var c=new V,d=a.getAttribute("points"),a=new Tc,e=new H(Vc),g=d.split(/\s*[\s,]\s*/);if(4>g.length)return p;for(var i,d=new H(S),j,k,l=1;l<g.length;l+=2){j=eval(g[l-1]);k=eval(g[l]);if("number"!==typeof j||isNaN(j)||"number"!==typeof k||isNaN(k))return p;1===l?i=new Vc(j,k):d.add(new S(bd,j,k))}b&&(b=new S(bd,i.pa,i.qa),b.close(),d.add(b));i.Fa=d;e.add(i);a.yb=e;i=a.normalize();c.position=new K(-i.x,-i.y);
c.dd=a;return c}function pq(a,b,c){var d=b.getAttribute(c);"string"!==typeof d&&(d=b.style[c]);return"string"!==typeof d||""===d?(b=b.parentNode,"g"===b.tagName||"use"===b.tagName?pq(a,b,c):p):d}
function vq(a){var b=a.pa,c=a.qa,d=a.D,e=a.F,g=Math.abs(d-b)/2,i=Math.abs(e-c)/2,b=Math.min(b,d)+g,c=Math.min(c,e)+i;new K;e=new Vc(b,c-i);d=new S(sd);d.ac=b+ac*g;d.Fc=c-i;d.xg=b+g;d.yg=c-ac*i;d.D=b+g;d.F=c;e.Fa.add(d);d=new S(sd);d.ac=b+g;d.Fc=c+ac*i;d.xg=b+ac*g;d.yg=c+i;d.D=b;d.F=c+i;e.Fa.add(d);d=new S(sd);d.ac=b-ac*g;d.Fc=c+i;d.xg=b-g;d.yg=c+ac*i;d.D=b-g;d.F=c;e.Fa.add(d);d=new S(sd);d.ac=b-g;d.Fc=c-ac*i;d.xg=b-ac*g;d.yg=c-i;d.D=b;d.F=c-i;e.Fa.add(d);a.type=Uc;a.yb.add(e);return a}
mq.prototype.Nr=function(a){var b=a.pa,c=a.qa,d=a.D,e=a.F,g=Math.min(b,d),i=Math.min(c,e),b=Math.abs(d-b),c=Math.abs(e-c),e=new Vc(g,i);e.Fa.add(new S(bd,g+b,i));e.Fa.add(new S(bd,g+b,i+c));e.Fa.add((new S(bd,g,i+c)).close());a.type=Uc;a.yb.add(e);return a};window.go=ea;ea.version="1.1.11"; })(window);
